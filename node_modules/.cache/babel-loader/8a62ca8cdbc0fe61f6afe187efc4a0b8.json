{"ast":null,"code":"import _slicedToArray from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Percent,Token}from'@uniswap/sdk-core';import{computePairAddress}from'@uniswap/v2-sdk';import{useWeb3React}from'@web3-react/core';import{L2_CHAIN_IDS}from'constants/chains';import{L2_DEADLINE_FROM_NOW}from'constants/misc';import JSBI from'jsbi';import{useCallback,useMemo}from'react';import{shallowEqual}from'react-redux';import{useAppDispatch,useAppSelector}from'state/hooks';import{UserAddedToken}from'types/tokens';import{V2_FACTORY_ADDRESSES}from'../../constants/addresses';import{BASES_TO_TRACK_LIQUIDITY_FOR,PINNED_PAIRS}from'../../constants/routing';import{useAllTokens}from'../../hooks/Tokens';import{addSerializedPair,addSerializedToken,updateFiatOnrampAcknowledgments,updateHideClosedPositions,updateUserClientSideRouter,updateUserDarkMode,updateUserDeadline,updateUserExpertMode,updateUserLocale,updateUserSlippageTolerance}from'./reducer';function serializeToken(token){return{chainId:token.chainId,address:token.address,decimals:token.decimals,symbol:token.symbol,name:token.name};}function deserializeToken(serializedToken){var Class=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Token;return new Class(serializedToken.chainId,serializedToken.address,serializedToken.decimals,serializedToken.symbol,serializedToken.name);}export function useIsDarkMode(){var _useAppSelector=useAppSelector(function(_ref){var _ref$user=_ref.user,matchesDarkMode=_ref$user.matchesDarkMode,userDarkMode=_ref$user.userDarkMode;return{userDarkMode:userDarkMode,matchesDarkMode:matchesDarkMode};},shallowEqual),userDarkMode=_useAppSelector.userDarkMode,matchesDarkMode=_useAppSelector.matchesDarkMode;return userDarkMode===null?matchesDarkMode:userDarkMode;}export function useDarkModeManager(){var dispatch=useAppDispatch();var darkMode=useIsDarkMode();var toggleSetDarkMode=useCallback(function(){dispatch(updateUserDarkMode({userDarkMode:!darkMode}));},[darkMode,dispatch]);return[darkMode,toggleSetDarkMode];}export function useUserLocale(){return useAppSelector(function(state){return state.user.userLocale;});}export function useUserLocaleManager(){var dispatch=useAppDispatch();var locale=useUserLocale();var setLocale=useCallback(function(newLocale){dispatch(updateUserLocale({userLocale:newLocale}));},[dispatch]);return[locale,setLocale];}export function useIsExpertMode(){return useAppSelector(function(state){return state.user.userExpertMode;});}export function useExpertModeManager(){var dispatch=useAppDispatch();var expertMode=useIsExpertMode();var toggleSetExpertMode=useCallback(function(){dispatch(updateUserExpertMode({userExpertMode:!expertMode}));},[expertMode,dispatch]);return[expertMode,toggleSetExpertMode];}export function useFiatOnrampAck(){var dispatch=useAppDispatch();var fiatOnrampAcknowledgments=useAppSelector(function(state){return state.user.fiatOnrampAcknowledgments;});var setAcknowledgements=useCallback(function(acks){dispatch(updateFiatOnrampAcknowledgments(acks));},[dispatch]);return[fiatOnrampAcknowledgments,setAcknowledgements];}export function useClientSideRouter(){var dispatch=useAppDispatch();var clientSideRouter=useAppSelector(function(state){return Boolean(state.user.userClientSideRouter);});var setClientSideRouter=useCallback(function(newClientSideRouter){dispatch(updateUserClientSideRouter({userClientSideRouter:newClientSideRouter}));},[dispatch]);return[clientSideRouter,setClientSideRouter];}/**\n * Return the user's slippage tolerance, from the redux store, and a function to update the slippage tolerance\n */export function useUserSlippageTolerance(){var userSlippageToleranceRaw=useAppSelector(function(state){return state.user.userSlippageTolerance;});var userSlippageTolerance=useMemo(function(){return userSlippageToleranceRaw==='auto'?'auto':new Percent(userSlippageToleranceRaw,10000);},[userSlippageToleranceRaw]);var dispatch=useAppDispatch();var setUserSlippageTolerance=useCallback(function(userSlippageTolerance){var value;try{value=userSlippageTolerance==='auto'?'auto':JSBI.toNumber(userSlippageTolerance.multiply(10000).quotient);}catch(error){value='auto';}dispatch(updateUserSlippageTolerance({userSlippageTolerance:value}));},[dispatch]);return useMemo(function(){return[userSlippageTolerance,setUserSlippageTolerance];},[setUserSlippageTolerance,userSlippageTolerance]);}export function useUserHideClosedPositions(){var dispatch=useAppDispatch();var hideClosedPositions=useAppSelector(function(state){return state.user.userHideClosedPositions;});var setHideClosedPositions=useCallback(function(newHideClosedPositions){dispatch(updateHideClosedPositions({userHideClosedPositions:newHideClosedPositions}));},[dispatch]);return[hideClosedPositions,setHideClosedPositions];}/**\n * Same as above but replaces the auto with a default value\n * @param defaultSlippageTolerance the default value to replace auto with\n */export function useUserSlippageToleranceWithDefault(defaultSlippageTolerance){var allowedSlippage=useUserSlippageTolerance()[0];return useMemo(function(){return allowedSlippage==='auto'?defaultSlippageTolerance:allowedSlippage;},[allowedSlippage,defaultSlippageTolerance]);}export function useUserTransactionTTL(){var _useWeb3React=useWeb3React(),chainId=_useWeb3React.chainId;var dispatch=useAppDispatch();var userDeadline=useAppSelector(function(state){return state.user.userDeadline;});var onL2=Boolean(chainId&&L2_CHAIN_IDS.includes(chainId));var deadline=onL2?L2_DEADLINE_FROM_NOW:userDeadline;var setUserDeadline=useCallback(function(userDeadline){dispatch(updateUserDeadline({userDeadline:userDeadline}));},[dispatch]);return[deadline,setUserDeadline];}export function useAddUserToken(){var dispatch=useAppDispatch();return useCallback(function(token){dispatch(addSerializedToken({serializedToken:serializeToken(token)}));},[dispatch]);}export function useUserAddedTokensOnChain(chainId){var serializedTokensMap=useAppSelector(function(_ref2){var tokens=_ref2.user.tokens;return tokens;});return useMemo(function(){if(!chainId)return[];var tokenMap=(serializedTokensMap===null||serializedTokensMap===void 0?void 0:serializedTokensMap[chainId])?Object.values(serializedTokensMap[chainId]).map(function(value){return deserializeToken(value,UserAddedToken);}):[];return tokenMap;},[serializedTokensMap,chainId]);}export function useUserAddedTokens(){return useUserAddedTokensOnChain(useWeb3React().chainId);}function serializePair(pair){return{token0:serializeToken(pair.token0),token1:serializeToken(pair.token1)};}export function usePairAdder(){var dispatch=useAppDispatch();return useCallback(function(pair){dispatch(addSerializedPair({serializedPair:serializePair(pair)}));},[dispatch]);}export function useURLWarningVisible(){return useAppSelector(function(state){return state.user.URLWarningVisible;});}/**\n * Given two tokens return the liquidity token that represents its liquidity shares\n * @param tokenA one of the two tokens\n * @param tokenB the other token\n */export function toV2LiquidityToken(_ref3){var _ref4=_slicedToArray(_ref3,2),tokenA=_ref4[0],tokenB=_ref4[1];if(tokenA.chainId!==tokenB.chainId)throw new Error('Not matching chain IDs');if(tokenA.equals(tokenB))throw new Error('Tokens cannot be equal');if(!V2_FACTORY_ADDRESSES[tokenA.chainId])throw new Error('No V2 factory address on this chain');return new Token(tokenA.chainId,computePairAddress({factoryAddress:V2_FACTORY_ADDRESSES[tokenA.chainId],tokenA:tokenA,tokenB:tokenB}),18,'UNI-V2','Uniswap V2');}/**\n * Returns all the pairs of tokens that are tracked by the user for the current chain ID.\n */export function useTrackedTokenPairs(){var _useWeb3React2=useWeb3React(),chainId=_useWeb3React2.chainId;var tokens=useAllTokens();// pinned pairs\nvar pinnedPairs=useMemo(function(){var _PINNED_PAIRS$chainId;return chainId?(_PINNED_PAIRS$chainId=PINNED_PAIRS[chainId])!==null&&_PINNED_PAIRS$chainId!==void 0?_PINNED_PAIRS$chainId:[]:[];},[chainId]);// pairs for every token against every base\nvar generatedPairs=useMemo(function(){return chainId?Object.keys(tokens).flatMap(function(tokenAddress){var _BASES_TO_TRACK_LIQUI;var token=tokens[tokenAddress];// for each token on the current chain,\nreturn(// loop though all bases on the current chain\n((_BASES_TO_TRACK_LIQUI=BASES_TO_TRACK_LIQUIDITY_FOR[chainId])!==null&&_BASES_TO_TRACK_LIQUI!==void 0?_BASES_TO_TRACK_LIQUI:[]// to construct pairs of the given token with each base\n).map(function(base){if(base.address===token.address){return null;}else{return[base,token];}}).filter(function(p){return p!==null;}));}):[];},[tokens,chainId]);// pairs saved by users\nvar savedSerializedPairs=useAppSelector(function(_ref5){var pairs=_ref5.user.pairs;return pairs;});var userPairs=useMemo(function(){if(!chainId||!savedSerializedPairs)return[];var forChain=savedSerializedPairs[chainId];if(!forChain)return[];return Object.keys(forChain).map(function(pairId){return[deserializeToken(forChain[pairId].token0),deserializeToken(forChain[pairId].token1)];});},[savedSerializedPairs,chainId]);var combinedList=useMemo(function(){return userPairs.concat(generatedPairs).concat(pinnedPairs);},[generatedPairs,pinnedPairs,userPairs]);return useMemo(function(){// dedupes pairs of tokens in the combined list\nvar keyed=combinedList.reduce(function(memo,_ref6){var _ref7=_slicedToArray(_ref6,2),tokenA=_ref7[0],tokenB=_ref7[1];var sorted=tokenA.sortsBefore(tokenB);var key=sorted?\"\".concat(tokenA.address,\":\").concat(tokenB.address):\"\".concat(tokenB.address,\":\").concat(tokenA.address);if(memo[key])return memo;memo[key]=sorted?[tokenA,tokenB]:[tokenB,tokenA];return memo;},{});return Object.keys(keyed).map(function(key){return keyed[key];});},[combinedList]);}","map":{"version":3,"names":["Percent","Token","computePairAddress","useWeb3React","L2_CHAIN_IDS","L2_DEADLINE_FROM_NOW","JSBI","useCallback","useMemo","shallowEqual","useAppDispatch","useAppSelector","UserAddedToken","V2_FACTORY_ADDRESSES","BASES_TO_TRACK_LIQUIDITY_FOR","PINNED_PAIRS","useAllTokens","addSerializedPair","addSerializedToken","updateFiatOnrampAcknowledgments","updateHideClosedPositions","updateUserClientSideRouter","updateUserDarkMode","updateUserDeadline","updateUserExpertMode","updateUserLocale","updateUserSlippageTolerance","serializeToken","token","chainId","address","decimals","symbol","name","deserializeToken","serializedToken","Class","useIsDarkMode","user","matchesDarkMode","userDarkMode","useDarkModeManager","dispatch","darkMode","toggleSetDarkMode","useUserLocale","state","userLocale","useUserLocaleManager","locale","setLocale","newLocale","useIsExpertMode","userExpertMode","useExpertModeManager","expertMode","toggleSetExpertMode","useFiatOnrampAck","fiatOnrampAcknowledgments","setAcknowledgements","acks","useClientSideRouter","clientSideRouter","Boolean","userClientSideRouter","setClientSideRouter","newClientSideRouter","useUserSlippageTolerance","userSlippageToleranceRaw","userSlippageTolerance","setUserSlippageTolerance","value","toNumber","multiply","quotient","error","useUserHideClosedPositions","hideClosedPositions","userHideClosedPositions","setHideClosedPositions","newHideClosedPositions","useUserSlippageToleranceWithDefault","defaultSlippageTolerance","allowedSlippage","useUserTransactionTTL","userDeadline","onL2","includes","deadline","setUserDeadline","useAddUserToken","useUserAddedTokensOnChain","serializedTokensMap","tokens","tokenMap","Object","values","map","useUserAddedTokens","serializePair","pair","token0","token1","usePairAdder","serializedPair","useURLWarningVisible","URLWarningVisible","toV2LiquidityToken","tokenA","tokenB","Error","equals","factoryAddress","useTrackedTokenPairs","pinnedPairs","generatedPairs","keys","flatMap","tokenAddress","base","filter","p","savedSerializedPairs","pairs","userPairs","forChain","pairId","combinedList","concat","keyed","reduce","memo","sorted","sortsBefore","key"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/state/user/hooks.tsx"],"sourcesContent":["import { Percent, Token } from '@uniswap/sdk-core'\nimport { computePairAddress, Pair } from '@uniswap/v2-sdk'\nimport { useWeb3React } from '@web3-react/core'\nimport { L2_CHAIN_IDS } from 'constants/chains'\nimport { SupportedLocale } from 'constants/locales'\nimport { L2_DEADLINE_FROM_NOW } from 'constants/misc'\nimport JSBI from 'jsbi'\nimport { useCallback, useMemo } from 'react'\nimport { shallowEqual } from 'react-redux'\nimport { useAppDispatch, useAppSelector } from 'state/hooks'\nimport { UserAddedToken } from 'types/tokens'\n\nimport { V2_FACTORY_ADDRESSES } from '../../constants/addresses'\nimport { BASES_TO_TRACK_LIQUIDITY_FOR, PINNED_PAIRS } from '../../constants/routing'\nimport { useAllTokens } from '../../hooks/Tokens'\nimport { AppState } from '../index'\nimport {\n  addSerializedPair,\n  addSerializedToken,\n  updateFiatOnrampAcknowledgments,\n  updateHideClosedPositions,\n  updateUserClientSideRouter,\n  updateUserDarkMode,\n  updateUserDeadline,\n  updateUserExpertMode,\n  updateUserLocale,\n  updateUserSlippageTolerance,\n} from './reducer'\nimport { SerializedPair, SerializedToken } from './types'\n\nfunction serializeToken(token: Token): SerializedToken {\n  return {\n    chainId: token.chainId,\n    address: token.address,\n    decimals: token.decimals,\n    symbol: token.symbol,\n    name: token.name,\n  }\n}\n\nfunction deserializeToken(serializedToken: SerializedToken, Class: typeof Token = Token): Token {\n  return new Class(\n    serializedToken.chainId,\n    serializedToken.address,\n    serializedToken.decimals,\n    serializedToken.symbol,\n    serializedToken.name\n  )\n}\n\nexport function useIsDarkMode(): boolean {\n  const { userDarkMode, matchesDarkMode } = useAppSelector(\n    ({ user: { matchesDarkMode, userDarkMode } }) => ({\n      userDarkMode,\n      matchesDarkMode,\n    }),\n    shallowEqual\n  )\n\n  return userDarkMode === null ? matchesDarkMode : userDarkMode\n}\n\nexport function useDarkModeManager(): [boolean, () => void] {\n  const dispatch = useAppDispatch()\n  const darkMode = useIsDarkMode()\n\n  const toggleSetDarkMode = useCallback(() => {\n    dispatch(updateUserDarkMode({ userDarkMode: !darkMode }))\n  }, [darkMode, dispatch])\n\n  return [darkMode, toggleSetDarkMode]\n}\n\nexport function useUserLocale(): SupportedLocale | null {\n  return useAppSelector((state) => state.user.userLocale)\n}\n\nexport function useUserLocaleManager(): [SupportedLocale | null, (newLocale: SupportedLocale) => void] {\n  const dispatch = useAppDispatch()\n  const locale = useUserLocale()\n\n  const setLocale = useCallback(\n    (newLocale: SupportedLocale) => {\n      dispatch(updateUserLocale({ userLocale: newLocale }))\n    },\n    [dispatch]\n  )\n\n  return [locale, setLocale]\n}\n\nexport function useIsExpertMode(): boolean {\n  return useAppSelector((state) => state.user.userExpertMode)\n}\n\nexport function useExpertModeManager(): [boolean, () => void] {\n  const dispatch = useAppDispatch()\n  const expertMode = useIsExpertMode()\n\n  const toggleSetExpertMode = useCallback(() => {\n    dispatch(updateUserExpertMode({ userExpertMode: !expertMode }))\n  }, [expertMode, dispatch])\n\n  return [expertMode, toggleSetExpertMode]\n}\n\ninterface FiatOnrampAcknowledgements {\n  renderCount: number\n  system: boolean\n  user: boolean\n}\nexport function useFiatOnrampAck(): [\n  FiatOnrampAcknowledgements,\n  (acknowledgements: Partial<FiatOnrampAcknowledgements>) => void\n] {\n  const dispatch = useAppDispatch()\n  const fiatOnrampAcknowledgments = useAppSelector((state) => state.user.fiatOnrampAcknowledgments)\n  const setAcknowledgements = useCallback(\n    (acks: Partial<FiatOnrampAcknowledgements>) => {\n      dispatch(updateFiatOnrampAcknowledgments(acks))\n    },\n    [dispatch]\n  )\n  return [fiatOnrampAcknowledgments, setAcknowledgements]\n}\n\nexport function useClientSideRouter(): [boolean, (userClientSideRouter: boolean) => void] {\n  const dispatch = useAppDispatch()\n\n  const clientSideRouter = useAppSelector((state) => Boolean(state.user.userClientSideRouter))\n\n  const setClientSideRouter = useCallback(\n    (newClientSideRouter: boolean) => {\n      dispatch(updateUserClientSideRouter({ userClientSideRouter: newClientSideRouter }))\n    },\n    [dispatch]\n  )\n\n  return [clientSideRouter, setClientSideRouter]\n}\n\n/**\n * Return the user's slippage tolerance, from the redux store, and a function to update the slippage tolerance\n */\nexport function useUserSlippageTolerance(): [Percent | 'auto', (slippageTolerance: Percent | 'auto') => void] {\n  const userSlippageToleranceRaw = useAppSelector((state) => {\n    return state.user.userSlippageTolerance\n  })\n  const userSlippageTolerance = useMemo(\n    () => (userSlippageToleranceRaw === 'auto' ? 'auto' : new Percent(userSlippageToleranceRaw, 10_000)),\n    [userSlippageToleranceRaw]\n  )\n\n  const dispatch = useAppDispatch()\n  const setUserSlippageTolerance = useCallback(\n    (userSlippageTolerance: Percent | 'auto') => {\n      let value: 'auto' | number\n      try {\n        value =\n          userSlippageTolerance === 'auto' ? 'auto' : JSBI.toNumber(userSlippageTolerance.multiply(10_000).quotient)\n      } catch (error) {\n        value = 'auto'\n      }\n      dispatch(\n        updateUserSlippageTolerance({\n          userSlippageTolerance: value,\n        })\n      )\n    },\n    [dispatch]\n  )\n\n  return useMemo(\n    () => [userSlippageTolerance, setUserSlippageTolerance],\n    [setUserSlippageTolerance, userSlippageTolerance]\n  )\n}\n\nexport function useUserHideClosedPositions(): [boolean, (newHideClosedPositions: boolean) => void] {\n  const dispatch = useAppDispatch()\n\n  const hideClosedPositions = useAppSelector((state) => state.user.userHideClosedPositions)\n\n  const setHideClosedPositions = useCallback(\n    (newHideClosedPositions: boolean) => {\n      dispatch(updateHideClosedPositions({ userHideClosedPositions: newHideClosedPositions }))\n    },\n    [dispatch]\n  )\n\n  return [hideClosedPositions, setHideClosedPositions]\n}\n\n/**\n * Same as above but replaces the auto with a default value\n * @param defaultSlippageTolerance the default value to replace auto with\n */\nexport function useUserSlippageToleranceWithDefault(defaultSlippageTolerance: Percent): Percent {\n  const allowedSlippage = useUserSlippageTolerance()[0]\n  return useMemo(\n    () => (allowedSlippage === 'auto' ? defaultSlippageTolerance : allowedSlippage),\n    [allowedSlippage, defaultSlippageTolerance]\n  )\n}\n\nexport function useUserTransactionTTL(): [number, (slippage: number) => void] {\n  const { chainId } = useWeb3React()\n  const dispatch = useAppDispatch()\n  const userDeadline = useAppSelector((state) => state.user.userDeadline)\n  const onL2 = Boolean(chainId && L2_CHAIN_IDS.includes(chainId))\n  const deadline = onL2 ? L2_DEADLINE_FROM_NOW : userDeadline\n\n  const setUserDeadline = useCallback(\n    (userDeadline: number) => {\n      dispatch(updateUserDeadline({ userDeadline }))\n    },\n    [dispatch]\n  )\n\n  return [deadline, setUserDeadline]\n}\n\nexport function useAddUserToken(): (token: Token) => void {\n  const dispatch = useAppDispatch()\n  return useCallback(\n    (token: Token) => {\n      dispatch(addSerializedToken({ serializedToken: serializeToken(token) }))\n    },\n    [dispatch]\n  )\n}\n\nexport function useUserAddedTokensOnChain(chainId: number | undefined | null): Token[] {\n  const serializedTokensMap = useAppSelector(({ user: { tokens } }) => tokens)\n\n  return useMemo(() => {\n    if (!chainId) return []\n    const tokenMap: Token[] = serializedTokensMap?.[chainId]\n      ? Object.values(serializedTokensMap[chainId]).map((value) => deserializeToken(value, UserAddedToken))\n      : []\n    return tokenMap\n  }, [serializedTokensMap, chainId])\n}\n\nexport function useUserAddedTokens(): Token[] {\n  return useUserAddedTokensOnChain(useWeb3React().chainId)\n}\n\nfunction serializePair(pair: Pair): SerializedPair {\n  return {\n    token0: serializeToken(pair.token0),\n    token1: serializeToken(pair.token1),\n  }\n}\n\nexport function usePairAdder(): (pair: Pair) => void {\n  const dispatch = useAppDispatch()\n\n  return useCallback(\n    (pair: Pair) => {\n      dispatch(addSerializedPair({ serializedPair: serializePair(pair) }))\n    },\n    [dispatch]\n  )\n}\n\nexport function useURLWarningVisible(): boolean {\n  return useAppSelector((state: AppState) => state.user.URLWarningVisible)\n}\n\n/**\n * Given two tokens return the liquidity token that represents its liquidity shares\n * @param tokenA one of the two tokens\n * @param tokenB the other token\n */\nexport function toV2LiquidityToken([tokenA, tokenB]: [Token, Token]): Token {\n  if (tokenA.chainId !== tokenB.chainId) throw new Error('Not matching chain IDs')\n  if (tokenA.equals(tokenB)) throw new Error('Tokens cannot be equal')\n  if (!V2_FACTORY_ADDRESSES[tokenA.chainId]) throw new Error('No V2 factory address on this chain')\n\n  return new Token(\n    tokenA.chainId,\n    computePairAddress({ factoryAddress: V2_FACTORY_ADDRESSES[tokenA.chainId], tokenA, tokenB }),\n    18,\n    'UNI-V2',\n    'Uniswap V2'\n  )\n}\n\n/**\n * Returns all the pairs of tokens that are tracked by the user for the current chain ID.\n */\nexport function useTrackedTokenPairs(): [Token, Token][] {\n  const { chainId } = useWeb3React()\n  const tokens = useAllTokens()\n\n  // pinned pairs\n  const pinnedPairs = useMemo(() => (chainId ? PINNED_PAIRS[chainId] ?? [] : []), [chainId])\n\n  // pairs for every token against every base\n  const generatedPairs: [Token, Token][] = useMemo(\n    () =>\n      chainId\n        ? Object.keys(tokens).flatMap((tokenAddress) => {\n            const token = tokens[tokenAddress]\n            // for each token on the current chain,\n            return (\n              // loop though all bases on the current chain\n              (BASES_TO_TRACK_LIQUIDITY_FOR[chainId] ?? [])\n                // to construct pairs of the given token with each base\n                .map((base) => {\n                  if (base.address === token.address) {\n                    return null\n                  } else {\n                    return [base, token]\n                  }\n                })\n                .filter((p): p is [Token, Token] => p !== null)\n            )\n          })\n        : [],\n    [tokens, chainId]\n  )\n\n  // pairs saved by users\n  const savedSerializedPairs = useAppSelector(({ user: { pairs } }) => pairs)\n\n  const userPairs: [Token, Token][] = useMemo(() => {\n    if (!chainId || !savedSerializedPairs) return []\n    const forChain = savedSerializedPairs[chainId]\n    if (!forChain) return []\n\n    return Object.keys(forChain).map((pairId) => {\n      return [deserializeToken(forChain[pairId].token0), deserializeToken(forChain[pairId].token1)]\n    })\n  }, [savedSerializedPairs, chainId])\n\n  const combinedList = useMemo(\n    () => userPairs.concat(generatedPairs).concat(pinnedPairs),\n    [generatedPairs, pinnedPairs, userPairs]\n  )\n\n  return useMemo(() => {\n    // dedupes pairs of tokens in the combined list\n    const keyed = combinedList.reduce<{ [key: string]: [Token, Token] }>((memo, [tokenA, tokenB]) => {\n      const sorted = tokenA.sortsBefore(tokenB)\n      const key = sorted ? `${tokenA.address}:${tokenB.address}` : `${tokenB.address}:${tokenA.address}`\n      if (memo[key]) return memo\n      memo[key] = sorted ? [tokenA, tokenB] : [tokenB, tokenA]\n      return memo\n    }, {})\n\n    return Object.keys(keyed).map((key) => keyed[key])\n  }, [combinedList])\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}