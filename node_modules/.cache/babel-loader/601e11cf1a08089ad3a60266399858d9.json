{"ast":null,"code":"import _slicedToArray from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _styled from\"styled-components\";import useTheme from'hooks/useTheme';import{useEffect,useRef,useState}from'react';import{animated,useSpring}from'react-spring';import{Flex,Text}from'rebass';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";// function usePrevious(value: number) {\n//   const ref = useRef<number>(value)\n//   useEffect(() => {\n//     ref.current = value\n//   })\n//   return ref.current\n// }\nfunction formatForDisplay(){var number=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;if(number>1000000)return Math.max(number,0).toString().split('').reverse();else{return Math.max(number,0).toPrecision(6).split('').reverse();}}function DecimalColumn(){return/*#__PURE__*/_jsx(\"div\",{children:\".\"});}var TicketView=_styled.div.withConfig({componentId:\"sc-2n27bi-0\"})([\"height:100%;display:flex;flex-direction:row-reverse;overflow:hidden;font-size:\",\"px;position:relative;color:\",\";letter-spacing:-1px;margin-right:5px;\"],function(_ref){var fontSize=_ref.fontSize;return fontSize;},function(_ref2){var theme=_ref2.theme;return theme.textSecondary;});var NumberPlaceHolder=_styled.span.withConfig({componentId:\"sc-2n27bi-1\"})([\"visibility:hidden;\"]);var Container=_styled.div.withConfig({componentId:\"sc-2n27bi-2\"})([\"position:relative;height:\",\"px;\"],function(_ref3){var fontSize=_ref3.fontSize;return fontSize+4;});var TickerDigit=_styled.div.withConfig({componentId:\"sc-2n27bi-3\"})([\"height:10%;text-align:center;\"]);var TickerColumn=_styled(animated.div).withConfig({componentId:\"sc-2n27bi-4\"})([\"position:absolute;height:1000%;bottom:0;transition:all 0.6s cubic-bezier(0.4,-0.1,0.6,1) 1;\"]);function NumberColumn(_ref4){var digit=_ref4.digit,fontSize=_ref4.fontSize;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),position=_useState2[0],setPosition=_useState2[1];var columnContainer=useRef();var setColumnToNumber=function setColumnToNumber(number){if(columnContainer.current){var _ref5,_columnContainer$curr;setPosition((_ref5=((_columnContainer$curr=columnContainer.current)===null||_columnContainer$curr===void 0?void 0:_columnContainer$curr.clientHeight)*number)!==null&&_ref5!==void 0?_ref5:0);}};useEffect(function(){return setColumnToNumber(digit);},[digit]);var styles=useSpring({to:{transform:\"translateY(\".concat(position,\"px)\")}});return/*#__PURE__*/_jsxs(Container,{ref:columnContainer,fontSize:fontSize,children:[/*#__PURE__*/_jsx(TickerColumn,{style:styles,children:[9,8,7,6,5,4,3,2,1,0].map(function(num){return/*#__PURE__*/_jsx(TickerDigit,{children:num},num);})}),/*#__PURE__*/_jsx(NumberPlaceHolder,{children:\"0\"})]});}export default function AnimatingNumber(_ref6){var value=_ref6.value,symbol=_ref6.symbol,fontSize=_ref6.fontSize;var values=value.toString().split('e');var baseValue=parseFloat(values[0]);var eValue=values[1];var numArray=formatForDisplay(baseValue);var theme=useTheme();if(baseValue===Infinity){return null;}return/*#__PURE__*/_jsxs(Flex,{style:{fontWeight:500},children:[/*#__PURE__*/_jsx(TicketView,{fontSize:fontSize,children:numArray.map(function(number,index){return number==='.'?/*#__PURE__*/_jsx(DecimalColumn,{},index):/*#__PURE__*/_jsx(NumberColumn,{digit:parseInt(number),fontSize:fontSize},index);})}),eValue&&/*#__PURE__*/_jsxs(Flex,{fontSize:\"16px\",alignItems:\"flex-end\",color:theme.textSecondary,paddingBottom:\"3px\",paddingTop:\"5px\",children:[\"10\",/*#__PURE__*/_jsx(\"sup\",{style:{fontSize:'10px',alignSelf:'flex-start'},children:eValue})]}),symbol&&/*#__PURE__*/_jsx(Text,{fontSize:fontSize,color:theme.textSecondary,children:symbol})]});}","map":{"version":3,"names":["useTheme","useEffect","useRef","useState","animated","useSpring","Flex","Text","formatForDisplay","number","Math","max","toString","split","reverse","toPrecision","DecimalColumn","TicketView","styled","div","fontSize","theme","textSecondary","NumberPlaceHolder","span","Container","TickerDigit","TickerColumn","NumberColumn","digit","position","setPosition","columnContainer","setColumnToNumber","current","clientHeight","styles","to","transform","map","num","AnimatingNumber","value","symbol","values","baseValue","parseFloat","eValue","numArray","Infinity","fontWeight","index","parseInt","alignSelf"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/components/LiveChart/AnimatingNumber.tsx"],"sourcesContent":["import useTheme from 'hooks/useTheme'\nimport { useEffect, useRef, useState } from 'react'\nimport { animated, useSpring } from 'react-spring'\nimport { Flex, Text } from 'rebass'\nimport styled from 'styled-components/macro'\n\n// function usePrevious(value: number) {\n//   const ref = useRef<number>(value)\n\n//   useEffect(() => {\n//     ref.current = value\n//   })\n\n//   return ref.current\n// }\n\nfunction formatForDisplay(number = 0) {\n  if (number > 1000000) return Math.max(number, 0).toString().split('').reverse()\n  else {\n    return Math.max(number, 0).toPrecision(6).split('').reverse()\n  }\n}\n\nfunction DecimalColumn() {\n  return <div>.</div>\n}\n\nconst TicketView = styled.div<{ fontSize: number }>`\n  height: 100%;\n  display: flex;\n  flex-direction: row-reverse;\n  overflow: hidden;\n  font-size: ${({ fontSize }) => fontSize}px;\n  position: relative;\n  color: ${({ theme }) => theme.textSecondary};\n  letter-spacing: -1px;\n  margin-right: 5px;\n`\n\nconst NumberPlaceHolder = styled.span`\n  visibility: hidden;\n`\n\nconst Container = styled.div<{ fontSize: number }>`\n  position: relative;\n  height: ${({ fontSize }) => fontSize + 4}px;\n`\n\nconst TickerDigit = styled.div`\n  height: 10%;\n  text-align: center;\n`\n\nconst TickerColumn = styled(animated.div)`\n  position: absolute;\n  height: 1000%;\n  bottom: 0;\n  transition: all 0.6s cubic-bezier(0.4, -0.1, 0.6, 1) 1;\n`\n\nfunction NumberColumn({ digit, fontSize }: { digit: number; fontSize: number }) {\n  const [position, setPosition] = useState(0)\n  const columnContainer = useRef<HTMLDivElement>()\n\n  const setColumnToNumber = (number: number) => {\n    if (columnContainer.current) {\n      setPosition(columnContainer.current?.clientHeight * number ?? 0)\n    }\n  }\n\n  useEffect(() => setColumnToNumber(digit), [digit])\n\n  const styles = useSpring({\n    to: { transform: `translateY(${position}px)` },\n  })\n\n  return (\n    <Container ref={columnContainer as any} fontSize={fontSize}>\n      <TickerColumn style={styles}>\n        {[9, 8, 7, 6, 5, 4, 3, 2, 1, 0].map((num) => (\n          <TickerDigit key={num}>{num}</TickerDigit>\n        ))}\n      </TickerColumn>\n      <NumberPlaceHolder>0</NumberPlaceHolder>\n    </Container>\n  )\n}\n\nexport default function AnimatingNumber({\n  value,\n  symbol,\n  fontSize,\n}: {\n  value: number\n  symbol: string | undefined\n  fontSize: number\n}) {\n  const values = value.toString().split('e')\n  const baseValue = parseFloat(values[0])\n  const eValue = values[1]\n  const numArray = formatForDisplay(baseValue)\n  const theme = useTheme()\n\n  if (baseValue === Infinity) {\n    return null\n  }\n\n  return (\n    <Flex style={{ fontWeight: 500 }}>\n      <TicketView fontSize={fontSize}>\n        {numArray.map((number, index) =>\n          number === '.' ? (\n            <DecimalColumn key={index} />\n          ) : (\n            <NumberColumn key={index} digit={parseInt(number)} fontSize={fontSize} />\n          )\n        )}\n      </TicketView>\n      {eValue && (\n        <Flex fontSize=\"16px\" alignItems=\"flex-end\" color={theme.textSecondary} paddingBottom=\"3px\" paddingTop=\"5px\">\n          10<sup style={{ fontSize: '10px', alignSelf: 'flex-start' }}>{eValue}</sup>\n        </Flex>\n      )}\n      {symbol && (\n        <Text fontSize={fontSize} color={theme.textSecondary}>\n          {symbol}\n        </Text>\n      )}\n    </Flex>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}