{"ast":null,"code":"import _objectSpread from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _styled from\"styled-components\";import{OpacityHoverState}from'components/Common';import{Denomination,TimePeriod}from'nft/types';import{fetchPrice}from'nft/utils';import{useMemo,useState}from'react';import{useQuery}from'react-query';import{ThemedText}from'theme';import{fetchTrendingCollections}from'../../queries';import CollectionTable from'./CollectionTable';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var timeOptions=[{label:'1D',value:TimePeriod.OneDay},{label:'1W',value:TimePeriod.SevenDays},{label:'1M',value:TimePeriod.ThirtyDays},{label:'All',value:TimePeriod.AllTime}];var ExploreContainer=_styled.div.withConfig({componentId:\"sc-1dnk851-0\"})([\"display:flex;flex-direction:column;width:100%;max-width:1200px;padding:0 16px;\"]);var StyledHeader=_styled.div.withConfig({componentId:\"sc-1dnk851-1\"})([\"color:\",\";font-size:36px;line-height:44px;weight:500;@media only screen and (max-width:\",\"){font-size:20px;line-height:28px;}\"],function(_ref){var theme=_ref.theme;return theme.textPrimary;},function(_ref2){var theme=_ref2.theme;return\"\".concat(theme.breakpoint.sm,\"px\");});var FiltersRow=_styled.div.withConfig({componentId:\"sc-1dnk851-2\"})([\"display:flex;justify-content:space-between;margin-top:36px;margin-bottom:20px;@media only screen and (max-width:\",\"){margin-bottom:16px;margin-top:16px;}\"],function(_ref3){var theme=_ref3.theme;return\"\".concat(theme.breakpoint.sm,\"px\");});var Filter=_styled.div.withConfig({componentId:\"sc-1dnk851-3\"})([\"display:flex;border:1px solid \",\";border-radius:16px;padding:4px;\"],function(_ref4){var theme=_ref4.theme;return theme.backgroundOutline;});var Selector=_styled.div.withConfig({componentId:\"sc-1dnk851-4\"})([\"padding:8px 12px;border-radius:12px;background:\",\";cursor:pointer;\",\"\"],function(_ref5){var active=_ref5.active,theme=_ref5.theme;return active?theme.backgroundInteractive:'none';},OpacityHoverState);var StyledSelectorText=_styled(ThemedText.SubHeader).withConfig({componentId:\"sc-1dnk851-5\"})([\"color:\",\";\"],function(_ref6){var theme=_ref6.theme,active=_ref6.active;return active?theme.textPrimary:theme.textSecondary;});var TrendingCollections=function TrendingCollections(){var _useState=useState(TimePeriod.OneDay),_useState2=_slicedToArray(_useState,2),timePeriod=_useState2[0],setTimePeriod=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),isEthToggled=_useState4[0],setEthToggled=_useState4[1];var _useQuery=useQuery(['trendingCollections',timePeriod],function(){return fetchTrendingCollections({volumeType:'eth',timePeriod:timePeriod,size:100});},{refetchOnReconnect:false,refetchOnWindowFocus:false,refetchOnMount:false,refetchInterval:5000}),isSuccess=_useQuery.isSuccess,data=_useQuery.data;var _useQuery2=useQuery(['fetchPrice',{}],function(){return fetchPrice();},{refetchOnReconnect:false,refetchOnWindowFocus:false,refetchOnMount:false,refetchInterval:60000}),usdPrice=_useQuery2.data;var trendingCollections=useMemo(function(){if(isSuccess&&data){return data.map(function(d){return _objectSpread(_objectSpread({},d),{},{collection:{name:d.name,logo:d.imageUrl,address:d.address,isVerified:d.isVerified},volume:{value:d.volume,change:d.volumeChange,type:'eth'},floor:{value:d.floor,change:d.floorChange},owners:{value:d.owners,change:d.ownersChange},sales:d.sales,totalSupply:d.totalSupply,denomination:isEthToggled?Denomination.ETH:Denomination.USD,usdPrice:usdPrice});});}else return[];},[data,isSuccess,isEthToggled,usdPrice]);return/*#__PURE__*/_jsxs(ExploreContainer,{children:[/*#__PURE__*/_jsx(StyledHeader,{children:\"Trending NFT collections\"}),/*#__PURE__*/_jsxs(FiltersRow,{children:[/*#__PURE__*/_jsx(Filter,{children:timeOptions.map(function(timeOption){return/*#__PURE__*/_jsx(Selector,{active:timeOption.value===timePeriod,onClick:function onClick(){return setTimePeriod(timeOption.value);},children:/*#__PURE__*/_jsx(StyledSelectorText,{lineHeight:\"20px\",active:timeOption.value===timePeriod,children:timeOption.label})},timeOption.value);})}),/*#__PURE__*/_jsxs(Filter,{onClick:function onClick(){return setEthToggled(!isEthToggled);},children:[/*#__PURE__*/_jsx(Selector,{active:isEthToggled,children:/*#__PURE__*/_jsx(StyledSelectorText,{lineHeight:\"20px\",active:isEthToggled,children:\"ETH\"})}),/*#__PURE__*/_jsx(Selector,{active:!isEthToggled,children:/*#__PURE__*/_jsx(StyledSelectorText,{lineHeight:\"20px\",active:!isEthToggled,children:\"USD\"})})]})]}),/*#__PURE__*/_jsx(CollectionTable,{data:trendingCollections,timePeriod:timePeriod})]});};export default TrendingCollections;","map":{"version":3,"names":["OpacityHoverState","Denomination","TimePeriod","fetchPrice","useMemo","useState","useQuery","ThemedText","fetchTrendingCollections","CollectionTable","timeOptions","label","value","OneDay","SevenDays","ThirtyDays","AllTime","ExploreContainer","styled","div","StyledHeader","theme","textPrimary","breakpoint","sm","FiltersRow","Filter","backgroundOutline","Selector","active","backgroundInteractive","StyledSelectorText","SubHeader","textSecondary","TrendingCollections","timePeriod","setTimePeriod","isEthToggled","setEthToggled","volumeType","size","refetchOnReconnect","refetchOnWindowFocus","refetchOnMount","refetchInterval","isSuccess","data","usdPrice","trendingCollections","map","d","collection","name","logo","imageUrl","address","isVerified","volume","change","volumeChange","type","floor","floorChange","owners","ownersChange","sales","totalSupply","denomination","ETH","USD","timeOption"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/nft/components/explore/TrendingCollections.tsx"],"sourcesContent":["import { OpacityHoverState } from 'components/Common'\nimport ms from 'ms.macro'\nimport { CollectionTableColumn, Denomination, TimePeriod, VolumeType } from 'nft/types'\nimport { fetchPrice } from 'nft/utils'\nimport { useMemo, useState } from 'react'\nimport { useQuery } from 'react-query'\nimport styled from 'styled-components/macro'\nimport { ThemedText } from 'theme'\n\nimport { fetchTrendingCollections } from '../../queries'\nimport CollectionTable from './CollectionTable'\n\nconst timeOptions: { label: string; value: TimePeriod }[] = [\n  { label: '1D', value: TimePeriod.OneDay },\n  { label: '1W', value: TimePeriod.SevenDays },\n  { label: '1M', value: TimePeriod.ThirtyDays },\n  { label: 'All', value: TimePeriod.AllTime },\n]\n\nconst ExploreContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  max-width: 1200px;\n  padding: 0 16px;\n`\n\nconst StyledHeader = styled.div`\n  color: ${({ theme }) => theme.textPrimary};\n  font-size: 36px;\n  line-height: 44px;\n  weight: 500;\n\n  @media only screen and (max-width: ${({ theme }) => `${theme.breakpoint.sm}px`}) {\n    font-size: 20px;\n    line-height: 28px;\n  }\n`\n\nconst FiltersRow = styled.div`\n  display: flex;\n  justify-content: space-between;\n  margin-top: 36px;\n  margin-bottom: 20px;\n\n  @media only screen and (max-width: ${({ theme }) => `${theme.breakpoint.sm}px`}) {\n    margin-bottom: 16px;\n    margin-top: 16px;\n  }\n`\n\nconst Filter = styled.div`\n  display: flex;\n  border: 1px solid ${({ theme }) => theme.backgroundOutline};\n  border-radius: 16px;\n  padding: 4px;\n`\n\nconst Selector = styled.div<{ active: boolean }>`\n  padding: 8px 12px;\n  border-radius: 12px;\n  background: ${({ active, theme }) => (active ? theme.backgroundInteractive : 'none')};\n  cursor: pointer;\n\n  ${OpacityHoverState}\n`\n\nconst StyledSelectorText = styled(ThemedText.SubHeader)<{ active: boolean }>`\n  color: ${({ theme, active }) => (active ? theme.textPrimary : theme.textSecondary)};\n`\n\nconst TrendingCollections = () => {\n  const [timePeriod, setTimePeriod] = useState<TimePeriod>(TimePeriod.OneDay)\n  const [isEthToggled, setEthToggled] = useState(true)\n\n  const { isSuccess, data } = useQuery(\n    ['trendingCollections', timePeriod],\n    () => {\n      return fetchTrendingCollections({ volumeType: 'eth', timePeriod, size: 100 })\n    },\n    {\n      refetchOnReconnect: false,\n      refetchOnWindowFocus: false,\n      refetchOnMount: false,\n      refetchInterval: 5000,\n    }\n  )\n\n  const { data: usdPrice } = useQuery(['fetchPrice', {}], () => fetchPrice(), {\n    refetchOnReconnect: false,\n    refetchOnWindowFocus: false,\n    refetchOnMount: false,\n    refetchInterval: ms`1m`,\n  })\n\n  const trendingCollections = useMemo(() => {\n    if (isSuccess && data) {\n      return data.map((d) => ({\n        ...d,\n        collection: {\n          name: d.name,\n          logo: d.imageUrl,\n          address: d.address,\n          isVerified: d.isVerified,\n        },\n        volume: {\n          value: d.volume,\n          change: d.volumeChange,\n          type: 'eth' as VolumeType,\n        },\n        floor: {\n          value: d.floor,\n          change: d.floorChange,\n        },\n        owners: {\n          value: d.owners,\n          change: d.ownersChange,\n        },\n        sales: d.sales,\n        totalSupply: d.totalSupply,\n        denomination: isEthToggled ? Denomination.ETH : Denomination.USD,\n        usdPrice,\n      }))\n    } else return [] as CollectionTableColumn[]\n  }, [data, isSuccess, isEthToggled, usdPrice])\n\n  return (\n    <ExploreContainer>\n      <StyledHeader>Trending NFT collections</StyledHeader>\n      <FiltersRow>\n        <Filter>\n          {timeOptions.map((timeOption) => {\n            return (\n              <Selector\n                key={timeOption.value}\n                active={timeOption.value === timePeriod}\n                onClick={() => setTimePeriod(timeOption.value)}\n              >\n                <StyledSelectorText lineHeight=\"20px\" active={timeOption.value === timePeriod}>\n                  {timeOption.label}\n                </StyledSelectorText>\n              </Selector>\n            )\n          })}\n        </Filter>\n        <Filter onClick={() => setEthToggled(!isEthToggled)}>\n          <Selector active={isEthToggled}>\n            <StyledSelectorText lineHeight=\"20px\" active={isEthToggled}>\n              ETH\n            </StyledSelectorText>\n          </Selector>\n          <Selector active={!isEthToggled}>\n            <StyledSelectorText lineHeight=\"20px\" active={!isEthToggled}>\n              USD\n            </StyledSelectorText>\n          </Selector>\n        </Filter>\n      </FiltersRow>\n      <CollectionTable data={trendingCollections} timePeriod={timePeriod} />\n    </ExploreContainer>\n  )\n}\n\nexport default TrendingCollections\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}