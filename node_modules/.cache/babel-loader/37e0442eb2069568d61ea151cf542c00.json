{"ast":null,"code":"import _objectSpread from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _taggedTemplateLiteral from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject;import{parseEther}from'@ethersproject/units';import gql from'graphql-tag';import{useMemo}from'react';import{useDetailsQuery}from'../__generated__/types-and-hooks';gql(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  query Details($address: String!, $tokenId: String!) {\\n    nftAssets(address: $address, filter: { listed: false, tokenIds: [$tokenId] }) {\\n      edges {\\n        node {\\n          id\\n          name\\n          ownerAddress\\n          image {\\n            url\\n          }\\n          smallImage {\\n            url\\n          }\\n          originalImage {\\n            url\\n          }\\n          tokenId\\n          description\\n          animationUrl\\n          suspiciousFlag\\n          creator {\\n            address\\n            profileImage {\\n              url\\n            }\\n            isVerified\\n          }\\n          collection {\\n            name\\n            isVerified\\n            numAssets\\n            twitterName\\n            discordUrl\\n            homepageUrl\\n            image {\\n              url\\n            }\\n            nftContracts {\\n              address\\n              standard\\n            }\\n            description\\n          }\\n          listings(first: 1) {\\n            edges {\\n              node {\\n                address\\n                createdAt\\n                endAt\\n                id\\n                maker\\n                marketplace\\n                marketplaceUrl\\n                orderHash\\n                price {\\n                  currency\\n                  value\\n                }\\n                quantity\\n                startAt\\n                status\\n                taker\\n                tokenId\\n                type\\n                protocolParameters\\n              }\\n              cursor\\n            }\\n          }\\n          rarities {\\n            provider\\n            rank\\n            score\\n          }\\n          metadataUrl\\n          traits {\\n            name\\n            value\\n          }\\n        }\\n      }\\n    }\\n  }\\n\"])));export function useNftAssetDetails(address,tokenId){var _queryData$nftAssets,_queryData$nftAssets$,_asset$listings,_asset$listings$edges,_listing$price$value$,_listing$price,_listing$price$value;var _useDetailsQuery=useDetailsQuery({variables:{address:address,tokenId:tokenId}}),queryData=_useDetailsQuery.data,loading=_useDetailsQuery.loading;var asset=queryData===null||queryData===void 0?void 0:(_queryData$nftAssets=queryData.nftAssets)===null||_queryData$nftAssets===void 0?void 0:(_queryData$nftAssets$=_queryData$nftAssets.edges[0])===null||_queryData$nftAssets$===void 0?void 0:_queryData$nftAssets$.node;var collection=asset===null||asset===void 0?void 0:asset.collection;var listing=asset===null||asset===void 0?void 0:(_asset$listings=asset.listings)===null||_asset$listings===void 0?void 0:(_asset$listings$edges=_asset$listings.edges[0])===null||_asset$listings$edges===void 0?void 0:_asset$listings$edges.node;var ethPrice=parseEther((_listing$price$value$=listing===null||listing===void 0?void 0:(_listing$price=listing.price)===null||_listing$price===void 0?void 0:(_listing$price$value=_listing$price.value)===null||_listing$price$value===void 0?void 0:_listing$price$value.toString())!==null&&_listing$price$value$!==void 0?_listing$price$value$:'0').toString();return useMemo(function(){var _asset$collection,_asset$collection2,_asset$collection2$im,_asset$image,_asset$listings2,_asset$smallImage,_asset$collection3,_asset$collection3$nf,_asset$collection3$nf2,_asset$collection4,_asset$rarities,_asset$creator$profil,_asset$creator,_asset$creator$profil2,_asset$creator$addres,_asset$creator2,_asset$metadataUrl,_asset$traits,_collection$image;return{data:[{id:asset===null||asset===void 0?void 0:asset.id,address:address,notForSale:(asset===null||asset===void 0?void 0:asset.listings)===null,collectionName:asset===null||asset===void 0?void 0:(_asset$collection=asset.collection)===null||_asset$collection===void 0?void 0:_asset$collection.name,collectionSymbol:asset===null||asset===void 0?void 0:(_asset$collection2=asset.collection)===null||_asset$collection2===void 0?void 0:(_asset$collection2$im=_asset$collection2.image)===null||_asset$collection2$im===void 0?void 0:_asset$collection2$im.url,imageUrl:asset===null||asset===void 0?void 0:(_asset$image=asset.image)===null||_asset$image===void 0?void 0:_asset$image.url,animationUrl:asset===null||asset===void 0?void 0:asset.animationUrl,marketplace:listing===null||listing===void 0?void 0:listing.marketplace.toLowerCase(),name:asset===null||asset===void 0?void 0:asset.name,priceInfo:{ETHPrice:ethPrice,baseAsset:'ETH',baseDecimals:'18',basePrice:ethPrice},susFlag:asset===null||asset===void 0?void 0:asset.suspiciousFlag,sellorders:asset===null||asset===void 0?void 0:(_asset$listings2=asset.listings)===null||_asset$listings2===void 0?void 0:_asset$listings2.edges.map(function(listingNode){return _objectSpread(_objectSpread({},listingNode.node),{},{protocolParameters:listingNode.node.protocolParameters?JSON.parse(listingNode.node.protocolParameters.toString()):undefined});}),smallImageUrl:asset===null||asset===void 0?void 0:(_asset$smallImage=asset.smallImage)===null||_asset$smallImage===void 0?void 0:_asset$smallImage.url,tokenId:tokenId,tokenType:asset===null||asset===void 0?void 0:(_asset$collection3=asset.collection)===null||_asset$collection3===void 0?void 0:(_asset$collection3$nf=_asset$collection3.nftContracts)===null||_asset$collection3$nf===void 0?void 0:(_asset$collection3$nf2=_asset$collection3$nf[0])===null||_asset$collection3$nf2===void 0?void 0:_asset$collection3$nf2.standard,collectionIsVerified:asset===null||asset===void 0?void 0:(_asset$collection4=asset.collection)===null||_asset$collection4===void 0?void 0:_asset$collection4.isVerified,rarity:{primaryProvider:'Rarity Sniper',// TODO update when backend adds more providers\nproviders:asset===null||asset===void 0?void 0:(_asset$rarities=asset.rarities)===null||_asset$rarities===void 0?void 0:_asset$rarities.map(function(rarity){return{rank:rarity.rank,score:rarity.score,provider:'Rarity Sniper'};})},ownerAddress:asset===null||asset===void 0?void 0:asset.ownerAddress,creator:{profile_img_url:(_asset$creator$profil=asset===null||asset===void 0?void 0:(_asset$creator=asset.creator)===null||_asset$creator===void 0?void 0:(_asset$creator$profil2=_asset$creator.profileImage)===null||_asset$creator$profil2===void 0?void 0:_asset$creator$profil2.url)!==null&&_asset$creator$profil!==void 0?_asset$creator$profil:'',address:(_asset$creator$addres=asset===null||asset===void 0?void 0:(_asset$creator2=asset.creator)===null||_asset$creator2===void 0?void 0:_asset$creator2.address)!==null&&_asset$creator$addres!==void 0?_asset$creator$addres:''},metadataUrl:(_asset$metadataUrl=asset===null||asset===void 0?void 0:asset.metadataUrl)!==null&&_asset$metadataUrl!==void 0?_asset$metadataUrl:'',traits:asset===null||asset===void 0?void 0:(_asset$traits=asset.traits)===null||_asset$traits===void 0?void 0:_asset$traits.map(function(trait){var _trait$name,_trait$value;return{trait_type:(_trait$name=trait.name)!==null&&_trait$name!==void 0?_trait$name:'',trait_value:(_trait$value=trait.value)!==null&&_trait$value!==void 0?_trait$value:''};})},{collectionDescription:collection===null||collection===void 0?void 0:collection.description,collectionImageUrl:collection===null||collection===void 0?void 0:(_collection$image=collection.image)===null||_collection$image===void 0?void 0:_collection$image.url,collectionName:collection===null||collection===void 0?void 0:collection.name,isVerified:collection===null||collection===void 0?void 0:collection.isVerified,totalSupply:collection===null||collection===void 0?void 0:collection.numAssets,twitterUrl:collection===null||collection===void 0?void 0:collection.twitterName,discordUrl:collection===null||collection===void 0?void 0:collection.discordUrl,externalUrl:collection===null||collection===void 0?void 0:collection.homepageUrl}],loading:loading};},[address,asset,collection,ethPrice,listing===null||listing===void 0?void 0:listing.marketplace,loading,tokenId]);}","map":{"version":3,"names":["parseEther","gql","useMemo","useDetailsQuery","useNftAssetDetails","address","tokenId","variables","queryData","data","loading","asset","nftAssets","edges","node","collection","listing","listings","ethPrice","price","value","toString","id","notForSale","collectionName","name","collectionSymbol","image","url","imageUrl","animationUrl","marketplace","toLowerCase","priceInfo","ETHPrice","baseAsset","baseDecimals","basePrice","susFlag","suspiciousFlag","sellorders","map","listingNode","protocolParameters","JSON","parse","undefined","smallImageUrl","smallImage","tokenType","nftContracts","standard","collectionIsVerified","isVerified","rarity","primaryProvider","providers","rarities","rank","score","provider","ownerAddress","creator","profile_img_url","profileImage","metadataUrl","traits","trait","trait_type","trait_value","collectionDescription","description","collectionImageUrl","totalSupply","numAssets","twitterUrl","twitterName","discordUrl","externalUrl","homepageUrl"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/graphql/data/nft/Details.ts"],"sourcesContent":["import { parseEther } from '@ethersproject/units'\nimport gql from 'graphql-tag'\nimport { CollectionInfoForAsset, GenieAsset, Markets, SellOrder } from 'nft/types'\nimport { useMemo } from 'react'\n\nimport { NftAsset, useDetailsQuery } from '../__generated__/types-and-hooks'\n\ngql`\n  query Details($address: String!, $tokenId: String!) {\n    nftAssets(address: $address, filter: { listed: false, tokenIds: [$tokenId] }) {\n      edges {\n        node {\n          id\n          name\n          ownerAddress\n          image {\n            url\n          }\n          smallImage {\n            url\n          }\n          originalImage {\n            url\n          }\n          tokenId\n          description\n          animationUrl\n          suspiciousFlag\n          creator {\n            address\n            profileImage {\n              url\n            }\n            isVerified\n          }\n          collection {\n            name\n            isVerified\n            numAssets\n            twitterName\n            discordUrl\n            homepageUrl\n            image {\n              url\n            }\n            nftContracts {\n              address\n              standard\n            }\n            description\n          }\n          listings(first: 1) {\n            edges {\n              node {\n                address\n                createdAt\n                endAt\n                id\n                maker\n                marketplace\n                marketplaceUrl\n                orderHash\n                price {\n                  currency\n                  value\n                }\n                quantity\n                startAt\n                status\n                taker\n                tokenId\n                type\n                protocolParameters\n              }\n              cursor\n            }\n          }\n          rarities {\n            provider\n            rank\n            score\n          }\n          metadataUrl\n          traits {\n            name\n            value\n          }\n        }\n      }\n    }\n  }\n`\n\nexport function useNftAssetDetails(\n  address: string,\n  tokenId: string\n): { data: [GenieAsset, CollectionInfoForAsset]; loading: boolean } {\n  const { data: queryData, loading } = useDetailsQuery({\n    variables: {\n      address,\n      tokenId,\n    },\n  })\n\n  const asset = queryData?.nftAssets?.edges[0]?.node as NonNullable<NftAsset> | undefined\n  const collection = asset?.collection\n  const listing = asset?.listings?.edges[0]?.node\n  const ethPrice = parseEther(listing?.price?.value?.toString() ?? '0').toString()\n\n  return useMemo(\n    () => ({\n      data: [\n        {\n          id: asset?.id,\n          address,\n          notForSale: asset?.listings === null,\n          collectionName: asset?.collection?.name,\n          collectionSymbol: asset?.collection?.image?.url,\n          imageUrl: asset?.image?.url,\n          animationUrl: asset?.animationUrl,\n          marketplace: listing?.marketplace.toLowerCase() as unknown as Markets,\n          name: asset?.name,\n          priceInfo: {\n            ETHPrice: ethPrice,\n            baseAsset: 'ETH',\n            baseDecimals: '18',\n            basePrice: ethPrice,\n          },\n          susFlag: asset?.suspiciousFlag,\n          sellorders: asset?.listings?.edges.map((listingNode) => {\n            return {\n              ...listingNode.node,\n              protocolParameters: listingNode.node.protocolParameters\n                ? JSON.parse(listingNode.node.protocolParameters.toString())\n                : undefined,\n            } as SellOrder\n          }),\n          smallImageUrl: asset?.smallImage?.url,\n          tokenId,\n          tokenType: asset?.collection?.nftContracts?.[0]?.standard,\n          collectionIsVerified: asset?.collection?.isVerified,\n          rarity: {\n            primaryProvider: 'Rarity Sniper', // TODO update when backend adds more providers\n            providers: asset?.rarities?.map((rarity) => {\n              return {\n                rank: rarity.rank,\n                score: rarity.score,\n                provider: 'Rarity Sniper',\n              }\n            }),\n          },\n          ownerAddress: asset?.ownerAddress,\n          creator: {\n            profile_img_url: asset?.creator?.profileImage?.url ?? '',\n            address: asset?.creator?.address ?? '',\n          },\n          metadataUrl: asset?.metadataUrl ?? '',\n          traits: asset?.traits?.map((trait) => {\n            return { trait_type: trait.name ?? '', trait_value: trait.value ?? '' }\n          }),\n        },\n        {\n          collectionDescription: collection?.description,\n          collectionImageUrl: collection?.image?.url,\n          collectionName: collection?.name,\n          isVerified: collection?.isVerified,\n          totalSupply: collection?.numAssets,\n          twitterUrl: collection?.twitterName,\n          discordUrl: collection?.discordUrl,\n          externalUrl: collection?.homepageUrl,\n        },\n      ],\n      loading,\n    }),\n    [address, asset, collection, ethPrice, listing?.marketplace, loading, tokenId]\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}