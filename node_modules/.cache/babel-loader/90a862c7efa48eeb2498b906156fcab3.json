{"ast":null,"code":"import _slicedToArray from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import{useTheme as _useTheme}from\"styled-components\";import _styled from\"styled-components\";var _DISPLAYS;import{TimePeriod}from'graphql/data/util';import{useOnClickOutside}from'hooks/useOnClickOutside';import{useAtom}from'jotai';import{useRef}from'react';import{Check,ChevronDown,ChevronUp}from'react-feather';import{useModalIsOpen,useToggleModal}from'state/application/hooks';import{ApplicationModal}from'state/application/reducer';import{MOBILE_MEDIA_BREAKPOINT,SMALL_MEDIA_BREAKPOINT}from'../constants';import{filterTimeAtom}from'../state';import FilterOption from'./FilterOption';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var DISPLAYS=(_DISPLAYS={},_defineProperty(_DISPLAYS,TimePeriod.HOUR,'1H'),_defineProperty(_DISPLAYS,TimePeriod.DAY,'1D'),_defineProperty(_DISPLAYS,TimePeriod.WEEK,'1W'),_defineProperty(_DISPLAYS,TimePeriod.MONTH,'1M'),_defineProperty(_DISPLAYS,TimePeriod.YEAR,'1Y'),_DISPLAYS);export var ORDERED_TIMES=[TimePeriod.HOUR,TimePeriod.DAY,TimePeriod.WEEK,TimePeriod.MONTH,TimePeriod.YEAR];var InternalMenuItem=_styled.div.withConfig({componentId:\"sc-sagiue-0\"})([\"flex:1;padding:8px;color:\",\";border-radius:8px;:hover{cursor:pointer;text-decoration:none;}\"],function(_ref){var theme=_ref.theme;return theme.textPrimary;});var InternalLinkMenuItem=_styled(InternalMenuItem).withConfig({componentId:\"sc-sagiue-1\"})([\"display:flex;flex-direction:row;align-items:center;padding:12px 8px;justify-content:space-between;text-decoration:none;cursor:pointer;:hover{background-color:\",\";text-decoration:none;}\"],function(_ref2){var theme=_ref2.theme;return theme.hoverState;});var MenuTimeFlyout=_styled.span.withConfig({componentId:\"sc-sagiue-2\"})([\"min-width:240px;max-height:300px;overflow:auto;background-color:\",\";box-shadow:\",\";border:0.5px solid \",\";border-radius:12px;padding:8px;display:flex;flex-direction:column;font-size:16px;position:absolute;top:48px;z-index:100;left:0px;@media only screen and (max-width:\",\"){right:0px;left:unset;}\"],function(_ref3){var theme=_ref3.theme;return theme.backgroundSurface;},function(_ref4){var theme=_ref4.theme;return theme.deepShadow;},function(_ref5){var theme=_ref5.theme;return theme.backgroundOutline;},SMALL_MEDIA_BREAKPOINT);var StyledMenu=_styled.div.withConfig({componentId:\"sc-sagiue-3\"})([\"display:flex;justify-content:center;align-items:center;position:relative;border:none;text-align:left;@media only screen and (max-width:\",\"){width:72px;}\"],MOBILE_MEDIA_BREAKPOINT);var StyledMenuContent=_styled.div.withConfig({componentId:\"sc-sagiue-4\"})([\"display:flex;justify-content:space-between;gap:8px;align-items:center;border:none;width:100%;vertical-align:middle;\"]);var Chevron=_styled.span.withConfig({componentId:\"sc-sagiue-5\"})([\"padding-top:1px;color:\",\";\"],function(_ref6){var open=_ref6.open,theme=_ref6.theme;return open?theme.accentActive:theme.textSecondary;});// TODO: change this to reflect data pipeline\nexport default function TimeSelector(){var theme=_useTheme();var node=useRef(null);var open=useModalIsOpen(ApplicationModal.TIME_SELECTOR);var toggleMenu=useToggleModal(ApplicationModal.TIME_SELECTOR);useOnClickOutside(node,open?toggleMenu:undefined);var _useAtom=useAtom(filterTimeAtom),_useAtom2=_slicedToArray(_useAtom,2),activeTime=_useAtom2[0],setTime=_useAtom2[1];return/*#__PURE__*/_jsxs(StyledMenu,{ref:node,children:[/*#__PURE__*/_jsx(FilterOption,{onClick:toggleMenu,\"aria-label\":\"timeSelector\",active:open,children:/*#__PURE__*/_jsxs(StyledMenuContent,{children:[DISPLAYS[activeTime],/*#__PURE__*/_jsx(Chevron,{open:open,children:open?/*#__PURE__*/_jsx(ChevronUp,{width:20,height:15,viewBox:\"0 0 24 20\"}):/*#__PURE__*/_jsx(ChevronDown,{width:20,height:15,viewBox:\"0 0 24 20\"})})]})}),open&&/*#__PURE__*/_jsx(MenuTimeFlyout,{children:ORDERED_TIMES.map(function(time){return/*#__PURE__*/_jsxs(InternalLinkMenuItem,{onClick:function onClick(){setTime(time);toggleMenu();},children:[/*#__PURE__*/_jsx(\"div\",{children:DISPLAYS[time]}),time===activeTime&&/*#__PURE__*/_jsx(Check,{color:theme.accentAction,size:16})]},DISPLAYS[time]);})})]});}","map":{"version":3,"names":["TimePeriod","useOnClickOutside","useAtom","useRef","Check","ChevronDown","ChevronUp","useModalIsOpen","useToggleModal","ApplicationModal","MOBILE_MEDIA_BREAKPOINT","SMALL_MEDIA_BREAKPOINT","filterTimeAtom","FilterOption","DISPLAYS","HOUR","DAY","WEEK","MONTH","YEAR","ORDERED_TIMES","InternalMenuItem","styled","div","theme","textPrimary","InternalLinkMenuItem","hoverState","MenuTimeFlyout","span","backgroundSurface","deepShadow","backgroundOutline","StyledMenu","StyledMenuContent","Chevron","open","accentActive","textSecondary","TimeSelector","useTheme","node","TIME_SELECTOR","toggleMenu","undefined","activeTime","setTime","map","time","accentAction"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/components/Tokens/TokenTable/TimeSelector.tsx"],"sourcesContent":["import { TimePeriod } from 'graphql/data/util'\nimport { useOnClickOutside } from 'hooks/useOnClickOutside'\nimport { useAtom } from 'jotai'\nimport { useRef } from 'react'\nimport { Check, ChevronDown, ChevronUp } from 'react-feather'\nimport { useModalIsOpen, useToggleModal } from 'state/application/hooks'\nimport { ApplicationModal } from 'state/application/reducer'\nimport styled, { useTheme } from 'styled-components/macro'\n\nimport { MOBILE_MEDIA_BREAKPOINT, SMALL_MEDIA_BREAKPOINT } from '../constants'\nimport { filterTimeAtom } from '../state'\nimport FilterOption from './FilterOption'\n\nexport const DISPLAYS: Record<TimePeriod, string> = {\n  [TimePeriod.HOUR]: '1H',\n  [TimePeriod.DAY]: '1D',\n  [TimePeriod.WEEK]: '1W',\n  [TimePeriod.MONTH]: '1M',\n  [TimePeriod.YEAR]: '1Y',\n}\n\nexport const ORDERED_TIMES: TimePeriod[] = [\n  TimePeriod.HOUR,\n  TimePeriod.DAY,\n  TimePeriod.WEEK,\n  TimePeriod.MONTH,\n  TimePeriod.YEAR,\n]\n\nconst InternalMenuItem = styled.div`\n  flex: 1;\n  padding: 8px;\n  color: ${({ theme }) => theme.textPrimary};\n  border-radius: 8px;\n\n  :hover {\n    cursor: pointer;\n    text-decoration: none;\n  }\n`\nconst InternalLinkMenuItem = styled(InternalMenuItem)`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 12px 8px;\n  justify-content: space-between;\n  text-decoration: none;\n  cursor: pointer;\n\n  :hover {\n    background-color: ${({ theme }) => theme.hoverState};\n    text-decoration: none;\n  }\n`\nconst MenuTimeFlyout = styled.span`\n  min-width: 240px;\n  max-height: 300px;\n  overflow: auto;\n  background-color: ${({ theme }) => theme.backgroundSurface};\n  box-shadow: ${({ theme }) => theme.deepShadow};\n  border: 0.5px solid ${({ theme }) => theme.backgroundOutline};\n  border-radius: 12px;\n  padding: 8px;\n  display: flex;\n  flex-direction: column;\n  font-size: 16px;\n  position: absolute;\n  top: 48px;\n  z-index: 100;\n  left: 0px;\n\n  @media only screen and (max-width: ${SMALL_MEDIA_BREAKPOINT}) {\n    right: 0px;\n    left: unset;\n  }\n`\nconst StyledMenu = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n  border: none;\n  text-align: left;\n\n  @media only screen and (max-width: ${MOBILE_MEDIA_BREAKPOINT}) {\n    width: 72px;\n  }\n`\nconst StyledMenuContent = styled.div`\n  display: flex;\n  justify-content: space-between;\n  gap: 8px;\n  align-items: center;\n  border: none;\n  width: 100%;\n  vertical-align: middle;\n`\nconst Chevron = styled.span<{ open: boolean }>`\n  padding-top: 1px;\n  color: ${({ open, theme }) => (open ? theme.accentActive : theme.textSecondary)};\n`\n\n// TODO: change this to reflect data pipeline\nexport default function TimeSelector() {\n  const theme = useTheme()\n  const node = useRef<HTMLDivElement | null>(null)\n  const open = useModalIsOpen(ApplicationModal.TIME_SELECTOR)\n  const toggleMenu = useToggleModal(ApplicationModal.TIME_SELECTOR)\n  useOnClickOutside(node, open ? toggleMenu : undefined)\n  const [activeTime, setTime] = useAtom(filterTimeAtom)\n\n  return (\n    <StyledMenu ref={node}>\n      <FilterOption onClick={toggleMenu} aria-label=\"timeSelector\" active={open}>\n        <StyledMenuContent>\n          {DISPLAYS[activeTime]}\n          <Chevron open={open}>\n            {open ? (\n              <ChevronUp width={20} height={15} viewBox=\"0 0 24 20\" />\n            ) : (\n              <ChevronDown width={20} height={15} viewBox=\"0 0 24 20\" />\n            )}\n          </Chevron>\n        </StyledMenuContent>\n      </FilterOption>\n      {open && (\n        <MenuTimeFlyout>\n          {ORDERED_TIMES.map((time) => (\n            <InternalLinkMenuItem\n              key={DISPLAYS[time]}\n              onClick={() => {\n                setTime(time)\n                toggleMenu()\n              }}\n            >\n              <div>{DISPLAYS[time]}</div>\n              {time === activeTime && <Check color={theme.accentAction} size={16} />}\n            </InternalLinkMenuItem>\n          ))}\n        </MenuTimeFlyout>\n      )}\n    </StyledMenu>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}