{"ast":null,"code":"import _regeneratorRuntime from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";export var OSCollectionsFetcher=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref){var params,hasEmptyFields,_i,_Object$values,v,r,walletCollections;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:params=_ref.params;hasEmptyFields=false;for(_i=0,_Object$values=Object.values(params);_i<_Object$values.length;_i++){v=_Object$values[_i];if(v===undefined){hasEmptyFields=true;}}if(!hasEmptyFields){_context.next=5;break;}return _context.abrupt(\"return\",[]);case 5:_context.next=7;return fetch(\"https://api.opensea.io/api/v1/collections?\".concat(new URLSearchParams(params).toString()));case 7:r=_context.sent;_context.next=10;return r.json();case 10:walletCollections=_context.sent;if(!walletCollections){_context.next=15;break;}return _context.abrupt(\"return\",walletCollections.filter(function(collection){return collection.primary_asset_contracts.length;}).map(function(collection){return{address:collection.primary_asset_contracts[0].address,name:collection.name,image:collection.image_url,count:collection.owned_asset_count};}));case 15:return _context.abrupt(\"return\",[]);case 16:case\"end\":return _context.stop();}}},_callee);}));return function OSCollectionsFetcher(_x){return _ref2.apply(this,arguments);};}();","map":{"version":3,"names":["OSCollectionsFetcher","params","hasEmptyFields","Object","values","v","undefined","fetch","URLSearchParams","toString","r","json","walletCollections","filter","collection","primary_asset_contracts","length","map","address","name","image","image_url","count","owned_asset_count"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/nft/queries/openSea/OSCollectionsFetcher.ts"],"sourcesContent":["import { WalletCollection } from '../../types'\n\nexport const OSCollectionsFetcher = async ({ params }: any): Promise<WalletCollection[]> => {\n  let hasEmptyFields = false\n\n  for (const v of Object.values(params)) {\n    if (v === undefined) {\n      hasEmptyFields = true\n    }\n  }\n  if (hasEmptyFields) return []\n\n  const r = await fetch(`https://api.opensea.io/api/v1/collections?${new URLSearchParams(params).toString()}`)\n  const walletCollections = await r.json()\n  if (walletCollections) {\n    return walletCollections\n      .filter((collection: any) => collection.primary_asset_contracts.length)\n      .map((collection: any) => ({\n        address: collection.primary_asset_contracts[0].address,\n        name: collection.name,\n        image: collection.image_url,\n        count: collection.owned_asset_count,\n      }))\n  } else {\n    return []\n  }\n}\n"],"mappings":"qVAEA,MAAO,IAAMA,qBAAoB,2FAAG,yMAASC,MAAM,MAANA,MAAM,CAC7CC,cAAc,CAAG,KAAK,CAE1B,wBAAgBC,MAAM,CAACC,MAAM,CAACH,MAAM,CAAC,+BAAE,CAA5BI,CAAC,oBACV,GAAIA,CAAC,GAAKC,SAAS,CAAE,CACnBJ,cAAc,CAAG,IAAI,CACvB,CACF,CAAC,IACGA,cAAc,yDAAS,EAAE,+BAEbK,MAAK,qDAA8C,GAAIC,gBAAe,CAACP,MAAM,CAAC,CAACQ,QAAQ,EAAE,EAAG,QAAtGC,CAAC,sCACyBA,EAAC,CAACC,IAAI,EAAE,SAAlCC,iBAAiB,mBACnBA,iBAAiB,0DACZA,iBAAiB,CACrBC,MAAM,CAAC,SAACC,UAAe,QAAKA,WAAU,CAACC,uBAAuB,CAACC,MAAM,GAAC,CACtEC,GAAG,CAAC,SAACH,UAAe,QAAM,CACzBI,OAAO,CAAEJ,UAAU,CAACC,uBAAuB,CAAC,CAAC,CAAC,CAACG,OAAO,CACtDC,IAAI,CAAEL,UAAU,CAACK,IAAI,CACrBC,KAAK,CAAEN,UAAU,CAACO,SAAS,CAC3BC,KAAK,CAAER,UAAU,CAACS,iBACpB,CAAC,EAAC,CAAC,0CAEE,EAAE,yDAEZ,kBAxBYvB,qBAAoB,6CAwBhC"},"metadata":{},"sourceType":"module"}