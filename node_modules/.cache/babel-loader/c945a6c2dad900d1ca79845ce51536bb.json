{"ast":null,"code":"import _toConsumableArray from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import{NftStandard}from'graphql/data/__generated__/types-and-hooks';import create from'zustand';import{devtools}from'zustand/middleware';export var useWalletCollections=create()(devtools(function(set){return{walletAssets:[],walletCollections:[],displayAssets:[],collectionFilters:[],listFilter:'All',setWalletAssets:function setWalletAssets(assets){return set(function(){return{walletAssets:assets===null||assets===void 0?void 0:assets.filter(function(asset){var _asset$asset_contract;return((_asset$asset_contract=asset.asset_contract)===null||_asset$asset_contract===void 0?void 0:_asset$asset_contract.tokenType)===NftStandard.Erc721;})};});},setWalletCollections:function setWalletCollections(collections){return set(function(){return{walletCollections:collections};});},setCollectionFilters:function setCollectionFilters(address){return set(function(_ref){var collectionFilters=_ref.collectionFilters;if(collectionFilters.length===0)return{collectionFilters:[address]};else if(collectionFilters.some(function(x){return x===address;}))return{collectionFilters:collectionFilters.filter(function(n){return n!==address;})};else return{collectionFilters:[].concat(_toConsumableArray(collectionFilters),[address])};});},clearCollectionFilters:function clearCollectionFilters(){return set(function(){return{collectionFilters:[]};});},setListFilter:function setListFilter(value){return set(function(){return{listFilter:value};});},setDisplayAssets:function setDisplayAssets(walletAssets,listFilter){return set(function(){return{displayAssets:filterWalletAssets(walletAssets,listFilter)};});}};},{name:'useWalletCollections'}));var filterWalletAssets=function filterWalletAssets(walletAssets,listFilter){var _displayAssets,_displayAssets2;var displayAssets=walletAssets;if(listFilter==='Listed')displayAssets=(_displayAssets=displayAssets)===null||_displayAssets===void 0?void 0:_displayAssets.filter(function(x){return x.listing_date!==null;});if(listFilter==='Unlisted')displayAssets=(_displayAssets2=displayAssets)===null||_displayAssets2===void 0?void 0:_displayAssets2.filter(function(x){return x.listing_date===null;});return displayAssets;};","map":{"version":3,"names":["NftStandard","create","devtools","useWalletCollections","set","walletAssets","walletCollections","displayAssets","collectionFilters","listFilter","setWalletAssets","assets","filter","asset","asset_contract","tokenType","Erc721","setWalletCollections","collections","setCollectionFilters","address","length","some","x","n","clearCollectionFilters","setListFilter","value","setDisplayAssets","filterWalletAssets","name","listing_date"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/nft/hooks/useWalletCollections.ts"],"sourcesContent":["import { NftStandard } from 'graphql/data/__generated__/types-and-hooks'\nimport create from 'zustand'\nimport { devtools } from 'zustand/middleware'\n\nimport { WalletAsset, WalletCollection } from '../types'\n\ninterface WalletCollectionState {\n  walletAssets: WalletAsset[]\n  walletCollections: WalletCollection[]\n  displayAssets: WalletAsset[]\n  collectionFilters: string[]\n  listFilter: string\n  setWalletAssets: (assets: WalletAsset[]) => void\n  setWalletCollections: (collections: WalletCollection[]) => void\n  setCollectionFilters: (address: string) => void\n  clearCollectionFilters: () => void\n  setListFilter: (value: string) => void\n  setDisplayAssets: (walletAssets: WalletAsset[], listFilter: string) => void\n}\n\nexport const useWalletCollections = create<WalletCollectionState>()(\n  devtools(\n    (set) => ({\n      walletAssets: [],\n      walletCollections: [],\n      displayAssets: [],\n      collectionFilters: [],\n      listFilter: 'All',\n      setWalletAssets: (assets) =>\n        set(() => {\n          return {\n            walletAssets: assets?.filter((asset) => asset.asset_contract?.tokenType === NftStandard.Erc721),\n          }\n        }),\n      setWalletCollections: (collections) =>\n        set(() => {\n          return { walletCollections: collections }\n        }),\n      setCollectionFilters: (address) =>\n        set(({ collectionFilters }) => {\n          if (collectionFilters.length === 0) return { collectionFilters: [address] }\n          else if (collectionFilters.some((x) => x === address))\n            return { collectionFilters: collectionFilters.filter((n) => n !== address) }\n          else return { collectionFilters: [...collectionFilters, address] }\n        }),\n      clearCollectionFilters: () =>\n        set(() => {\n          return { collectionFilters: [] }\n        }),\n      setListFilter: (value) =>\n        set(() => {\n          return { listFilter: value }\n        }),\n      setDisplayAssets: (walletAssets, listFilter) =>\n        set(() => {\n          return { displayAssets: filterWalletAssets(walletAssets, listFilter) }\n        }),\n    }),\n    { name: 'useWalletCollections' }\n  )\n)\n\nconst filterWalletAssets = (walletAssets: WalletAsset[], listFilter: string) => {\n  let displayAssets = walletAssets\n  if (listFilter === 'Listed')\n    displayAssets = displayAssets?.filter((x) => {\n      return x.listing_date !== null\n    })\n  if (listFilter === 'Unlisted')\n    displayAssets = displayAssets?.filter((x) => {\n      return x.listing_date === null\n    })\n  return displayAssets\n}\n"],"mappings":"oLAAA,OAASA,WAAW,KAAQ,4CAA4C,CACxE,MAAOC,OAAM,KAAM,SAAS,CAC5B,OAASC,QAAQ,KAAQ,oBAAoB,CAkB7C,MAAO,IAAMC,qBAAoB,CAAGF,MAAM,EAAyB,CACjEC,QAAQ,CACN,SAACE,GAAG,QAAM,CACRC,YAAY,CAAE,EAAE,CAChBC,iBAAiB,CAAE,EAAE,CACrBC,aAAa,CAAE,EAAE,CACjBC,iBAAiB,CAAE,EAAE,CACrBC,UAAU,CAAE,KAAK,CACjBC,eAAe,CAAE,yBAACC,MAAM,QACtBP,IAAG,CAAC,UAAM,CACR,MAAO,CACLC,YAAY,CAAEM,MAAM,SAANA,MAAM,iBAANA,MAAM,CAAEC,MAAM,CAAC,SAACC,KAAK,kCAAK,wBAAAA,KAAK,CAACC,cAAc,gDAApB,sBAAsBC,SAAS,IAAKf,WAAW,CAACgB,MAAM,GAChG,CAAC,CACH,CAAC,CAAC,GACJC,oBAAoB,CAAE,8BAACC,WAAW,QAChCd,IAAG,CAAC,UAAM,CACR,MAAO,CAAEE,iBAAiB,CAAEY,WAAY,CAAC,CAC3C,CAAC,CAAC,GACJC,oBAAoB,CAAE,8BAACC,OAAO,QAC5BhB,IAAG,CAAC,cAA2B,IAAxBI,kBAAiB,MAAjBA,iBAAiB,CACtB,GAAIA,iBAAiB,CAACa,MAAM,GAAK,CAAC,CAAE,MAAO,CAAEb,iBAAiB,CAAE,CAACY,OAAO,CAAE,CAAC,KACtE,IAAIZ,iBAAiB,CAACc,IAAI,CAAC,SAACC,CAAC,QAAKA,EAAC,GAAKH,OAAO,GAAC,CACnD,MAAO,CAAEZ,iBAAiB,CAAEA,iBAAiB,CAACI,MAAM,CAAC,SAACY,CAAC,QAAKA,EAAC,GAAKJ,OAAO,GAAE,CAAC,KACzE,OAAO,CAAEZ,iBAAiB,8BAAMA,iBAAiB,GAAEY,OAAO,EAAE,CAAC,CACpE,CAAC,CAAC,GACJK,sBAAsB,CAAE,wCACtBrB,IAAG,CAAC,UAAM,CACR,MAAO,CAAEI,iBAAiB,CAAE,EAAG,CAAC,CAClC,CAAC,CAAC,GACJkB,aAAa,CAAE,uBAACC,KAAK,QACnBvB,IAAG,CAAC,UAAM,CACR,MAAO,CAAEK,UAAU,CAAEkB,KAAM,CAAC,CAC9B,CAAC,CAAC,GACJC,gBAAgB,CAAE,0BAACvB,YAAY,CAAEI,UAAU,QACzCL,IAAG,CAAC,UAAM,CACR,MAAO,CAAEG,aAAa,CAAEsB,kBAAkB,CAACxB,YAAY,CAAEI,UAAU,CAAE,CAAC,CACxE,CAAC,CAAC,EACN,CAAC,EAAC,CACF,CAAEqB,IAAI,CAAE,sBAAuB,CAAC,CACjC,CACF,CAED,GAAMD,mBAAkB,CAAG,QAArBA,mBAAkB,CAAIxB,YAA2B,CAAEI,UAAkB,CAAK,oCAC9E,GAAIF,cAAa,CAAGF,YAAY,CAChC,GAAII,UAAU,GAAK,QAAQ,CACzBF,aAAa,iBAAGA,aAAa,yCAAb,eAAeK,MAAM,CAAC,SAACW,CAAC,CAAK,CAC3C,MAAOA,EAAC,CAACQ,YAAY,GAAK,IAAI,CAChC,CAAC,CAAC,CACJ,GAAItB,UAAU,GAAK,UAAU,CAC3BF,aAAa,kBAAGA,aAAa,0CAAb,gBAAeK,MAAM,CAAC,SAACW,CAAC,CAAK,CAC3C,MAAOA,EAAC,CAACQ,YAAY,GAAK,IAAI,CAChC,CAAC,CAAC,CACJ,MAAOxB,cAAa,CACtB,CAAC"},"metadata":{},"sourceType":"module"}