{"ast":null,"code":"import _styled from \"styled-components\";\nvar _jsxFileName = \"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/components/LiveChart/AnimatingNumber.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport useTheme from 'hooks/useTheme';\nimport { useEffect, useRef, useState } from 'react';\nimport { animated, useSpring } from 'react-spring';\nimport { Flex, Text } from 'rebass';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n// function usePrevious(value: number) {\n//   const ref = useRef<number>(value)\n\n//   useEffect(() => {\n//     ref.current = value\n//   })\n\n//   return ref.current\n// }\n\nfunction formatForDisplay() {\n  let number = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  if (number > 1000000) return Math.max(number, 0).toString().split('').reverse();else {\n    return Math.max(number, 0).toPrecision(6).split('').reverse();\n  }\n}\nfunction DecimalColumn() {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \".\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 10\n  }, this);\n}\n_c = DecimalColumn;\nconst TicketView = _styled.div.withConfig({\n  displayName: \"AnimatingNumber__TicketView\",\n  componentId: \"sc-2n27bi-0\"\n})([\"height:100%;display:flex;flex-direction:row-reverse;overflow:hidden;font-size:\", \"px;position:relative;color:\", \";letter-spacing:-1px;margin-right:5px;\"], _ref => {\n  let {\n    fontSize\n  } = _ref;\n  return fontSize;\n}, _ref2 => {\n  let {\n    theme\n  } = _ref2;\n  return theme.textSecondary;\n});\nconst NumberPlaceHolder = _styled.span.withConfig({\n  displayName: \"AnimatingNumber__NumberPlaceHolder\",\n  componentId: \"sc-2n27bi-1\"\n})([\"visibility:hidden;\"]);\nconst Container = _styled.div.withConfig({\n  displayName: \"AnimatingNumber__Container\",\n  componentId: \"sc-2n27bi-2\"\n})([\"position:relative;height:\", \"px;\"], _ref3 => {\n  let {\n    fontSize\n  } = _ref3;\n  return fontSize + 4;\n});\nconst TickerDigit = _styled.div.withConfig({\n  displayName: \"AnimatingNumber__TickerDigit\",\n  componentId: \"sc-2n27bi-3\"\n})([\"height:10%;text-align:center;\"]);\nconst TickerColumn = _styled(animated.div).withConfig({\n  displayName: \"AnimatingNumber__TickerColumn\",\n  componentId: \"sc-2n27bi-4\"\n})([\"position:absolute;height:1000%;bottom:0;transition:all 0.6s cubic-bezier(0.4,-0.1,0.6,1) 1;\"]);\nfunction NumberColumn(_ref4) {\n  _s();\n  let {\n    digit,\n    fontSize\n  } = _ref4;\n  const [position, setPosition] = useState(0);\n  const columnContainer = useRef();\n  const setColumnToNumber = number => {\n    if (columnContainer.current) {\n      var _ref5, _columnContainer$curr;\n      setPosition((_ref5 = ((_columnContainer$curr = columnContainer.current) === null || _columnContainer$curr === void 0 ? void 0 : _columnContainer$curr.clientHeight) * number) !== null && _ref5 !== void 0 ? _ref5 : 0);\n    }\n  };\n  useEffect(() => setColumnToNumber(digit), [digit]);\n  const styles = useSpring({\n    to: {\n      transform: `translateY(${position}px)`\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(Container, {\n    ref: columnContainer,\n    fontSize: fontSize,\n    children: [/*#__PURE__*/_jsxDEV(TickerColumn, {\n      style: styles,\n      children: [9, 8, 7, 6, 5, 4, 3, 2, 1, 0].map(num => /*#__PURE__*/_jsxDEV(TickerDigit, {\n        children: num\n      }, num, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(NumberPlaceHolder, {\n      children: \"0\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n}\n_s(NumberColumn, \"jOnc2+cHpPAxZWg5BdE2tlK18S4=\", false, function () {\n  return [useSpring];\n});\n_c2 = NumberColumn;\nexport default function AnimatingNumber(_ref6) {\n  _s2();\n  let {\n    value,\n    symbol,\n    fontSize\n  } = _ref6;\n  const values = value.toString().split('e');\n  const baseValue = parseFloat(values[0]);\n  const eValue = values[1];\n  const numArray = formatForDisplay(baseValue);\n  const theme = useTheme();\n  if (baseValue === Infinity) {\n    return null;\n  }\n  return /*#__PURE__*/_jsxDEV(Flex, {\n    style: {\n      fontWeight: 500\n    },\n    children: [/*#__PURE__*/_jsxDEV(TicketView, {\n      fontSize: fontSize,\n      children: numArray.map((number, index) => number === '.' ? /*#__PURE__*/_jsxDEV(DecimalColumn, {}, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(NumberColumn, {\n        digit: parseInt(number),\n        fontSize: fontSize\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this), eValue && /*#__PURE__*/_jsxDEV(Flex, {\n      fontSize: \"16px\",\n      alignItems: \"flex-end\",\n      color: theme.textSecondary,\n      paddingBottom: \"3px\",\n      paddingTop: \"5px\",\n      children: [\"10\", /*#__PURE__*/_jsxDEV(\"sup\", {\n        style: {\n          fontSize: '10px',\n          alignSelf: 'flex-start'\n        },\n        children: eValue\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }, this), symbol && /*#__PURE__*/_jsxDEV(Text, {\n      fontSize: fontSize,\n      color: theme.textSecondary,\n      children: symbol\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 5\n  }, this);\n}\n_s2(AnimatingNumber, \"VrMvFCCB9Haniz3VCRPNUiCauHs=\", false, function () {\n  return [useTheme];\n});\n_c3 = AnimatingNumber;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"DecimalColumn\");\n$RefreshReg$(_c2, \"NumberColumn\");\n$RefreshReg$(_c3, \"AnimatingNumber\");","map":{"version":3,"names":["useTheme","useEffect","useRef","useState","animated","useSpring","Flex","Text","formatForDisplay","number","Math","max","toString","split","reverse","toPrecision","DecimalColumn","TicketView","styled","div","fontSize","theme","textSecondary","NumberPlaceHolder","span","Container","TickerDigit","TickerColumn","NumberColumn","digit","position","setPosition","columnContainer","setColumnToNumber","current","clientHeight","styles","to","transform","map","num","AnimatingNumber","value","symbol","values","baseValue","parseFloat","eValue","numArray","Infinity","fontWeight","index","parseInt","alignSelf"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/components/LiveChart/AnimatingNumber.tsx"],"sourcesContent":["import useTheme from 'hooks/useTheme'\nimport { useEffect, useRef, useState } from 'react'\nimport { animated, useSpring } from 'react-spring'\nimport { Flex, Text } from 'rebass'\nimport styled from 'styled-components/macro'\n\n// function usePrevious(value: number) {\n//   const ref = useRef<number>(value)\n\n//   useEffect(() => {\n//     ref.current = value\n//   })\n\n//   return ref.current\n// }\n\nfunction formatForDisplay(number = 0) {\n  if (number > 1000000) return Math.max(number, 0).toString().split('').reverse()\n  else {\n    return Math.max(number, 0).toPrecision(6).split('').reverse()\n  }\n}\n\nfunction DecimalColumn() {\n  return <div>.</div>\n}\n\nconst TicketView = styled.div<{ fontSize: number }>`\n  height: 100%;\n  display: flex;\n  flex-direction: row-reverse;\n  overflow: hidden;\n  font-size: ${({ fontSize }) => fontSize}px;\n  position: relative;\n  color: ${({ theme }) => theme.textSecondary};\n  letter-spacing: -1px;\n  margin-right: 5px;\n`\n\nconst NumberPlaceHolder = styled.span`\n  visibility: hidden;\n`\n\nconst Container = styled.div<{ fontSize: number }>`\n  position: relative;\n  height: ${({ fontSize }) => fontSize + 4}px;\n`\n\nconst TickerDigit = styled.div`\n  height: 10%;\n  text-align: center;\n`\n\nconst TickerColumn = styled(animated.div)`\n  position: absolute;\n  height: 1000%;\n  bottom: 0;\n  transition: all 0.6s cubic-bezier(0.4, -0.1, 0.6, 1) 1;\n`\n\nfunction NumberColumn({ digit, fontSize }: { digit: number; fontSize: number }) {\n  const [position, setPosition] = useState(0)\n  const columnContainer = useRef<HTMLDivElement>()\n\n  const setColumnToNumber = (number: number) => {\n    if (columnContainer.current) {\n      setPosition(columnContainer.current?.clientHeight * number ?? 0)\n    }\n  }\n\n  useEffect(() => setColumnToNumber(digit), [digit])\n\n  const styles = useSpring({\n    to: { transform: `translateY(${position}px)` },\n  })\n\n  return (\n    <Container ref={columnContainer as any} fontSize={fontSize}>\n      <TickerColumn style={styles}>\n        {[9, 8, 7, 6, 5, 4, 3, 2, 1, 0].map((num) => (\n          <TickerDigit key={num}>{num}</TickerDigit>\n        ))}\n      </TickerColumn>\n      <NumberPlaceHolder>0</NumberPlaceHolder>\n    </Container>\n  )\n}\n\nexport default function AnimatingNumber({\n  value,\n  symbol,\n  fontSize,\n}: {\n  value: number\n  symbol: string | undefined\n  fontSize: number\n}) {\n  const values = value.toString().split('e')\n  const baseValue = parseFloat(values[0])\n  const eValue = values[1]\n  const numArray = formatForDisplay(baseValue)\n  const theme = useTheme()\n\n  if (baseValue === Infinity) {\n    return null\n  }\n\n  return (\n    <Flex style={{ fontWeight: 500 }}>\n      <TicketView fontSize={fontSize}>\n        {numArray.map((number, index) =>\n          number === '.' ? (\n            <DecimalColumn key={index} />\n          ) : (\n            <NumberColumn key={index} digit={parseInt(number)} fontSize={fontSize} />\n          )\n        )}\n      </TicketView>\n      {eValue && (\n        <Flex fontSize=\"16px\" alignItems=\"flex-end\" color={theme.textSecondary} paddingBottom=\"3px\" paddingTop=\"5px\">\n          10<sup style={{ fontSize: '10px', alignSelf: 'flex-start' }}>{eValue}</sup>\n        </Flex>\n      )}\n      {symbol && (\n        <Text fontSize={fontSize} color={theme.textSecondary}>\n          {symbol}\n        </Text>\n      )}\n    </Flex>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}