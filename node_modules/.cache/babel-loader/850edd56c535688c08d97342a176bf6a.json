{"ast":null,"code":"var _jsxFileName = \"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/pages/PoolDetails/index.tsx\",\n  _s = $RefreshSig$();\nimport PoolDetails from 'components/Pools/PoolDetails';\nimport { PoolDetailsPageSkeleton } from 'components/Pools/PoolDetails/Skeleton';\nimport { NATIVE_CHAIN_ID, nativeOnChain } from 'constants/tokens';\nimport { useTokenPriceQuery, useTokenQuery } from 'graphql/data/__generated__/types-and-hooks';\nimport { CHAIN_NAME_TO_CHAIN_ID, TimePeriod, toHistoryDuration, validateUrlChainParam } from 'graphql/data/util';\nimport { EthereumNetworkInfo, SUPPORTED_NETWORK_VERSIONS } from 'constants/networks';\nimport { useAtom } from 'jotai';\nimport { atomWithStorage } from 'jotai/utils';\nimport { useMemo } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const pageTimePeriodAtom = atomWithStorage('poolDetailsTimePeriod', TimePeriod.DAY);\nexport default function PoolDetailsPage() {\n  _s();\n  const {\n    tokenAddress,\n    chainName\n  } = useParams();\n  const chain = validateUrlChainParam(chainName);\n  const pageChainId = CHAIN_NAME_TO_CHAIN_ID[chain];\n  const {\n    chainId: connectedChainId\n  } = useWeb3React();\n  const connectedChainName = chainIdToBackendName(connectedChainId);\n  const [activeNetwork, setActiveNetwork] = useActiveNetworkVersion();\n  useEffect(() => {\n    if ((chainName === null || chainName === void 0 ? void 0 : chainName.toLowerCase()) === 'ethereum') {\n      setActiveNetwork(EthereumNetworkInfo);\n    } else {\n      SUPPORTED_NETWORK_VERSIONS.map(n => {\n        if (location.pathname.includes(n.route.toLocaleLowerCase())) {\n          setActiveNetwork(n);\n        }\n      });\n    }\n  }, [chainName, setActiveNetwork]);\n  const isNative = tokenAddress === NATIVE_CHAIN_ID;\n  const [timePeriod, setTimePeriod] = useAtom(pageTimePeriodAtom);\n  const [contract, duration] = useMemo(() => [{\n    address: isNative ? nativeOnChain(pageChainId).wrapped.address : tokenAddress !== null && tokenAddress !== void 0 ? tokenAddress : '',\n    chain\n  }, toHistoryDuration(timePeriod)], [chain, isNative, pageChainId, timePeriod, tokenAddress]);\n  const {\n    data: tokenQuery,\n    loading: tokenQueryLoading\n  } = useTokenQuery({\n    variables: {\n      contract\n    }\n  });\n  const {\n    data: tokenPriceQuery\n  } = useTokenPriceQuery({\n    variables: {\n      contract,\n      duration\n    }\n  });\n  if (!tokenQuery || tokenQueryLoading) return /*#__PURE__*/_jsxDEV(PoolDetailsPageSkeleton, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 48\n  }, this);\n  return /*#__PURE__*/_jsxDEV(PoolDetails, {\n    urlAddress: tokenAddress,\n    chain: chain,\n    tokenQuery: tokenQuery,\n    tokenPriceQuery: tokenPriceQuery,\n    onChangeTimePeriod: setTimePeriod\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n}\n_s(PoolDetailsPage, \"wYltjysIpGvEVYk7RnNaNzTBzTY=\", true, function () {\n  return [useParams, useAtom, useTokenQuery, useTokenPriceQuery];\n});\n_c = PoolDetailsPage;\nvar _c;\n$RefreshReg$(_c, \"PoolDetailsPage\");","map":{"version":3,"names":["PoolDetails","PoolDetailsPageSkeleton","NATIVE_CHAIN_ID","nativeOnChain","useTokenPriceQuery","useTokenQuery","CHAIN_NAME_TO_CHAIN_ID","TimePeriod","toHistoryDuration","validateUrlChainParam","EthereumNetworkInfo","SUPPORTED_NETWORK_VERSIONS","useAtom","atomWithStorage","useMemo","useParams","pageTimePeriodAtom","DAY","PoolDetailsPage","tokenAddress","chainName","chain","pageChainId","chainId","connectedChainId","useWeb3React","connectedChainName","chainIdToBackendName","activeNetwork","setActiveNetwork","useActiveNetworkVersion","useEffect","toLowerCase","map","n","location","pathname","includes","route","toLocaleLowerCase","isNative","timePeriod","setTimePeriod","contract","duration","address","wrapped","data","tokenQuery","loading","tokenQueryLoading","variables","tokenPriceQuery"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/pages/PoolDetails/index.tsx"],"sourcesContent":["import PoolDetails from 'components/Pools/PoolDetails'\nimport { PoolDetailsPageSkeleton } from 'components/Pools/PoolDetails/Skeleton'\nimport { NATIVE_CHAIN_ID, nativeOnChain } from 'constants/tokens'\nimport { useTokenPriceQuery, useTokenQuery } from 'graphql/data/__generated__/types-and-hooks'\nimport { CHAIN_NAME_TO_CHAIN_ID, TimePeriod, toHistoryDuration, validateUrlChainParam } from 'graphql/data/util'\nimport { EthereumNetworkInfo, SUPPORTED_NETWORK_VERSIONS } from 'constants/networks'\nimport { useAtom } from 'jotai'\nimport { atomWithStorage } from 'jotai/utils'\nimport { useMemo } from 'react'\nimport { useParams } from 'react-router-dom'\n\nexport const pageTimePeriodAtom = atomWithStorage<TimePeriod>('poolDetailsTimePeriod', TimePeriod.DAY)\n\nexport default function PoolDetailsPage() {\n  const { tokenAddress, chainName } = useParams<{ tokenAddress?: string; chainName?: string }>()\n  const chain = validateUrlChainParam(chainName)\n  const pageChainId = CHAIN_NAME_TO_CHAIN_ID[chain]\n \n  const { chainId: connectedChainId } = useWeb3React()\n  const connectedChainName = chainIdToBackendName(connectedChainId)\n\n  const [activeNetwork, setActiveNetwork] = useActiveNetworkVersion()\n  useEffect(() => {\n    if (chainName?.toLowerCase() === 'ethereum') {\n      setActiveNetwork(EthereumNetworkInfo)\n    } else {\n      SUPPORTED_NETWORK_VERSIONS.map((n) => {\n        if (location.pathname.includes(n.route.toLocaleLowerCase())) {\n          setActiveNetwork(n)\n        }\n      })\n    }\n  }, [chainName, setActiveNetwork])\n\n\n  const isNative = tokenAddress === NATIVE_CHAIN_ID\n  const [timePeriod, setTimePeriod] = useAtom(pageTimePeriodAtom)\n  const [contract, duration] = useMemo(\n    () => [\n      { address: isNative ? nativeOnChain(pageChainId).wrapped.address : tokenAddress ?? '', chain },\n      toHistoryDuration(timePeriod),\n    ],\n    [chain, isNative, pageChainId, timePeriod, tokenAddress]\n  )\n\n  const { data: tokenQuery, loading: tokenQueryLoading } = useTokenQuery({\n    variables: {\n      contract,\n    },\n  })\n\n  const { data: tokenPriceQuery } = useTokenPriceQuery({\n    variables: {\n      contract,\n      duration,\n    },\n  })\n\n  if (!tokenQuery || tokenQueryLoading) return <PoolDetailsPageSkeleton />\n\n  return (\n    <PoolDetails\n      urlAddress={tokenAddress}\n      chain={chain}\n      tokenQuery={tokenQuery}\n      tokenPriceQuery={tokenPriceQuery}\n      onChangeTimePeriod={setTimePeriod}\n    />\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}