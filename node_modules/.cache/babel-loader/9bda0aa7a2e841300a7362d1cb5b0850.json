{"ast":null,"code":"import { useTheme as _useTheme } from \"styled-components\";\nimport _styled from \"styled-components\";\nvar _jsxFileName = \"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/pages/Swap/index.tsx\",\n  _s = $RefreshSig$();\nimport { Trans } from \"@lingui/react\";\nimport { sendAnalyticsEvent, Trace, TraceEvent } from '@uniswap/analytics';\nimport { BrowserEvent, ElementName, EventName, PageName, SectionName } from '@uniswap/analytics-events';\nimport { UNIVERSAL_ROUTER_ADDRESS } from '@uniswap/universal-router-sdk';\nimport { useWeb3React } from '@web3-react/core';\nimport { sendEvent } from 'components/analytics';\nimport { NetworkAlert } from 'components/NetworkAlert/NetworkAlert';\nimport PriceImpactWarning from 'components/swap/PriceImpactWarning';\nimport SwapDetailsDropdown from 'components/swap/SwapDetailsDropdown';\nimport UnsupportedCurrencyFooter from 'components/swap/UnsupportedCurrencyFooter';\nimport TokenSafetyModal from 'components/TokenSafety/TokenSafetyModal';\nimport { MouseoverTooltip } from 'components/Tooltip';\nimport { isSupportedChain } from 'constants/chains';\nimport { usePermit2Enabled } from 'featureFlags/flags/permit2';\nimport usePermit, { PermitState } from 'hooks/usePermit2';\nimport { useSwapCallback } from 'hooks/useSwapCallback';\nimport useTransactionDeadline from 'hooks/useTransactionDeadline';\nimport JSBI from 'jsbi';\nimport { formatSwapQuoteReceivedEventProperties } from 'lib/utils/analytics';\nimport { useCallback, useEffect, useMemo, useState } from 'react';\nimport { lazy } from 'react';\nimport { AlertTriangle, ArrowDown, CheckCircle, HelpCircle, Info } from 'react-feather';\nimport { useNavigate } from 'react-router-dom';\nimport { Text } from 'rebass';\nimport { useToggleWalletModal } from 'state/application/hooks';\nimport { TradeState } from 'state/routing/types';\nimport { useTransactionAdder } from 'state/transactions/hooks';\nimport { currencyAmountToPreciseFloat, formatTransactionAmount } from 'utils/formatNumbers';\nimport AddressInputPanel from '../../components/AddressInputPanel';\nimport { ButtonConfirmed, ButtonError, ButtonLight, ButtonPrimary, ButtonYellow } from '../../components/Button';\nimport { GrayCard } from '../../components/Card';\nimport { AutoColumn } from '../../components/Column';\nimport SwapCurrencyInputPanel from '../../components/CurrencyInputPanel/SwapCurrencyInputPanel';\nimport Loader from '../../components/Loader';\nimport { AutoRow } from '../../components/Row';\nimport confirmPriceImpactWithoutFee from '../../components/swap/confirmPriceImpactWithoutFee';\nimport ConfirmSwapModal from '../../components/swap/ConfirmSwapModal';\nimport { ArrowWrapper, PageWrapper, SwapCallbackError, SwapWrapper, ChartWrapper, SwapPanel } from '../../components/swap/styleds';\nimport SwapHeader from '../../components/swap/SwapHeader';\nimport { SwitchLocaleLink } from '../../components/SwitchLocaleLink';\nimport { TOKEN_SHORTHANDS } from '../../constants/tokens';\nimport { useAllTokens, useCurrency } from '../../hooks/Tokens';\nimport { ApprovalState, useApproveCallbackFromTrade } from '../../hooks/useApproveCallback';\nimport useENSAddress from '../../hooks/useENSAddress';\nimport { useERC20PermitFromTrade, UseERC20PermitState } from '../../hooks/useERC20Permit';\nimport useIsArgentWallet from '../../hooks/useIsArgentWallet';\nimport { useIsSwapUnsupported } from '../../hooks/useIsSwapUnsupported';\nimport { useStablecoinValue } from '../../hooks/useStablecoinPrice';\nimport useWrapCallback, { WrapErrorText, WrapType } from '../../hooks/useWrapCallback';\nimport { Field } from '../../state/swap/actions';\nimport { useDefaultsFromURLSearch, useDerivedSwapInfo, useSwapActionHandlers, useSwapState } from '../../state/swap/hooks';\nimport { useExpertModeManager } from '../../state/user/hooks';\nimport { LinkStyledButton, ThemedText } from '../../theme';\nimport { computeFiatValuePriceImpact } from '../../utils/computeFiatValuePriceImpact';\nimport { maxAmountSpend } from '../../utils/maxAmountSpend';\nimport { computeRealizedPriceImpact, warningSeverity } from '../../utils/prices';\nimport { supportedChainId } from '../../utils/supportedChainId';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst LiveChart = /*#__PURE__*/lazy(_c = () => import('components/LiveChart'));\n_c2 = LiveChart;\nconst ArrowContainer = _styled.div.withConfig({\n  displayName: \"Swap__ArrowContainer\",\n  componentId: \"sc-1es900k-0\"\n})([\"display:inline-block;display:inline-flex;align-items:center;justify-content:center;width:100%;height:100%;\"]);\nconst SwapSection = _styled.div.withConfig({\n  displayName: \"Swap__SwapSection\",\n  componentId: \"sc-1es900k-1\"\n})([\"position:relative;background-color:\", \";border-radius:12px;padding:16px;color:\", \";font-size:14px;line-height:20px;font-weight:500;&:before{box-sizing:border-box;background-size:100%;border-radius:inherit;position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;content:'';border:1px solid \", \";}&:hover:before{border-color:\", \";}&:focus-within:before{border-color:\", \";}\"], _ref => {\n  let {\n    theme\n  } = _ref;\n  return theme.backgroundModule;\n}, _ref2 => {\n  let {\n    theme\n  } = _ref2;\n  return theme.textSecondary;\n}, _ref3 => {\n  let {\n    theme\n  } = _ref3;\n  return theme.backgroundModule;\n}, _ref4 => {\n  let {\n    theme\n  } = _ref4;\n  return theme.stateOverlayHover;\n}, _ref5 => {\n  let {\n    theme\n  } = _ref5;\n  return theme.stateOverlayPressed;\n});\nconst OutputSwapSection = _styled(SwapSection).withConfig({\n  displayName: \"Swap__OutputSwapSection\",\n  componentId: \"sc-1es900k-2\"\n})([\"border-bottom:\", \";border-bottom-left-radius:\", \";border-bottom-right-radius:\", \";\"], _ref6 => {\n  let {\n    theme\n  } = _ref6;\n  return `1px solid ${theme.backgroundSurface}`;\n}, _ref7 => {\n  let {\n    showDetailsDropdown\n  } = _ref7;\n  return showDetailsDropdown && '0';\n}, _ref8 => {\n  let {\n    showDetailsDropdown\n  } = _ref8;\n  return showDetailsDropdown && '0';\n});\nconst DetailsSwapSection = _styled(SwapSection).withConfig({\n  displayName: \"Swap__DetailsSwapSection\",\n  componentId: \"sc-1es900k-3\"\n})([\"padding:0;border-top-left-radius:0;border-top-right-radius:0;\"]);\nexport function getIsValidSwapQuote(trade, tradeState, swapInputError) {\n  return !!swapInputError && !!trade && (tradeState === TradeState.VALID || tradeState === TradeState.SYNCING);\n}\nfunction largerPercentValue(a, b) {\n  if (a && b) {\n    return a.greaterThan(b) ? a : b;\n  } else if (a) {\n    return a;\n  } else if (b) {\n    return b;\n  }\n  return undefined;\n}\nconst TRADE_STRING = 'SwapRouter';\nexport default function Swap(_ref9) {\n  _s();\n  var _loadedUrlParams$Fiel, _loadedUrlParams$Fiel2, _loadedUrlParams$Fiel3, _DEFAULT_OUTPUT_TOKEN, _parsedAmounts$indepe3, _trade$inputAmount2, _parsedAmounts$Field$, _trade$inputAmount4, _trade$inputAmount4$c, _trade$outputAmount2, _trade$outputAmount2$, _importTokensNotInDef, _importTokensNotInDef2, _currencies$Field$INP, _currencies$Field$OUT, _currencies$Field$INP2, _currencies$Field$INP3, _currencies$Field$INP4, _currencies$Field$INP5;\n  let {\n    className\n  } = _ref9;\n  const navigate = useNavigate();\n  const {\n    account,\n    chainId\n  } = useWeb3React();\n  const loadedUrlParams = useDefaultsFromURLSearch();\n  const [newSwapQuoteNeedsLogging, setNewSwapQuoteNeedsLogging] = useState(true);\n  const [fetchingSwapQuoteStartTime, setFetchingSwapQuoteStartTime] = useState();\n\n  // token warning stuff\n  const [loadedInputCurrency, loadedOutputCurrency] = [useCurrency(loadedUrlParams === null || loadedUrlParams === void 0 ? void 0 : (_loadedUrlParams$Fiel = loadedUrlParams[Field.INPUT]) === null || _loadedUrlParams$Fiel === void 0 ? void 0 : _loadedUrlParams$Fiel.currencyId), (loadedUrlParams === null || loadedUrlParams === void 0 ? void 0 : (_loadedUrlParams$Fiel2 = loadedUrlParams[Field.OUTPUT]) === null || _loadedUrlParams$Fiel2 === void 0 ? void 0 : _loadedUrlParams$Fiel2.currencyId) ? useCurrency(loadedUrlParams === null || loadedUrlParams === void 0 ? void 0 : (_loadedUrlParams$Fiel3 = loadedUrlParams[Field.OUTPUT]) === null || _loadedUrlParams$Fiel3 === void 0 ? void 0 : _loadedUrlParams$Fiel3.currencyId) : useCurrency(USDT_POLYGON)];\n  const outputCurrencyAddress = ((_DEFAULT_OUTPUT_TOKEN = DEFAULT_OUTPUT_TOKEN_BY_CHAIN[chainId]) === null || _DEFAULT_OUTPUT_TOKEN === void 0 ? void 0 : _DEFAULT_OUTPUT_TOKEN.address) || '';\n  console.log(\"loadedOutputCurrency\", {\n    loadedOutputCurrency,\n    loadedInputCurrency\n  });\n  const [dismissTokenWarning, setDismissTokenWarning] = useState(false);\n  const urlLoadedTokens = useMemo(() => {\n    var _filter, _ref10;\n    return (_filter = (_ref10 = [loadedInputCurrency, loadedOutputCurrency]) === null || _ref10 === void 0 ? void 0 : _ref10.filter(c => {\n      var _c$isToken;\n      return (_c$isToken = c === null || c === void 0 ? void 0 : c.isToken) !== null && _c$isToken !== void 0 ? _c$isToken : false;\n    })) !== null && _filter !== void 0 ? _filter : [];\n  }, [loadedInputCurrency, loadedOutputCurrency]);\n  const handleConfirmTokenWarning = useCallback(() => {\n    setDismissTokenWarning(true);\n  }, []);\n\n  // dismiss warning if all imported tokens are in active lists\n  const defaultTokens = useAllTokens();\n  const importTokensNotInDefault = useMemo(() => urlLoadedTokens && urlLoadedTokens.filter(token => {\n    return !(token.address in defaultTokens);\n  }).filter(token => {\n    // Any token addresses that are loaded from the shorthands map do not need to show the import URL\n    const supported = supportedChainId(chainId);\n    if (!supported) return true;\n    return !Object.keys(TOKEN_SHORTHANDS).some(shorthand => {\n      const shorthandTokenAddress = TOKEN_SHORTHANDS[shorthand][supported];\n      return shorthandTokenAddress && shorthandTokenAddress === token.address;\n    });\n  }), [chainId, defaultTokens, urlLoadedTokens]);\n  const theme = _useTheme();\n\n  // toggle wallet when disconnected\n  const toggleWalletModal = useToggleWalletModal();\n\n  // for expert mode\n  const [isExpertMode] = useExpertModeManager();\n  // swap state\n  const {\n    independentField,\n    typedValue,\n    recipient\n  } = useSwapState();\n  const {\n    trade: {\n      state: tradeState,\n      trade\n    },\n    allowedSlippage,\n    currencyBalances,\n    parsedAmount,\n    currencies,\n    inputError: swapInputError\n  } = useDerivedSwapInfo();\n  const {\n    wrapType,\n    execute: onWrap,\n    inputError: wrapInputError\n  } = useWrapCallback(currencies[Field.INPUT], currencies[Field.OUTPUT], typedValue);\n  const showWrap = wrapType !== WrapType.NOT_APPLICABLE;\n  const {\n    address: recipientAddress\n  } = useENSAddress(recipient);\n  const parsedAmounts = useMemo(() => showWrap ? {\n    [Field.INPUT]: parsedAmount,\n    [Field.OUTPUT]: parsedAmount\n  } : {\n    [Field.INPUT]: independentField === Field.INPUT ? parsedAmount : trade === null || trade === void 0 ? void 0 : trade.inputAmount,\n    [Field.OUTPUT]: independentField === Field.OUTPUT ? parsedAmount : trade === null || trade === void 0 ? void 0 : trade.outputAmount\n  }, [independentField, parsedAmount, showWrap, trade]);\n  const [routeNotFound, routeIsLoading, routeIsSyncing] = useMemo(() => [!(trade === null || trade === void 0 ? void 0 : trade.swaps), TradeState.LOADING === tradeState, TradeState.SYNCING === tradeState], [trade, tradeState]);\n  const fiatValueInput = useStablecoinValue(parsedAmounts[Field.INPUT]);\n  const fiatValueOutput = useStablecoinValue(parsedAmounts[Field.OUTPUT]);\n  const stablecoinPriceImpact = useMemo(() => routeIsSyncing ? undefined : computeFiatValuePriceImpact(fiatValueInput, fiatValueOutput), [fiatValueInput, fiatValueOutput, routeIsSyncing]);\n  const {\n    onSwitchTokens,\n    onCurrencySelection,\n    onUserInput,\n    onChangeRecipient\n  } = useSwapActionHandlers();\n  const isValid = !swapInputError;\n  const dependentField = independentField === Field.INPUT ? Field.OUTPUT : Field.INPUT;\n  const handleTypeInput = useCallback(value => {\n    onUserInput(Field.INPUT, value);\n  }, [onUserInput]);\n  const handleTypeOutput = useCallback(value => {\n    onUserInput(Field.OUTPUT, value);\n  }, [onUserInput]);\n\n  // reset if they close warning without tokens in params\n  const handleDismissTokenWarning = useCallback(() => {\n    setDismissTokenWarning(true);\n    navigate('/swap/');\n  }, [navigate]);\n\n  // modal and loading\n  const [{\n    showConfirm,\n    tradeToConfirm,\n    swapErrorMessage,\n    attemptingTxn,\n    txHash\n  }, setSwapState] = useState({\n    showConfirm: false,\n    tradeToConfirm: undefined,\n    attemptingTxn: false,\n    swapErrorMessage: undefined,\n    txHash: undefined\n  });\n  const formattedAmounts = useMemo(() => {\n    var _parsedAmounts$indepe, _parsedAmounts$indepe2;\n    return {\n      [independentField]: typedValue,\n      [dependentField]: showWrap ? (_parsedAmounts$indepe = (_parsedAmounts$indepe2 = parsedAmounts[independentField]) === null || _parsedAmounts$indepe2 === void 0 ? void 0 : _parsedAmounts$indepe2.toExact()) !== null && _parsedAmounts$indepe !== void 0 ? _parsedAmounts$indepe : '' : formatTransactionAmount(currencyAmountToPreciseFloat(parsedAmounts[dependentField]))\n    };\n  }, [dependentField, independentField, parsedAmounts, showWrap, typedValue]);\n  const userHasSpecifiedInputOutput = Boolean(currencies[Field.INPUT] && currencies[Field.OUTPUT] && ((_parsedAmounts$indepe3 = parsedAmounts[independentField]) === null || _parsedAmounts$indepe3 === void 0 ? void 0 : _parsedAmounts$indepe3.greaterThan(JSBI.BigInt(0))));\n  const permit2Enabled = usePermit2Enabled();\n  const maximumAmountIn = useMemo(() => {\n    const maximumAmountIn = trade === null || trade === void 0 ? void 0 : trade.maximumAmountIn(allowedSlippage);\n    return (maximumAmountIn === null || maximumAmountIn === void 0 ? void 0 : maximumAmountIn.currency.isToken) ? maximumAmountIn : undefined;\n  }, [allowedSlippage, trade]);\n  const permit = usePermit(permit2Enabled ? maximumAmountIn : undefined, permit2Enabled && chainId ? UNIVERSAL_ROUTER_ADDRESS(chainId) : undefined);\n  const isApprovalLoading = permit.state === PermitState.APPROVAL_LOADING;\n  const [isPermitPending, setIsPermitPending] = useState(false);\n  const [isPermitFailed, setIsPermitFailed] = useState(false);\n  const addTransaction = useTransactionAdder();\n  const updatePermit = useCallback(async () => {\n    setIsPermitPending(true);\n    try {\n      var _permit$callback;\n      const approval = await ((_permit$callback = permit.callback) === null || _permit$callback === void 0 ? void 0 : _permit$callback.call(permit));\n      if (approval) {\n        sendAnalyticsEvent(EventName.APPROVE_TOKEN_TXN_SUBMITTED, {\n          chain_id: chainId,\n          token_symbol: maximumAmountIn === null || maximumAmountIn === void 0 ? void 0 : maximumAmountIn.currency.symbol,\n          token_address: maximumAmountIn === null || maximumAmountIn === void 0 ? void 0 : maximumAmountIn.currency.address\n        });\n        const {\n          response,\n          info\n        } = approval;\n        addTransaction(response, info);\n      }\n      setIsPermitFailed(false);\n    } catch (e) {\n      console.error(e);\n      setIsPermitFailed(true);\n    } finally {\n      setIsPermitPending(false);\n    }\n  }, [addTransaction, chainId, maximumAmountIn === null || maximumAmountIn === void 0 ? void 0 : maximumAmountIn.currency.address, maximumAmountIn === null || maximumAmountIn === void 0 ? void 0 : maximumAmountIn.currency.symbol, permit]);\n\n  // check whether the user has approved the router on the input token\n  const [approvalState, approveCallback] = useApproveCallbackFromTrade(permit2Enabled ? undefined : trade, allowedSlippage);\n  const transactionDeadline = useTransactionDeadline();\n  const {\n    state: signatureState,\n    signatureData,\n    gatherPermitSignature\n  } = useERC20PermitFromTrade(permit2Enabled ? undefined : trade, allowedSlippage, transactionDeadline);\n  const [approvalPending, setApprovalPending] = useState(false);\n  const [rotate, setRotate] = useState(false);\n  const handleApprove = useCallback(async () => {\n    setApprovalPending(true);\n    try {\n      if (signatureState === UseERC20PermitState.NOT_SIGNED && gatherPermitSignature) {\n        try {\n          await gatherPermitSignature();\n        } catch (error) {\n          // try to approve if gatherPermitSignature failed for any reason other than the user rejecting it\n          if ((error === null || error === void 0 ? void 0 : error.code) !== 4001) {\n            await approveCallback();\n          }\n        }\n      } else {\n        var _trade$inputAmount;\n        await approveCallback();\n        sendEvent({\n          category: 'Swap',\n          action: 'Approve',\n          label: [TRADE_STRING, trade === null || trade === void 0 ? void 0 : (_trade$inputAmount = trade.inputAmount) === null || _trade$inputAmount === void 0 ? void 0 : _trade$inputAmount.currency.symbol].join('/')\n        });\n      }\n    } finally {\n      setApprovalPending(false);\n    }\n  }, [signatureState, gatherPermitSignature, approveCallback, trade === null || trade === void 0 ? void 0 : (_trade$inputAmount2 = trade.inputAmount) === null || _trade$inputAmount2 === void 0 ? void 0 : _trade$inputAmount2.currency.symbol]);\n\n  // check if user has gone through approval process, used to show two step buttons, reset on token change\n  const [approvalSubmitted, setApprovalSubmitted] = useState(false);\n\n  // mark when a user has submitted an approval, reset onTokenSelection for input field\n  useEffect(() => {\n    if (approvalState === ApprovalState.PENDING) {\n      setApprovalSubmitted(true);\n    }\n  }, [approvalState, approvalSubmitted]);\n  const handleRotateClick = useCallback(() => {\n    setApprovalSubmitted(false); // reset 2 step UI for approvals\n    setRotate(prev => !prev);\n    onSwitchTokens();\n  }, [onSwitchTokens]);\n  const maxInputAmount = useMemo(() => maxAmountSpend(currencyBalances[Field.INPUT]), [currencyBalances]);\n  const showMaxButton = Boolean((maxInputAmount === null || maxInputAmount === void 0 ? void 0 : maxInputAmount.greaterThan(0)) && !((_parsedAmounts$Field$ = parsedAmounts[Field.INPUT]) === null || _parsedAmounts$Field$ === void 0 ? void 0 : _parsedAmounts$Field$.equalTo(maxInputAmount)));\n\n  // the callback to execute the swap\n  const {\n    callback: swapCallback,\n    error: swapCallbackError\n  } = useSwapCallback(trade, allowedSlippage, recipient, signatureData, permit);\n  const handleSwap = useCallback(() => {\n    if (!swapCallback) {\n      return;\n    }\n    if (stablecoinPriceImpact && !confirmPriceImpactWithoutFee(stablecoinPriceImpact)) {\n      return;\n    }\n    setSwapState({\n      attemptingTxn: true,\n      tradeToConfirm,\n      showConfirm,\n      swapErrorMessage: undefined,\n      txHash: undefined\n    });\n    swapCallback().then(hash => {\n      var _trade$inputAmount3, _trade$inputAmount3$c, _trade$outputAmount, _trade$outputAmount$c;\n      setSwapState({\n        attemptingTxn: false,\n        tradeToConfirm,\n        showConfirm,\n        swapErrorMessage: undefined,\n        txHash: hash\n      });\n      sendEvent({\n        category: 'Swap',\n        action: 'transaction hash',\n        label: hash\n      });\n      sendEvent({\n        category: 'Swap',\n        action: recipient === null ? 'Swap w/o Send' : (recipientAddress !== null && recipientAddress !== void 0 ? recipientAddress : recipient) === account ? 'Swap w/o Send + recipient' : 'Swap w/ Send',\n        label: [TRADE_STRING, trade === null || trade === void 0 ? void 0 : (_trade$inputAmount3 = trade.inputAmount) === null || _trade$inputAmount3 === void 0 ? void 0 : (_trade$inputAmount3$c = _trade$inputAmount3.currency) === null || _trade$inputAmount3$c === void 0 ? void 0 : _trade$inputAmount3$c.symbol, trade === null || trade === void 0 ? void 0 : (_trade$outputAmount = trade.outputAmount) === null || _trade$outputAmount === void 0 ? void 0 : (_trade$outputAmount$c = _trade$outputAmount.currency) === null || _trade$outputAmount$c === void 0 ? void 0 : _trade$outputAmount$c.symbol, 'MH'].join('/')\n      });\n    }).catch(error => {\n      setSwapState({\n        attemptingTxn: false,\n        tradeToConfirm,\n        showConfirm,\n        swapErrorMessage: error.message,\n        txHash: undefined\n      });\n    });\n  }, [swapCallback, stablecoinPriceImpact, tradeToConfirm, showConfirm, recipient, recipientAddress, account, trade === null || trade === void 0 ? void 0 : (_trade$inputAmount4 = trade.inputAmount) === null || _trade$inputAmount4 === void 0 ? void 0 : (_trade$inputAmount4$c = _trade$inputAmount4.currency) === null || _trade$inputAmount4$c === void 0 ? void 0 : _trade$inputAmount4$c.symbol, trade === null || trade === void 0 ? void 0 : (_trade$outputAmount2 = trade.outputAmount) === null || _trade$outputAmount2 === void 0 ? void 0 : (_trade$outputAmount2$ = _trade$outputAmount2.currency) === null || _trade$outputAmount2$ === void 0 ? void 0 : _trade$outputAmount2$.symbol]);\n\n  // errors\n  const [swapQuoteReceivedDate, setSwapQuoteReceivedDate] = useState();\n\n  // warnings on the greater of fiat value price impact and execution price impact\n  const {\n    priceImpactSeverity,\n    largerPriceImpact\n  } = useMemo(() => {\n    const marketPriceImpact = (trade === null || trade === void 0 ? void 0 : trade.priceImpact) ? computeRealizedPriceImpact(trade) : undefined;\n    const largerPriceImpact = largerPercentValue(marketPriceImpact, stablecoinPriceImpact);\n    return {\n      priceImpactSeverity: warningSeverity(largerPriceImpact),\n      largerPriceImpact\n    };\n  }, [stablecoinPriceImpact, trade]);\n  const isArgentWallet = useIsArgentWallet();\n\n  // show approve flow when: no error on inputs, not approved or pending, or approved in current session\n  // never show if price impact is above threshold in non expert mode\n  const showApproveFlow = !permit2Enabled && !isArgentWallet && !swapInputError && (approvalState === ApprovalState.NOT_APPROVED || approvalState === ApprovalState.PENDING || approvalSubmitted && approvalState === ApprovalState.APPROVED) && !(priceImpactSeverity > 3 && !isExpertMode);\n  const handleConfirmDismiss = useCallback(() => {\n    setSwapState({\n      showConfirm: false,\n      tradeToConfirm,\n      attemptingTxn,\n      swapErrorMessage,\n      txHash\n    });\n    // if there was a tx hash, we want to clear the input\n    if (txHash) {\n      onUserInput(Field.INPUT, '');\n    }\n  }, [attemptingTxn, onUserInput, swapErrorMessage, tradeToConfirm, txHash]);\n  const handleAcceptChanges = useCallback(() => {\n    setSwapState({\n      tradeToConfirm: trade,\n      swapErrorMessage,\n      txHash,\n      attemptingTxn,\n      showConfirm\n    });\n  }, [attemptingTxn, showConfirm, swapErrorMessage, trade, txHash]);\n  const handleInputSelect = useCallback(inputCurrency => {\n    setApprovalSubmitted(false); // reset 2 step UI for approvals\n    onCurrencySelection(Field.INPUT, inputCurrency);\n  }, [onCurrencySelection]);\n  const handleMaxInput = useCallback(() => {\n    maxInputAmount && onUserInput(Field.INPUT, maxInputAmount.toExact());\n    sendEvent({\n      category: 'Swap',\n      action: 'Max'\n    });\n  }, [maxInputAmount, onUserInput]);\n  const handleOutputSelect = useCallback(outputCurrency => onCurrencySelection(Field.OUTPUT, outputCurrency), [onCurrencySelection]);\n  const swapIsUnsupported = useIsSwapUnsupported(currencies[Field.INPUT], currencies[Field.OUTPUT]);\n  const priceImpactTooHigh = priceImpactSeverity > 3 && !isExpertMode;\n  const showPriceImpactWarning = largerPriceImpact && priceImpactSeverity > 3;\n\n  // Handle time based logging events and event properties.\n  useEffect(() => {\n    const now = new Date();\n    // If a trade exists, and we need to log the receipt of this new swap quote:\n    if (newSwapQuoteNeedsLogging && !!trade) {\n      var _trade$gasUseEstimate;\n      // Set the current datetime as the time of receipt of latest swap quote.\n      setSwapQuoteReceivedDate(now);\n      // Log swap quote.\n      sendAnalyticsEvent(EventName.SWAP_QUOTE_RECEIVED, formatSwapQuoteReceivedEventProperties(trade, (_trade$gasUseEstimate = trade.gasUseEstimateUSD) !== null && _trade$gasUseEstimate !== void 0 ? _trade$gasUseEstimate : undefined, fetchingSwapQuoteStartTime));\n      // Latest swap quote has just been logged, so we don't need to log the current trade anymore\n      // unless user inputs change again and a new trade is in the process of being generated.\n      setNewSwapQuoteNeedsLogging(false);\n      // New quote is not being fetched, so set start time of quote fetch to undefined.\n      setFetchingSwapQuoteStartTime(undefined);\n    }\n    // If another swap quote is being loaded based on changed user inputs:\n    if (routeIsLoading) {\n      setNewSwapQuoteNeedsLogging(true);\n      if (!fetchingSwapQuoteStartTime) setFetchingSwapQuoteStartTime(now);\n    }\n  }, [newSwapQuoteNeedsLogging, routeIsSyncing, routeIsLoading, fetchingSwapQuoteStartTime, trade, setSwapQuoteReceivedDate]);\n  const approveTokenButtonDisabled = approvalState !== ApprovalState.NOT_APPROVED || approvalSubmitted || signatureState === UseERC20PermitState.SIGNED;\n  const showDetailsDropdown = Boolean(!showWrap && userHasSpecifiedInputOutput && (trade || routeIsLoading || routeIsSyncing));\n  return /*#__PURE__*/_jsxDEV(Trace, {\n    page: PageName.SWAP_PAGE,\n    shouldLogImpression: true,\n    children: /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(TokenSafetyModal, {\n        isOpen: importTokensNotInDefault.length > 0 && !dismissTokenWarning,\n        tokenAddress: (_importTokensNotInDef = importTokensNotInDefault[0]) === null || _importTokensNotInDef === void 0 ? void 0 : _importTokensNotInDef.address,\n        secondTokenAddress: (_importTokensNotInDef2 = importTokensNotInDefault[1]) === null || _importTokensNotInDef2 === void 0 ? void 0 : _importTokensNotInDef2.address,\n        onContinue: handleConfirmTokenWarning,\n        onCancel: handleDismissTokenWarning,\n        showCancel: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 568,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(PageWrapper, {\n        children: /*#__PURE__*/_jsxDEV(SwapPanel, {\n          children: [/*#__PURE__*/_jsxDEV(ChartWrapper, {\n            className: className,\n            id: \"swap-page\",\n            children: /*#__PURE__*/_jsxDEV(LiveChart, {\n              onRotateClick: handleRotateClick,\n              currencies: currencies\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 581,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 578,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(SwapWrapper, {\n            className: className,\n            id: \"swap-page\",\n            children: [/*#__PURE__*/_jsxDEV(SwapHeader, {\n              allowedSlippage: allowedSlippage\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 585,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(ConfirmSwapModal, {\n              isOpen: showConfirm,\n              trade: trade,\n              originalTrade: tradeToConfirm,\n              onAcceptChanges: handleAcceptChanges,\n              attemptingTxn: attemptingTxn,\n              txHash: txHash,\n              recipient: recipient,\n              allowedSlippage: allowedSlippage,\n              onConfirm: handleSwap,\n              swapErrorMessage: swapErrorMessage,\n              onDismiss: handleConfirmDismiss,\n              swapQuoteReceivedDate: swapQuoteReceivedDate,\n              fiatValueInput: fiatValueInput,\n              fiatValueOutput: fiatValueOutput\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 586,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'relative'\n              },\n              children: [/*#__PURE__*/_jsxDEV(SwapSection, {\n                children: /*#__PURE__*/_jsxDEV(Trace, {\n                  section: SectionName.CURRENCY_INPUT_PANEL,\n                  children: /*#__PURE__*/_jsxDEV(SwapCurrencyInputPanel, {\n                    label: independentField === Field.OUTPUT && !showWrap ? /*#__PURE__*/_jsxDEV(Trans, {\n                      id: \"From (at most)\"\n                    }, void 0, false, void 0, this) : /*#__PURE__*/_jsxDEV(Trans, {\n                      id: \"From\"\n                    }, void 0, false, void 0, this),\n                    value: formattedAmounts[Field.INPUT],\n                    showMaxButton: showMaxButton,\n                    currency: (_currencies$Field$INP = currencies[Field.INPUT]) !== null && _currencies$Field$INP !== void 0 ? _currencies$Field$INP : null,\n                    onUserInput: handleTypeInput,\n                    onMax: handleMaxInput,\n                    fiatValue: fiatValueInput !== null && fiatValueInput !== void 0 ? fiatValueInput : undefined,\n                    onCurrencySelect: handleInputSelect,\n                    otherCurrency: currencies[Field.OUTPUT],\n                    showCommonBases: true,\n                    id: SectionName.CURRENCY_INPUT_PANEL,\n                    loading: independentField === Field.OUTPUT && routeIsSyncing\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 606,\n                    columnNumber: 19\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 605,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 604,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(ArrowWrapper, {\n                clickable: isSupportedChain(chainId),\n                children: /*#__PURE__*/_jsxDEV(TraceEvent, {\n                  events: [BrowserEvent.onClick],\n                  name: EventName.SWAP_TOKENS_REVERSED,\n                  element: ElementName.SWAP_TOKENS_REVERSE_ARROW_BUTTON,\n                  children: /*#__PURE__*/_jsxDEV(ArrowContainer, {\n                    onClick: () => {\n                      setApprovalSubmitted(false); // reset 2 step UI for approvals\n                      onSwitchTokens();\n                    },\n                    color: theme.textPrimary,\n                    children: /*#__PURE__*/_jsxDEV(ArrowDown, {\n                      size: \"16\",\n                      color: currencies[Field.INPUT] && currencies[Field.OUTPUT] ? theme.textPrimary : theme.textTertiary\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 641,\n                      columnNumber: 21\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 634,\n                    columnNumber: 19\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 629,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 628,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 603,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(AutoColumn, {\n              gap: \"md\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(OutputSwapSection, {\n                  showDetailsDropdown: showDetailsDropdown,\n                  children: [/*#__PURE__*/_jsxDEV(Trace, {\n                    section: SectionName.CURRENCY_OUTPUT_PANEL,\n                    children: /*#__PURE__*/_jsxDEV(SwapCurrencyInputPanel, {\n                      value: formattedAmounts[Field.OUTPUT],\n                      onUserInput: handleTypeOutput,\n                      label: independentField === Field.INPUT && !showWrap ? /*#__PURE__*/_jsxDEV(Trans, {\n                        id: \"To (at least)\"\n                      }, void 0, false, void 0, this) : /*#__PURE__*/_jsxDEV(Trans, {\n                        id: \"To\"\n                      }, void 0, false, void 0, this),\n                      showMaxButton: false,\n                      hideBalance: false,\n                      fiatValue: fiatValueOutput !== null && fiatValueOutput !== void 0 ? fiatValueOutput : undefined,\n                      priceImpact: stablecoinPriceImpact,\n                      currency: (_currencies$Field$OUT = currencies[Field.OUTPUT]) !== null && _currencies$Field$OUT !== void 0 ? _currencies$Field$OUT : null,\n                      onCurrencySelect: handleOutputSelect,\n                      otherCurrency: currencies[Field.INPUT],\n                      showCommonBases: true,\n                      id: SectionName.CURRENCY_OUTPUT_PANEL,\n                      loading: independentField === Field.INPUT && routeIsSyncing\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 655,\n                      columnNumber: 21\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 654,\n                    columnNumber: 19\n                  }, this), recipient !== null && !showWrap ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(AutoRow, {\n                      justify: \"space-between\",\n                      style: {\n                        padding: '0 1rem'\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(ArrowWrapper, {\n                        clickable: false,\n                        children: /*#__PURE__*/_jsxDEV(ArrowDown, {\n                          size: \"16\",\n                          color: theme.textSecondary\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 678,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 677,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(LinkStyledButton, {\n                        id: \"remove-recipient-button\",\n                        onClick: () => onChangeRecipient(null),\n                        children: /*#__PURE__*/_jsxDEV(Trans, {\n                          id: \"- Remove recipient\"\n                        }, void 0, false, void 0, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 680,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 676,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(AddressInputPanel, {\n                      id: \"recipient\",\n                      value: recipient,\n                      onChange: onChangeRecipient\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 684,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true) : null]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 653,\n                  columnNumber: 17\n                }, this), showDetailsDropdown && /*#__PURE__*/_jsxDEV(DetailsSwapSection, {\n                  children: /*#__PURE__*/_jsxDEV(SwapDetailsDropdown, {\n                    trade: trade,\n                    syncing: routeIsSyncing,\n                    loading: routeIsLoading,\n                    allowedSlippage: allowedSlippage\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 690,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 689,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 652,\n                columnNumber: 15\n              }, this), showPriceImpactWarning && /*#__PURE__*/_jsxDEV(PriceImpactWarning, {\n                priceImpact: largerPriceImpact\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 699,\n                columnNumber: 42\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [swapIsUnsupported ? /*#__PURE__*/_jsxDEV(ButtonPrimary, {\n                  disabled: true,\n                  children: /*#__PURE__*/_jsxDEV(ThemedText.DeprecatedMain, {\n                    mb: \"4px\",\n                    children: /*#__PURE__*/_jsxDEV(Trans, {\n                      id: \"Unsupported Asset\"\n                    }, void 0, false, void 0, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 703,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 702,\n                  columnNumber: 19\n                }, this) : !account ? /*#__PURE__*/_jsxDEV(TraceEvent, {\n                  events: [BrowserEvent.onClick],\n                  name: EventName.CONNECT_WALLET_BUTTON_CLICKED,\n                  properties: {\n                    received_swap_quote: getIsValidSwapQuote(trade, tradeState, swapInputError)\n                  },\n                  element: ElementName.CONNECT_WALLET_BUTTON,\n                  children: /*#__PURE__*/_jsxDEV(ButtonLight, {\n                    onClick: toggleWalletModal,\n                    fontWeight: 600,\n                    children: /*#__PURE__*/_jsxDEV(Trans, {\n                      id: \"Connect Wallet\"\n                    }, void 0, false, void 0, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 714,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 708,\n                  columnNumber: 19\n                }, this) : showWrap ? /*#__PURE__*/_jsxDEV(ButtonPrimary, {\n                  disabled: Boolean(wrapInputError),\n                  onClick: onWrap,\n                  fontWeight: 600,\n                  children: wrapInputError ? /*#__PURE__*/_jsxDEV(WrapErrorText, {\n                    wrapInputError: wrapInputError\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 721,\n                    columnNumber: 23\n                  }, this) : wrapType === WrapType.WRAP ? /*#__PURE__*/_jsxDEV(Trans, {\n                    id: \"Wrap\"\n                  }, void 0, false, void 0, this) : wrapType === WrapType.UNWRAP ? /*#__PURE__*/_jsxDEV(Trans, {\n                    id: \"Unwrap\"\n                  }, void 0, false, void 0, this) : null\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 719,\n                  columnNumber: 19\n                }, this) : routeNotFound && userHasSpecifiedInputOutput && !routeIsLoading && !routeIsSyncing ? /*#__PURE__*/_jsxDEV(GrayCard, {\n                  style: {\n                    textAlign: 'center'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(ThemedText.DeprecatedMain, {\n                    mb: \"4px\",\n                    children: /*#__PURE__*/_jsxDEV(Trans, {\n                      id: \"Insufficient liquidity for this trade.\"\n                    }, void 0, false, void 0, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 730,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 729,\n                  columnNumber: 19\n                }, this) : showApproveFlow ? /*#__PURE__*/_jsxDEV(AutoRow, {\n                  style: {\n                    flexWrap: 'nowrap',\n                    width: '100%'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(AutoColumn, {\n                    style: {\n                      width: '100%'\n                    },\n                    gap: \"12px\",\n                    children: [/*#__PURE__*/_jsxDEV(ButtonConfirmed, {\n                      fontWeight: 600,\n                      onClick: handleApprove,\n                      disabled: approveTokenButtonDisabled,\n                      width: \"100%\",\n                      altDisabledStyle: approvalState === ApprovalState.PENDING // show solid button while waiting\n                      ,\n                      confirmed: approvalState === ApprovalState.APPROVED || signatureState === UseERC20PermitState.SIGNED,\n                      children: /*#__PURE__*/_jsxDEV(AutoRow, {\n                        justify: \"space-between\",\n                        style: {\n                          flexWrap: 'nowrap'\n                        },\n                        height: \"20px\",\n                        children: [approvalState === ApprovalState.APPROVED || signatureState === UseERC20PermitState.SIGNED ? /*#__PURE__*/_jsxDEV(ThemedText.SubHeader, {\n                          width: \"100%\",\n                          textAlign: \"center\",\n                          color: \"textSecondary\",\n                          children: /*#__PURE__*/_jsxDEV(Trans, {\n                            id: \"You can now trade {0}\",\n                            values: {\n                              0: (_currencies$Field$INP2 = currencies[Field.INPUT]) === null || _currencies$Field$INP2 === void 0 ? void 0 : _currencies$Field$INP2.symbol\n                            }\n                          }, void 0, false, void 0, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 750,\n                          columnNumber: 29\n                        }, this) : /*#__PURE__*/_jsxDEV(ThemedText.SubHeader, {\n                          width: \"100%\",\n                          textAlign: \"center\",\n                          color: \"white\",\n                          children: /*#__PURE__*/_jsxDEV(Trans, {\n                            id: \"Allow the Uniswap Protocol to use your {0}\",\n                            values: {\n                              0: (_currencies$Field$INP3 = currencies[Field.INPUT]) === null || _currencies$Field$INP3 === void 0 ? void 0 : _currencies$Field$INP3.symbol\n                            }\n                          }, void 0, false, void 0, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 754,\n                          columnNumber: 29\n                        }, this), approvalPending || approvalState === ApprovalState.PENDING ? /*#__PURE__*/_jsxDEV(Loader, {\n                          stroke: theme.white\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 760,\n                          columnNumber: 29\n                        }, this) : approvalSubmitted && approvalState === ApprovalState.APPROVED || signatureState === UseERC20PermitState.SIGNED ? /*#__PURE__*/_jsxDEV(CheckCircle, {\n                          size: \"20\",\n                          color: theme.accentSuccess\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 763,\n                          columnNumber: 29\n                        }, this) : /*#__PURE__*/_jsxDEV(MouseoverTooltip, {\n                          text: /*#__PURE__*/_jsxDEV(Trans, {\n                            id: \"You must give the Uniswap smart contracts permission to use your {0}. You only have to do this once per token.\",\n                            values: {\n                              0: (_currencies$Field$INP4 = currencies[Field.INPUT]) === null || _currencies$Field$INP4 === void 0 ? void 0 : _currencies$Field$INP4.symbol\n                            }\n                          }, void 0, false, void 0, this),\n                          children: /*#__PURE__*/_jsxDEV(HelpCircle, {\n                            size: \"20\",\n                            color: theme.white,\n                            style: {\n                              marginLeft: '8px'\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 773,\n                            columnNumber: 31\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 765,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 747,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 737,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(ButtonError, {\n                      onClick: () => {\n                        if (isExpertMode) {\n                          handleSwap();\n                        } else {\n                          setSwapState({\n                            tradeToConfirm: trade,\n                            attemptingTxn: false,\n                            swapErrorMessage: undefined,\n                            showConfirm: true,\n                            txHash: undefined\n                          });\n                        }\n                      },\n                      width: \"100%\",\n                      id: \"swap-button\",\n                      disabled: !isValid || routeIsSyncing || routeIsLoading || approvalState !== ApprovalState.APPROVED && signatureState !== UseERC20PermitState.SIGNED || priceImpactTooHigh,\n                      error: isValid && priceImpactSeverity > 2,\n                      children: /*#__PURE__*/_jsxDEV(Text, {\n                        fontSize: 16,\n                        fontWeight: 600,\n                        children: priceImpactTooHigh ? /*#__PURE__*/_jsxDEV(Trans, {\n                          id: \"High Price Impact\"\n                        }, void 0, false, void 0, this) : trade && priceImpactSeverity > 2 ? /*#__PURE__*/_jsxDEV(Trans, {\n                          id: \"Swap Anyway\"\n                        }, void 0, false, void 0, this) : /*#__PURE__*/_jsxDEV(Trans, {\n                          id: \"Swap\"\n                        }, void 0, false, void 0, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 803,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 778,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 736,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 735,\n                  columnNumber: 19\n                }, this) : isValid && (permit.state === PermitState.APPROVAL_OR_PERMIT_NEEDED || permit.state === PermitState.APPROVAL_LOADING) ? /*#__PURE__*/_jsxDEV(ButtonYellow, {\n                  onClick: updatePermit,\n                  disabled: isPermitPending || isApprovalLoading,\n                  style: {\n                    gap: 14\n                  },\n                  children: isPermitPending ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(Loader, {\n                      size: \"20px\",\n                      stroke: theme.accentWarning\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 825,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(ThemedText.SubHeader, {\n                      color: \"accentWarning\",\n                      children: /*#__PURE__*/_jsxDEV(Trans, {\n                        id: \"Approve in your wallet\"\n                      }, void 0, false, void 0, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 826,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true) : isPermitFailed ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(AlertTriangle, {\n                      size: 20,\n                      stroke: theme.accentWarning\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 832,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(ThemedText.SubHeader, {\n                      color: \"accentWarning\",\n                      children: /*#__PURE__*/_jsxDEV(Trans, {\n                        id: \"Approval failed. Try again.\"\n                      }, void 0, false, void 0, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 833,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true) : isApprovalLoading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(Loader, {\n                      size: \"20px\",\n                      stroke: theme.accentWarning\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 839,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(ThemedText.SubHeader, {\n                      color: \"accentWarning\",\n                      children: /*#__PURE__*/_jsxDEV(Trans, {\n                        id: \"Approval pending\"\n                      }, void 0, false, void 0, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 840,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        height: 20\n                      },\n                      children: /*#__PURE__*/_jsxDEV(MouseoverTooltip, {\n                        text: /*#__PURE__*/_jsxDEV(Trans, {\n                          id: \"Permission is required for Uniswap to swap each token. This will expire after one month for your security.\"\n                        }, void 0, false, void 0, this),\n                        children: /*#__PURE__*/_jsxDEV(Info, {\n                          size: 20,\n                          color: theme.accentWarning\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 855,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 847,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 846,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(ThemedText.SubHeader, {\n                      color: \"accentWarning\",\n                      children: /*#__PURE__*/_jsxDEV(Trans, {\n                        id: \"Approve use of {0}\",\n                        values: {\n                          0: (_currencies$Field$INP5 = currencies[Field.INPUT]) === null || _currencies$Field$INP5 === void 0 ? void 0 : _currencies$Field$INP5.symbol\n                        }\n                      }, void 0, false, void 0, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 858,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 818,\n                  columnNumber: 19\n                }, this) : /*#__PURE__*/_jsxDEV(ButtonError, {\n                  onClick: () => {\n                    if (isExpertMode) {\n                      handleSwap();\n                    } else {\n                      setSwapState({\n                        tradeToConfirm: trade,\n                        attemptingTxn: false,\n                        swapErrorMessage: undefined,\n                        showConfirm: true,\n                        txHash: undefined\n                      });\n                    }\n                  },\n                  id: \"swap-button\",\n                  disabled: !isValid || routeIsSyncing || routeIsLoading || priceImpactTooHigh || (permit2Enabled ? permit.state === PermitState.LOADING : Boolean(swapCallbackError)),\n                  error: isValid && priceImpactSeverity > 2 && (permit2Enabled || !swapCallbackError),\n                  children: /*#__PURE__*/_jsxDEV(Text, {\n                    fontSize: 20,\n                    fontWeight: 600,\n                    children: swapInputError ? swapInputError : routeIsSyncing || routeIsLoading ? /*#__PURE__*/_jsxDEV(Trans, {\n                      id: \"Swap\"\n                    }, void 0, false, void 0, this) : priceImpactTooHigh ? /*#__PURE__*/_jsxDEV(Trans, {\n                      id: \"Price Impact Too High\"\n                    }, void 0, false, void 0, this) : priceImpactSeverity > 2 ? /*#__PURE__*/_jsxDEV(Trans, {\n                      id: \"Swap Anyway\"\n                    }, void 0, false, void 0, this) : /*#__PURE__*/_jsxDEV(Trans, {\n                      id: \"Swap\"\n                    }, void 0, false, void 0, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 889,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 865,\n                  columnNumber: 19\n                }, this), isExpertMode && swapErrorMessage ? /*#__PURE__*/_jsxDEV(SwapCallbackError, {\n                  error: swapErrorMessage\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 904,\n                  columnNumber: 53\n                }, this) : null, /*#__PURE__*/_jsxDEV(NetworkAlert, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 906,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 700,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 651,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 583,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 577,\n          columnNumber: 10\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 576,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SwitchLocaleLink, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 913,\n        columnNumber: 9\n      }, this), !swapIsUnsupported ? null : /*#__PURE__*/_jsxDEV(UnsupportedCurrencyFooter, {\n        show: swapIsUnsupported,\n        currencies: [currencies[Field.INPUT], currencies[Field.OUTPUT]]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 915,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 566,\n    columnNumber: 5\n  }, this);\n}\n_s(Swap, \"ajaCmrlwPfL0NoLD9Eysu7Cmppo=\", false, function () {\n  return [useNavigate, useWeb3React, useDefaultsFromURLSearch, useCurrency, useCurrency, useCurrency, useAllTokens, _useTheme, useToggleWalletModal, useExpertModeManager, useSwapState, useDerivedSwapInfo, useWrapCallback, useENSAddress, useStablecoinValue, useStablecoinValue, useSwapActionHandlers, usePermit2Enabled, usePermit, useTransactionAdder, useApproveCallbackFromTrade, useTransactionDeadline, useERC20PermitFromTrade, useSwapCallback, useIsArgentWallet, useIsSwapUnsupported];\n});\n_c3 = Swap;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"LiveChart$lazy\");\n$RefreshReg$(_c2, \"LiveChart\");\n$RefreshReg$(_c3, \"Swap\");","map":{"version":3,"names":["sendAnalyticsEvent","Trace","TraceEvent","BrowserEvent","ElementName","EventName","PageName","SectionName","UNIVERSAL_ROUTER_ADDRESS","useWeb3React","sendEvent","NetworkAlert","PriceImpactWarning","SwapDetailsDropdown","UnsupportedCurrencyFooter","TokenSafetyModal","MouseoverTooltip","isSupportedChain","usePermit2Enabled","usePermit","PermitState","useSwapCallback","useTransactionDeadline","JSBI","formatSwapQuoteReceivedEventProperties","useCallback","useEffect","useMemo","useState","lazy","AlertTriangle","ArrowDown","CheckCircle","HelpCircle","Info","useNavigate","Text","useToggleWalletModal","TradeState","useTransactionAdder","currencyAmountToPreciseFloat","formatTransactionAmount","AddressInputPanel","ButtonConfirmed","ButtonError","ButtonLight","ButtonPrimary","ButtonYellow","GrayCard","AutoColumn","SwapCurrencyInputPanel","Loader","AutoRow","confirmPriceImpactWithoutFee","ConfirmSwapModal","ArrowWrapper","PageWrapper","SwapCallbackError","SwapWrapper","ChartWrapper","SwapPanel","SwapHeader","SwitchLocaleLink","TOKEN_SHORTHANDS","useAllTokens","useCurrency","ApprovalState","useApproveCallbackFromTrade","useENSAddress","useERC20PermitFromTrade","UseERC20PermitState","useIsArgentWallet","useIsSwapUnsupported","useStablecoinValue","useWrapCallback","WrapErrorText","WrapType","Field","useDefaultsFromURLSearch","useDerivedSwapInfo","useSwapActionHandlers","useSwapState","useExpertModeManager","LinkStyledButton","ThemedText","computeFiatValuePriceImpact","maxAmountSpend","computeRealizedPriceImpact","warningSeverity","supportedChainId","LiveChart","ArrowContainer","styled","div","SwapSection","theme","backgroundModule","textSecondary","stateOverlayHover","stateOverlayPressed","OutputSwapSection","backgroundSurface","showDetailsDropdown","DetailsSwapSection","getIsValidSwapQuote","trade","tradeState","swapInputError","VALID","SYNCING","largerPercentValue","a","b","greaterThan","undefined","TRADE_STRING","Swap","className","navigate","account","chainId","loadedUrlParams","newSwapQuoteNeedsLogging","setNewSwapQuoteNeedsLogging","fetchingSwapQuoteStartTime","setFetchingSwapQuoteStartTime","loadedInputCurrency","loadedOutputCurrency","INPUT","currencyId","OUTPUT","USDT_POLYGON","outputCurrencyAddress","DEFAULT_OUTPUT_TOKEN_BY_CHAIN","address","console","log","dismissTokenWarning","setDismissTokenWarning","urlLoadedTokens","filter","c","isToken","handleConfirmTokenWarning","defaultTokens","importTokensNotInDefault","token","supported","Object","keys","some","shorthand","shorthandTokenAddress","useTheme","toggleWalletModal","isExpertMode","independentField","typedValue","recipient","state","allowedSlippage","currencyBalances","parsedAmount","currencies","inputError","wrapType","execute","onWrap","wrapInputError","showWrap","NOT_APPLICABLE","recipientAddress","parsedAmounts","inputAmount","outputAmount","routeNotFound","routeIsLoading","routeIsSyncing","swaps","LOADING","fiatValueInput","fiatValueOutput","stablecoinPriceImpact","onSwitchTokens","onCurrencySelection","onUserInput","onChangeRecipient","isValid","dependentField","handleTypeInput","value","handleTypeOutput","handleDismissTokenWarning","showConfirm","tradeToConfirm","swapErrorMessage","attemptingTxn","txHash","setSwapState","formattedAmounts","toExact","userHasSpecifiedInputOutput","Boolean","BigInt","permit2Enabled","maximumAmountIn","currency","permit","isApprovalLoading","APPROVAL_LOADING","isPermitPending","setIsPermitPending","isPermitFailed","setIsPermitFailed","addTransaction","updatePermit","approval","callback","APPROVE_TOKEN_TXN_SUBMITTED","chain_id","token_symbol","symbol","token_address","response","info","e","error","approvalState","approveCallback","transactionDeadline","signatureState","signatureData","gatherPermitSignature","approvalPending","setApprovalPending","rotate","setRotate","handleApprove","NOT_SIGNED","code","category","action","label","join","approvalSubmitted","setApprovalSubmitted","PENDING","handleRotateClick","prev","maxInputAmount","showMaxButton","equalTo","swapCallback","swapCallbackError","handleSwap","then","hash","catch","message","swapQuoteReceivedDate","setSwapQuoteReceivedDate","priceImpactSeverity","largerPriceImpact","marketPriceImpact","priceImpact","isArgentWallet","showApproveFlow","NOT_APPROVED","APPROVED","handleConfirmDismiss","handleAcceptChanges","handleInputSelect","inputCurrency","handleMaxInput","handleOutputSelect","outputCurrency","swapIsUnsupported","priceImpactTooHigh","showPriceImpactWarning","now","Date","SWAP_QUOTE_RECEIVED","gasUseEstimateUSD","approveTokenButtonDisabled","SIGNED","SWAP_PAGE","length","display","CURRENCY_INPUT_PANEL","onClick","SWAP_TOKENS_REVERSED","SWAP_TOKENS_REVERSE_ARROW_BUTTON","textPrimary","textTertiary","CURRENCY_OUTPUT_PANEL","padding","CONNECT_WALLET_BUTTON_CLICKED","received_swap_quote","CONNECT_WALLET_BUTTON","WRAP","UNWRAP","textAlign","flexWrap","width","white","accentSuccess","marginLeft","APPROVAL_OR_PERMIT_NEEDED","gap","accentWarning","height"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/pages/Swap/index.tsx"],"sourcesContent":["import { Trans } from '@lingui/macro'\nimport { sendAnalyticsEvent, Trace, TraceEvent } from '@uniswap/analytics'\nimport { BrowserEvent, ElementName, EventName, PageName, SectionName } from '@uniswap/analytics-events'\nimport { Trade } from '@uniswap/router-sdk'\nimport { Currency, CurrencyAmount, Percent, Token, TradeType } from '@uniswap/sdk-core'\nimport { UNIVERSAL_ROUTER_ADDRESS } from '@uniswap/universal-router-sdk'\nimport { useWeb3React } from '@web3-react/core'\nimport { sendEvent } from 'components/analytics'\nimport { NetworkAlert } from 'components/NetworkAlert/NetworkAlert'\nimport PriceImpactWarning from 'components/swap/PriceImpactWarning'\nimport SwapDetailsDropdown from 'components/swap/SwapDetailsDropdown'\nimport UnsupportedCurrencyFooter from 'components/swap/UnsupportedCurrencyFooter'\nimport TokenSafetyModal from 'components/TokenSafety/TokenSafetyModal'\nimport { MouseoverTooltip } from 'components/Tooltip'\nimport { isSupportedChain } from 'constants/chains'\nimport { usePermit2Enabled } from 'featureFlags/flags/permit2'\nimport usePermit, { PermitState } from 'hooks/usePermit2'\nimport { useSwapCallback } from 'hooks/useSwapCallback'\nimport useTransactionDeadline from 'hooks/useTransactionDeadline'\nimport JSBI from 'jsbi'\nimport { formatSwapQuoteReceivedEventProperties } from 'lib/utils/analytics'\nimport { useCallback, useEffect, useMemo, useState } from 'react'\nimport { ReactNode,lazy } from 'react'\nimport { AlertTriangle, ArrowDown, CheckCircle, HelpCircle, Info } from 'react-feather'\nimport { useNavigate } from 'react-router-dom'\nimport { Text } from 'rebass'\nimport { useToggleWalletModal } from 'state/application/hooks'\nimport { InterfaceTrade } from 'state/routing/types'\nimport { TradeState } from 'state/routing/types'\nimport { useTransactionAdder } from 'state/transactions/hooks'\nimport styled, { useTheme } from 'styled-components/macro'\nimport { currencyAmountToPreciseFloat, formatTransactionAmount } from 'utils/formatNumbers'\n\nimport {CoinInfo} from \"components/CoinInfo\";\n\nimport AddressInputPanel from '../../components/AddressInputPanel'\nimport { ButtonConfirmed, ButtonError, ButtonLight, ButtonPrimary, ButtonYellow } from '../../components/Button'\nimport { GrayCard } from '../../components/Card'\nimport { AutoColumn } from '../../components/Column'\nimport SwapCurrencyInputPanel from '../../components/CurrencyInputPanel/SwapCurrencyInputPanel'\nimport Loader from '../../components/Loader'\nimport { AutoRow } from '../../components/Row'\nimport confirmPriceImpactWithoutFee from '../../components/swap/confirmPriceImpactWithoutFee'\nimport ConfirmSwapModal from '../../components/swap/ConfirmSwapModal'\nimport { ArrowWrapper, PageWrapper, SwapCallbackError, SwapWrapper,ChartWrapper,SwapPanel } from '../../components/swap/styleds'\nimport SwapHeader from '../../components/swap/SwapHeader'\nimport { SwitchLocaleLink } from '../../components/SwitchLocaleLink'\nimport { TOKEN_SHORTHANDS } from '../../constants/tokens'\nimport { useAllTokens, useCurrency } from '../../hooks/Tokens'\nimport { ApprovalState, useApproveCallbackFromTrade } from '../../hooks/useApproveCallback'\nimport useENSAddress from '../../hooks/useENSAddress'\nimport { useERC20PermitFromTrade, UseERC20PermitState } from '../../hooks/useERC20Permit'\nimport useIsArgentWallet from '../../hooks/useIsArgentWallet'\nimport { useIsSwapUnsupported } from '../../hooks/useIsSwapUnsupported'\nimport { useStablecoinValue } from '../../hooks/useStablecoinPrice'\nimport useWrapCallback, { WrapErrorText, WrapType } from '../../hooks/useWrapCallback'\nimport { Field } from '../../state/swap/actions'\nimport {\n  useDefaultsFromURLSearch,\n  useDerivedSwapInfo,\n  useSwapActionHandlers,\n  useSwapState,\n} from '../../state/swap/hooks'\nimport { useExpertModeManager } from '../../state/user/hooks'\nimport { LinkStyledButton, ThemedText } from '../../theme'\nimport { computeFiatValuePriceImpact } from '../../utils/computeFiatValuePriceImpact'\nimport { maxAmountSpend } from '../../utils/maxAmountSpend'\nimport { computeRealizedPriceImpact, warningSeverity } from '../../utils/prices'\nimport { supportedChainId } from '../../utils/supportedChainId'\n\nconst LiveChart = lazy(() => import('components/LiveChart'))\n\nconst ArrowContainer = styled.div`\n  display: inline-block;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n\n  width: 100%;\n  height: 100%;\n`\n\nconst SwapSection = styled.div`\n  position: relative;\n  background-color: ${({ theme }) => theme.backgroundModule};\n  border-radius: 12px;\n  padding: 16px;\n  color: ${({ theme }) => theme.textSecondary};\n  font-size: 14px;\n  line-height: 20px;\n  font-weight: 500;\n\n  &:before {\n    box-sizing: border-box;\n    background-size: 100%;\n    border-radius: inherit;\n\n    position: absolute;\n    top: 0;\n    left: 0;\n\n    width: 100%;\n    height: 100%;\n    pointer-events: none;\n    content: '';\n    border: 1px solid ${({ theme }) => theme.backgroundModule};\n  }\n\n  &:hover:before {\n    border-color: ${({ theme }) => theme.stateOverlayHover};\n  }\n\n  &:focus-within:before {\n    border-color: ${({ theme }) => theme.stateOverlayPressed};\n  }\n`\n\nconst OutputSwapSection = styled(SwapSection)<{ showDetailsDropdown: boolean }>`\n  border-bottom: ${({ theme }) => `1px solid ${theme.backgroundSurface}`};\n  border-bottom-left-radius: ${({ showDetailsDropdown }) => showDetailsDropdown && '0'};\n  border-bottom-right-radius: ${({ showDetailsDropdown }) => showDetailsDropdown && '0'};\n`\n\nconst DetailsSwapSection = styled(SwapSection)`\n  padding: 0;\n  border-top-left-radius: 0;\n  border-top-right-radius: 0;\n`\n\nexport function getIsValidSwapQuote(\n  trade: InterfaceTrade<Currency, Currency, TradeType> | undefined,\n  tradeState: TradeState,\n  swapInputError?: ReactNode\n): boolean {\n  return !!swapInputError && !!trade && (tradeState === TradeState.VALID || tradeState === TradeState.SYNCING)\n}\n\nfunction largerPercentValue(a?: Percent, b?: Percent) {\n  if (a && b) {\n    return a.greaterThan(b) ? a : b\n  } else if (a) {\n    return a\n  } else if (b) {\n    return b\n  }\n  return undefined\n}\n\nconst TRADE_STRING = 'SwapRouter'\n\nexport default function Swap({ className }: { className?: string }) {\n  const navigate = useNavigate()\n  const { account, chainId } = useWeb3React()\n  const loadedUrlParams = useDefaultsFromURLSearch()\n  const [newSwapQuoteNeedsLogging, setNewSwapQuoteNeedsLogging] = useState(true)\n  const [fetchingSwapQuoteStartTime, setFetchingSwapQuoteStartTime] = useState<Date | undefined>()\n\n  // token warning stuff\n  const [loadedInputCurrency, loadedOutputCurrency] = [\n    useCurrency(loadedUrlParams?.[Field.INPUT]?.currencyId),\n    loadedUrlParams?.[Field.OUTPUT]?.currencyId ? useCurrency(loadedUrlParams?.[Field.OUTPUT]?.currencyId): useCurrency(USDT_POLYGON) ,\n  ]\n  \n  const outputCurrencyAddress = DEFAULT_OUTPUT_TOKEN_BY_CHAIN[chainId]?.address || ''\n\nconsole.log(\"loadedOutputCurrency\",{loadedOutputCurrency,loadedInputCurrency})\n\n  const [dismissTokenWarning, setDismissTokenWarning] = useState<boolean>(false)\n  const urlLoadedTokens: Token[] = useMemo(\n    () => [loadedInputCurrency, loadedOutputCurrency]?.filter((c): c is Token => c?.isToken ?? false) ?? [],\n    [loadedInputCurrency, loadedOutputCurrency]\n  )\n  const handleConfirmTokenWarning = useCallback(() => {\n    setDismissTokenWarning(true)\n  }, [])\n\n  // dismiss warning if all imported tokens are in active lists\n  const defaultTokens = useAllTokens()\n  const importTokensNotInDefault = useMemo(\n    () =>\n      urlLoadedTokens &&\n      urlLoadedTokens\n        .filter((token: Token) => {\n          return !(token.address in defaultTokens)\n        })\n        .filter((token: Token) => {\n          // Any token addresses that are loaded from the shorthands map do not need to show the import URL\n          const supported = supportedChainId(chainId)\n          if (!supported) return true\n          return !Object.keys(TOKEN_SHORTHANDS).some((shorthand) => {\n            const shorthandTokenAddress = TOKEN_SHORTHANDS[shorthand][supported]\n            return shorthandTokenAddress && shorthandTokenAddress === token.address\n          })\n        }),\n    [chainId, defaultTokens, urlLoadedTokens]\n  )\n\n  const theme = useTheme()\n\n  // toggle wallet when disconnected\n  const toggleWalletModal = useToggleWalletModal()\n\n  // for expert mode\n  const [isExpertMode] = useExpertModeManager()\n  // swap state\n  const { independentField, typedValue, recipient } = useSwapState()\n  const {\n    trade: { state: tradeState, trade },\n    allowedSlippage,\n    currencyBalances,\n    parsedAmount,\n    currencies,\n    inputError: swapInputError,\n  } = useDerivedSwapInfo()\n\n\n\n  const {\n    wrapType,\n    execute: onWrap,\n    inputError: wrapInputError,\n  } = useWrapCallback(currencies[Field.INPUT], currencies[Field.OUTPUT], typedValue)\n  const showWrap: boolean = wrapType !== WrapType.NOT_APPLICABLE\n  const { address: recipientAddress } = useENSAddress(recipient)\n\n  const parsedAmounts = useMemo(\n    () =>\n      showWrap\n        ? {\n            [Field.INPUT]: parsedAmount,\n            [Field.OUTPUT]: parsedAmount,\n          }\n        : {\n            [Field.INPUT]: independentField === Field.INPUT ? parsedAmount : trade?.inputAmount,\n            [Field.OUTPUT]: independentField === Field.OUTPUT ? parsedAmount : trade?.outputAmount,\n          },\n    [independentField, parsedAmount, showWrap, trade]\n  )\n\n  const [routeNotFound, routeIsLoading, routeIsSyncing] = useMemo(\n    () => [!trade?.swaps, TradeState.LOADING === tradeState, TradeState.SYNCING === tradeState],\n    [trade, tradeState]\n  )\n\n  const fiatValueInput = useStablecoinValue(parsedAmounts[Field.INPUT])\n  const fiatValueOutput = useStablecoinValue(parsedAmounts[Field.OUTPUT])\n  const stablecoinPriceImpact = useMemo(\n    () => (routeIsSyncing ? undefined : computeFiatValuePriceImpact(fiatValueInput, fiatValueOutput)),\n    [fiatValueInput, fiatValueOutput, routeIsSyncing]\n  )\n\n  const { onSwitchTokens, onCurrencySelection, onUserInput, onChangeRecipient } = useSwapActionHandlers()\n  const isValid = !swapInputError\n  const dependentField: Field = independentField === Field.INPUT ? Field.OUTPUT : Field.INPUT\n\n  const handleTypeInput = useCallback(\n    (value: string) => {\n      onUserInput(Field.INPUT, value)\n    },\n    [onUserInput]\n  )\n  const handleTypeOutput = useCallback(\n    (value: string) => {\n      onUserInput(Field.OUTPUT, value)\n    },\n    [onUserInput]\n  )\n\n\n\n  // reset if they close warning without tokens in params\n  const handleDismissTokenWarning = useCallback(() => {\n    setDismissTokenWarning(true)\n    navigate('/swap/')\n  }, [navigate])\n\n  // modal and loading\n  const [{ showConfirm, tradeToConfirm, swapErrorMessage, attemptingTxn, txHash }, setSwapState] = useState<{\n    showConfirm: boolean\n    tradeToConfirm: Trade<Currency, Currency, TradeType> | undefined\n    attemptingTxn: boolean\n    swapErrorMessage: string | undefined\n    txHash: string | undefined\n  }>({\n    showConfirm: false,\n    tradeToConfirm: undefined,\n    attemptingTxn: false,\n    swapErrorMessage: undefined,\n    txHash: undefined,\n  })\n\n  const formattedAmounts = useMemo(\n    () => ({\n      [independentField]: typedValue,\n      [dependentField]: showWrap\n        ? parsedAmounts[independentField]?.toExact() ?? ''\n        : formatTransactionAmount(currencyAmountToPreciseFloat(parsedAmounts[dependentField])),\n    }),\n    [dependentField, independentField, parsedAmounts, showWrap, typedValue]\n  )\n\n  const userHasSpecifiedInputOutput = Boolean(\n    currencies[Field.INPUT] && currencies[Field.OUTPUT] && parsedAmounts[independentField]?.greaterThan(JSBI.BigInt(0))\n  )\n\n  const permit2Enabled = usePermit2Enabled()\n  const maximumAmountIn = useMemo(() => {\n    const maximumAmountIn = trade?.maximumAmountIn(allowedSlippage)\n    return maximumAmountIn?.currency.isToken ? (maximumAmountIn as CurrencyAmount<Token>) : undefined\n  }, [allowedSlippage, trade])\n  const permit = usePermit(\n    permit2Enabled ? maximumAmountIn : undefined,\n    permit2Enabled && chainId ? UNIVERSAL_ROUTER_ADDRESS(chainId) : undefined\n  )\n  const isApprovalLoading = permit.state === PermitState.APPROVAL_LOADING\n  const [isPermitPending, setIsPermitPending] = useState(false)\n  const [isPermitFailed, setIsPermitFailed] = useState(false)\n  const addTransaction = useTransactionAdder()\n  const updatePermit = useCallback(async () => {\n    setIsPermitPending(true)\n    try {\n      const approval = await permit.callback?.()\n      if (approval) {\n        sendAnalyticsEvent(EventName.APPROVE_TOKEN_TXN_SUBMITTED, {\n          chain_id: chainId,\n          token_symbol: maximumAmountIn?.currency.symbol,\n          token_address: maximumAmountIn?.currency.address,\n        })\n\n        const { response, info } = approval\n        addTransaction(response, info)\n      }\n      setIsPermitFailed(false)\n    } catch (e) {\n      console.error(e)\n      setIsPermitFailed(true)\n    } finally {\n      setIsPermitPending(false)\n    }\n  }, [addTransaction, chainId, maximumAmountIn?.currency.address, maximumAmountIn?.currency.symbol, permit])\n\n  // check whether the user has approved the router on the input token\n  const [approvalState, approveCallback] = useApproveCallbackFromTrade(\n    permit2Enabled ? undefined : trade,\n    allowedSlippage\n  )\n  const transactionDeadline = useTransactionDeadline()\n  const {\n    state: signatureState,\n    signatureData,\n    gatherPermitSignature,\n  } = useERC20PermitFromTrade(permit2Enabled ? undefined : trade, allowedSlippage, transactionDeadline)\n\n  const [approvalPending, setApprovalPending] = useState<boolean>(false)\n  const [rotate, setRotate] = useState<boolean>(false);\n  const handleApprove = useCallback(async () => {\n    setApprovalPending(true)\n    try {\n      if (signatureState === UseERC20PermitState.NOT_SIGNED && gatherPermitSignature) {\n        try {\n          await gatherPermitSignature()\n        } catch (error) {\n          // try to approve if gatherPermitSignature failed for any reason other than the user rejecting it\n          if (error?.code !== 4001) {\n            await approveCallback()\n          }\n        }\n      } else {\n        await approveCallback()\n\n        sendEvent({\n          category: 'Swap',\n          action: 'Approve',\n          label: [TRADE_STRING, trade?.inputAmount?.currency.symbol].join('/'),\n        })\n      }\n    } finally {\n      setApprovalPending(false)\n    }\n  }, [signatureState, gatherPermitSignature, approveCallback, trade?.inputAmount?.currency.symbol])\n\n  // check if user has gone through approval process, used to show two step buttons, reset on token change\n  const [approvalSubmitted, setApprovalSubmitted] = useState<boolean>(false)\n\n  // mark when a user has submitted an approval, reset onTokenSelection for input field\n  useEffect(() => {\n    if (approvalState === ApprovalState.PENDING) {\n      setApprovalSubmitted(true)\n    }\n  }, [approvalState, approvalSubmitted])\n\n\n\n  const handleRotateClick = useCallback(() => {\n    setApprovalSubmitted(false) // reset 2 step UI for approvals\n    setRotate(prev => !prev)\n    onSwitchTokens()\n\n  }, [onSwitchTokens])\n  const maxInputAmount: CurrencyAmount<Currency> | undefined = useMemo(\n    () => maxAmountSpend(currencyBalances[Field.INPUT]),\n    [currencyBalances]\n  )\n  const showMaxButton = Boolean(maxInputAmount?.greaterThan(0) && !parsedAmounts[Field.INPUT]?.equalTo(maxInputAmount))\n\n  // the callback to execute the swap\n  const { callback: swapCallback, error: swapCallbackError } = useSwapCallback(\n    trade,\n    allowedSlippage,\n    recipient,\n    signatureData,\n    permit\n  )\n\n  const handleSwap = useCallback(() => {\n    if (!swapCallback) {\n      return\n    }\n    if (stablecoinPriceImpact && !confirmPriceImpactWithoutFee(stablecoinPriceImpact)) {\n      return\n    }\n    setSwapState({ attemptingTxn: true, tradeToConfirm, showConfirm, swapErrorMessage: undefined, txHash: undefined })\n    swapCallback()\n      .then((hash) => {\n        setSwapState({ attemptingTxn: false, tradeToConfirm, showConfirm, swapErrorMessage: undefined, txHash: hash })\n        sendEvent({\n          category: 'Swap',\n          action: 'transaction hash',\n          label: hash,\n        })\n        sendEvent({\n          category: 'Swap',\n          action:\n            recipient === null\n              ? 'Swap w/o Send'\n              : (recipientAddress ?? recipient) === account\n              ? 'Swap w/o Send + recipient'\n              : 'Swap w/ Send',\n          label: [TRADE_STRING, trade?.inputAmount?.currency?.symbol, trade?.outputAmount?.currency?.symbol, 'MH'].join(\n            '/'\n          ),\n        })\n      })\n      .catch((error) => {\n        setSwapState({\n          attemptingTxn: false,\n          tradeToConfirm,\n          showConfirm,\n          swapErrorMessage: error.message,\n          txHash: undefined,\n        })\n      })\n  }, [\n    swapCallback,\n    stablecoinPriceImpact,\n    tradeToConfirm,\n    showConfirm,\n    recipient,\n    recipientAddress,\n    account,\n    trade?.inputAmount?.currency?.symbol,\n    trade?.outputAmount?.currency?.symbol,\n  ])\n\n  // errors\n  const [swapQuoteReceivedDate, setSwapQuoteReceivedDate] = useState<Date | undefined>()\n\n  // warnings on the greater of fiat value price impact and execution price impact\n  const { priceImpactSeverity, largerPriceImpact } = useMemo(() => {\n    const marketPriceImpact = trade?.priceImpact ? computeRealizedPriceImpact(trade) : undefined\n    const largerPriceImpact = largerPercentValue(marketPriceImpact, stablecoinPriceImpact)\n    return { priceImpactSeverity: warningSeverity(largerPriceImpact), largerPriceImpact }\n  }, [stablecoinPriceImpact, trade])\n\n  const isArgentWallet = useIsArgentWallet()\n\n  // show approve flow when: no error on inputs, not approved or pending, or approved in current session\n  // never show if price impact is above threshold in non expert mode\n  const showApproveFlow =\n    !permit2Enabled &&\n    !isArgentWallet &&\n    !swapInputError &&\n    (approvalState === ApprovalState.NOT_APPROVED ||\n      approvalState === ApprovalState.PENDING ||\n      (approvalSubmitted && approvalState === ApprovalState.APPROVED)) &&\n    !(priceImpactSeverity > 3 && !isExpertMode)\n\n  const handleConfirmDismiss = useCallback(() => {\n    setSwapState({ showConfirm: false, tradeToConfirm, attemptingTxn, swapErrorMessage, txHash })\n    // if there was a tx hash, we want to clear the input\n    if (txHash) {\n      onUserInput(Field.INPUT, '')\n    }\n  }, [attemptingTxn, onUserInput, swapErrorMessage, tradeToConfirm, txHash])\n\n  const handleAcceptChanges = useCallback(() => {\n    setSwapState({ tradeToConfirm: trade, swapErrorMessage, txHash, attemptingTxn, showConfirm })\n  }, [attemptingTxn, showConfirm, swapErrorMessage, trade, txHash])\n\n  const handleInputSelect = useCallback(\n    (inputCurrency: Currency) => {\n      setApprovalSubmitted(false) // reset 2 step UI for approvals\n      onCurrencySelection(Field.INPUT, inputCurrency)\n    },\n    [onCurrencySelection]\n  )\n\n  const handleMaxInput = useCallback(() => {\n    maxInputAmount && onUserInput(Field.INPUT, maxInputAmount.toExact())\n    sendEvent({\n      category: 'Swap',\n      action: 'Max',\n    })\n  }, [maxInputAmount, onUserInput])\n\n  const handleOutputSelect = useCallback(\n    (outputCurrency: Currency) => onCurrencySelection(Field.OUTPUT, outputCurrency),\n    [onCurrencySelection]\n  )\n\n  const swapIsUnsupported = useIsSwapUnsupported(currencies[Field.INPUT], currencies[Field.OUTPUT])\n\n  const priceImpactTooHigh = priceImpactSeverity > 3 && !isExpertMode\n  const showPriceImpactWarning = largerPriceImpact && priceImpactSeverity > 3\n\n  // Handle time based logging events and event properties.\n  useEffect(() => {\n    const now = new Date()\n    // If a trade exists, and we need to log the receipt of this new swap quote:\n    if (newSwapQuoteNeedsLogging && !!trade) {\n      // Set the current datetime as the time of receipt of latest swap quote.\n      setSwapQuoteReceivedDate(now)\n      // Log swap quote.\n      sendAnalyticsEvent(\n        EventName.SWAP_QUOTE_RECEIVED,\n        formatSwapQuoteReceivedEventProperties(trade, trade.gasUseEstimateUSD ?? undefined, fetchingSwapQuoteStartTime)\n      )\n      // Latest swap quote has just been logged, so we don't need to log the current trade anymore\n      // unless user inputs change again and a new trade is in the process of being generated.\n      setNewSwapQuoteNeedsLogging(false)\n      // New quote is not being fetched, so set start time of quote fetch to undefined.\n      setFetchingSwapQuoteStartTime(undefined)\n    }\n    // If another swap quote is being loaded based on changed user inputs:\n    if (routeIsLoading) {\n      setNewSwapQuoteNeedsLogging(true)\n      if (!fetchingSwapQuoteStartTime) setFetchingSwapQuoteStartTime(now)\n    }\n  }, [\n    newSwapQuoteNeedsLogging,\n    routeIsSyncing,\n    routeIsLoading,\n    fetchingSwapQuoteStartTime,\n    trade,\n    setSwapQuoteReceivedDate,\n  ])\n\n  const approveTokenButtonDisabled =\n    approvalState !== ApprovalState.NOT_APPROVED || approvalSubmitted || signatureState === UseERC20PermitState.SIGNED\n\n  const showDetailsDropdown = Boolean(\n    !showWrap && userHasSpecifiedInputOutput && (trade || routeIsLoading || routeIsSyncing)\n  )\n\n  return (\n    <Trace page={PageName.SWAP_PAGE} shouldLogImpression>\n      <>\n        <TokenSafetyModal\n          isOpen={importTokensNotInDefault.length > 0 && !dismissTokenWarning}\n          tokenAddress={importTokensNotInDefault[0]?.address}\n          secondTokenAddress={importTokensNotInDefault[1]?.address}\n          onContinue={handleConfirmTokenWarning}\n          onCancel={handleDismissTokenWarning}\n          showCancel={true}\n        />\n        <PageWrapper>\n         <SwapPanel>\n          <ChartWrapper className={className} id=\"swap-page\">\n               {/*<CoinInfo coin={currencies} />*/}\n\n              <LiveChart onRotateClick={handleRotateClick} currencies={currencies} />\n          </ChartWrapper>\n          <SwapWrapper className={className} id=\"swap-page\">\n\n            <SwapHeader allowedSlippage={allowedSlippage} />\n            <ConfirmSwapModal\n              isOpen={showConfirm}\n              trade={trade}\n              originalTrade={tradeToConfirm}\n              onAcceptChanges={handleAcceptChanges}\n              attemptingTxn={attemptingTxn}\n              txHash={txHash}\n              recipient={recipient}\n              allowedSlippage={allowedSlippage}\n              onConfirm={handleSwap}\n              swapErrorMessage={swapErrorMessage}\n              onDismiss={handleConfirmDismiss}\n              swapQuoteReceivedDate={swapQuoteReceivedDate}\n              fiatValueInput={fiatValueInput}\n              fiatValueOutput={fiatValueOutput}\n            />\n\n            <div style={{ display: 'relative' }}>\n              <SwapSection>\n                <Trace section={SectionName.CURRENCY_INPUT_PANEL}>\n                  <SwapCurrencyInputPanel\n                    label={\n                      independentField === Field.OUTPUT && !showWrap ? (\n                        <Trans>From (at most)</Trans>\n                      ) : (\n                        <Trans>From</Trans>\n                      )\n                    }\n                    value={formattedAmounts[Field.INPUT]}\n                    showMaxButton={showMaxButton}\n                    currency={currencies[Field.INPUT] ?? null}\n                    onUserInput={handleTypeInput}\n                    onMax={handleMaxInput}\n                    fiatValue={fiatValueInput ?? undefined}\n                    onCurrencySelect={handleInputSelect}\n                    otherCurrency={currencies[Field.OUTPUT]}\n                    showCommonBases={true}\n                    id={SectionName.CURRENCY_INPUT_PANEL}\n                    loading={independentField === Field.OUTPUT && routeIsSyncing}\n                  />\n                </Trace>\n              </SwapSection>\n              <ArrowWrapper clickable={isSupportedChain(chainId)}>\n                <TraceEvent\n                  events={[BrowserEvent.onClick]}\n                  name={EventName.SWAP_TOKENS_REVERSED}\n                  element={ElementName.SWAP_TOKENS_REVERSE_ARROW_BUTTON}\n                >\n                  <ArrowContainer\n                    onClick={() => {\n                      setApprovalSubmitted(false) // reset 2 step UI for approvals\n                      onSwitchTokens()\n                    }}\n                    color={theme.textPrimary}\n                  >\n                    <ArrowDown\n                      size=\"16\"\n                      color={\n                        currencies[Field.INPUT] && currencies[Field.OUTPUT] ? theme.textPrimary : theme.textTertiary\n                      }\n                    />\n                  </ArrowContainer>\n                </TraceEvent>\n              </ArrowWrapper>\n            </div>\n            <AutoColumn gap=\"md\">\n              <div>\n                <OutputSwapSection showDetailsDropdown={showDetailsDropdown}>\n                  <Trace section={SectionName.CURRENCY_OUTPUT_PANEL}>\n                    <SwapCurrencyInputPanel\n                      value={formattedAmounts[Field.OUTPUT]}\n                      onUserInput={handleTypeOutput}\n                      label={\n                        independentField === Field.INPUT && !showWrap ? <Trans>To (at least)</Trans> : <Trans>To</Trans>\n                      }\n                      showMaxButton={false}\n                      hideBalance={false}\n                      fiatValue={fiatValueOutput ?? undefined}\n                      priceImpact={stablecoinPriceImpact}\n                      currency={currencies[Field.OUTPUT] ?? null}\n                      onCurrencySelect={handleOutputSelect}\n                      otherCurrency={currencies[Field.INPUT]}\n                      showCommonBases={true}\n                      id={SectionName.CURRENCY_OUTPUT_PANEL}\n                      loading={independentField === Field.INPUT && routeIsSyncing}\n                    />\n                  </Trace>\n\n                  {recipient !== null && !showWrap ? (\n                    <>\n                      <AutoRow justify=\"space-between\" style={{ padding: '0 1rem' }}>\n                        <ArrowWrapper clickable={false}>\n                          <ArrowDown size=\"16\" color={theme.textSecondary} />\n                        </ArrowWrapper>\n                        <LinkStyledButton id=\"remove-recipient-button\" onClick={() => onChangeRecipient(null)}>\n                          <Trans>- Remove recipient</Trans>\n                        </LinkStyledButton>\n                      </AutoRow>\n                      <AddressInputPanel id=\"recipient\" value={recipient} onChange={onChangeRecipient} />\n                    </>\n                  ) : null}\n                </OutputSwapSection>\n                {showDetailsDropdown && (\n                  <DetailsSwapSection>\n                    <SwapDetailsDropdown\n                      trade={trade}\n                      syncing={routeIsSyncing}\n                      loading={routeIsLoading}\n                      allowedSlippage={allowedSlippage}\n                    />\n                  </DetailsSwapSection>\n                )}\n              </div>\n              {showPriceImpactWarning && <PriceImpactWarning priceImpact={largerPriceImpact} />}\n              <div>\n                {swapIsUnsupported ? (\n                  <ButtonPrimary disabled={true}>\n                    <ThemedText.DeprecatedMain mb=\"4px\">\n                      <Trans>Unsupported Asset</Trans>\n                    </ThemedText.DeprecatedMain>\n                  </ButtonPrimary>\n                ) : !account ? (\n                  <TraceEvent\n                    events={[BrowserEvent.onClick]}\n                    name={EventName.CONNECT_WALLET_BUTTON_CLICKED}\n                    properties={{ received_swap_quote: getIsValidSwapQuote(trade, tradeState, swapInputError) }}\n                    element={ElementName.CONNECT_WALLET_BUTTON}\n                  >\n                    <ButtonLight onClick={toggleWalletModal} fontWeight={600}>\n                      <Trans>Connect Wallet</Trans>\n                    </ButtonLight>\n                  </TraceEvent>\n                ) : showWrap ? (\n                  <ButtonPrimary disabled={Boolean(wrapInputError)} onClick={onWrap} fontWeight={600}>\n                    {wrapInputError ? (\n                      <WrapErrorText wrapInputError={wrapInputError} />\n                    ) : wrapType === WrapType.WRAP ? (\n                      <Trans>Wrap</Trans>\n                    ) : wrapType === WrapType.UNWRAP ? (\n                      <Trans>Unwrap</Trans>\n                    ) : null}\n                  </ButtonPrimary>\n                ) : routeNotFound && userHasSpecifiedInputOutput && !routeIsLoading && !routeIsSyncing ? (\n                  <GrayCard style={{ textAlign: 'center' }}>\n                    <ThemedText.DeprecatedMain mb=\"4px\">\n                      <Trans>Insufficient liquidity for this trade.</Trans>\n                    </ThemedText.DeprecatedMain>\n                  </GrayCard>\n                ) : showApproveFlow ? (\n                  <AutoRow style={{ flexWrap: 'nowrap', width: '100%' }}>\n                    <AutoColumn style={{ width: '100%' }} gap=\"12px\">\n                      <ButtonConfirmed\n                        fontWeight={600}\n                        onClick={handleApprove}\n                        disabled={approveTokenButtonDisabled}\n                        width=\"100%\"\n                        altDisabledStyle={approvalState === ApprovalState.PENDING} // show solid button while waiting\n                        confirmed={\n                          approvalState === ApprovalState.APPROVED || signatureState === UseERC20PermitState.SIGNED\n                        }\n                      >\n                        <AutoRow justify=\"space-between\" style={{ flexWrap: 'nowrap' }} height=\"20px\">\n                          {/* we need to shorten this string on mobile */}\n                          {approvalState === ApprovalState.APPROVED || signatureState === UseERC20PermitState.SIGNED ? (\n                            <ThemedText.SubHeader width=\"100%\" textAlign=\"center\" color=\"textSecondary\">\n                              <Trans>You can now trade {currencies[Field.INPUT]?.symbol}</Trans>\n                            </ThemedText.SubHeader>\n                          ) : (\n                            <ThemedText.SubHeader width=\"100%\" textAlign=\"center\" color=\"white\">\n                              <Trans>Allow the Uniswap Protocol to use your {currencies[Field.INPUT]?.symbol}</Trans>\n                            </ThemedText.SubHeader>\n                          )}\n\n                          {approvalPending || approvalState === ApprovalState.PENDING ? (\n                            <Loader stroke={theme.white} />\n                          ) : (approvalSubmitted && approvalState === ApprovalState.APPROVED) ||\n                            signatureState === UseERC20PermitState.SIGNED ? (\n                            <CheckCircle size=\"20\" color={theme.accentSuccess} />\n                          ) : (\n                            <MouseoverTooltip\n                              text={\n                                <Trans>\n                                  You must give the Uniswap smart contracts permission to use your{' '}\n                                  {currencies[Field.INPUT]?.symbol}. You only have to do this once per token.\n                                </Trans>\n                              }\n                            >\n                              <HelpCircle size=\"20\" color={theme.white} style={{ marginLeft: '8px' }} />\n                            </MouseoverTooltip>\n                          )}\n                        </AutoRow>\n                      </ButtonConfirmed>\n                      <ButtonError\n                        onClick={() => {\n                          if (isExpertMode) {\n                            handleSwap()\n                          } else {\n                            setSwapState({\n                              tradeToConfirm: trade,\n                              attemptingTxn: false,\n                              swapErrorMessage: undefined,\n                              showConfirm: true,\n                              txHash: undefined,\n                            })\n                          }\n                        }}\n                        width=\"100%\"\n                        id=\"swap-button\"\n                        disabled={\n                          !isValid ||\n                          routeIsSyncing ||\n                          routeIsLoading ||\n                          (approvalState !== ApprovalState.APPROVED && signatureState !== UseERC20PermitState.SIGNED) ||\n                          priceImpactTooHigh\n                        }\n                        error={isValid && priceImpactSeverity > 2}\n                      >\n                        <Text fontSize={16} fontWeight={600}>\n                          {priceImpactTooHigh ? (\n                            <Trans>High Price Impact</Trans>\n                          ) : trade && priceImpactSeverity > 2 ? (\n                            <Trans>Swap Anyway</Trans>\n                          ) : (\n                            <Trans>Swap</Trans>\n                          )}\n                        </Text>\n                      </ButtonError>\n                    </AutoColumn>\n                  </AutoRow>\n                ) : isValid &&\n                  (permit.state === PermitState.APPROVAL_OR_PERMIT_NEEDED ||\n                    permit.state === PermitState.APPROVAL_LOADING) ? (\n                  <ButtonYellow\n                    onClick={updatePermit}\n                    disabled={isPermitPending || isApprovalLoading}\n                    style={{ gap: 14 }}\n                  >\n                    {isPermitPending ? (\n                      <>\n                        <Loader size=\"20px\" stroke={theme.accentWarning} />\n                        <ThemedText.SubHeader color=\"accentWarning\">\n                          <Trans>Approve in your wallet</Trans>\n                        </ThemedText.SubHeader>\n                      </>\n                    ) : isPermitFailed ? (\n                      <>\n                        <AlertTriangle size={20} stroke={theme.accentWarning} />\n                        <ThemedText.SubHeader color=\"accentWarning\">\n                          <Trans>Approval failed. Try again.</Trans>\n                        </ThemedText.SubHeader>\n                      </>\n                    ) : isApprovalLoading ? (\n                      <>\n                        <Loader size=\"20px\" stroke={theme.accentWarning} />\n                        <ThemedText.SubHeader color=\"accentWarning\">\n                          <Trans>Approval pending</Trans>\n                        </ThemedText.SubHeader>\n                      </>\n                    ) : (\n                      <>\n                        <div style={{ height: 20 }}>\n                          <MouseoverTooltip\n                            text={\n                              <Trans>\n                                Permission is required for Uniswap to swap each token. This will expire after one month\n                                for your security.\n                              </Trans>\n                            }\n                          >\n                            <Info size={20} color={theme.accentWarning} />\n                          </MouseoverTooltip>\n                        </div>\n                        <ThemedText.SubHeader color=\"accentWarning\">\n                          <Trans>Approve use of {currencies[Field.INPUT]?.symbol}</Trans>\n                        </ThemedText.SubHeader>\n                      </>\n                    )}\n                  </ButtonYellow>\n                ) : (\n                  <ButtonError\n                    onClick={() => {\n                      if (isExpertMode) {\n                        handleSwap()\n                      } else {\n                        setSwapState({\n                          tradeToConfirm: trade,\n                          attemptingTxn: false,\n                          swapErrorMessage: undefined,\n                          showConfirm: true,\n                          txHash: undefined,\n                        })\n                      }\n                    }}\n                    id=\"swap-button\"\n                    disabled={\n                      !isValid ||\n                      routeIsSyncing ||\n                      routeIsLoading ||\n                      priceImpactTooHigh ||\n                      (permit2Enabled ? permit.state === PermitState.LOADING : Boolean(swapCallbackError))\n                    }\n                    error={isValid && priceImpactSeverity > 2 && (permit2Enabled || !swapCallbackError)}\n                  >\n                    <Text fontSize={20} fontWeight={600}>\n                      {swapInputError ? (\n                        swapInputError\n                      ) : routeIsSyncing || routeIsLoading ? (\n                        <Trans>Swap</Trans>\n                      ) : priceImpactTooHigh ? (\n                        <Trans>Price Impact Too High</Trans>\n                      ) : priceImpactSeverity > 2 ? (\n                        <Trans>Swap Anyway</Trans>\n                      ) : (\n                        <Trans>Swap</Trans>\n                      )}\n                    </Text>\n                  </ButtonError>\n                )}\n                {isExpertMode && swapErrorMessage ? <SwapCallbackError error={swapErrorMessage} /> : null}\n\n                <NetworkAlert />\n              </div>\n            </AutoColumn>\n          </SwapWrapper>\n          </SwapPanel>\n          \n        </PageWrapper>\n        <SwitchLocaleLink />\n        {!swapIsUnsupported ? null : (\n          <UnsupportedCurrencyFooter\n            show={swapIsUnsupported}\n            currencies={[currencies[Field.INPUT], currencies[Field.OUTPUT]]}\n          />\n        )}\n      </>\n    </Trace>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}