{"ast":null,"code":"import _defineProperty from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _slicedToArray from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import*as Sentry from'@sentry/react';import{FeeAmount}from'@uniswap/v3-sdk';import useBlockNumber from'lib/hooks/useBlockNumber';import{useMemo}from'react';import useFeeTierDistributionQuery from'../graphql/thegraph/FeeTierDistributionQuery';import{PoolState,usePool}from'./usePools';// maximum number of blocks past which we consider the data stale\nvar MAX_DATA_BLOCK_AGE=20;export function useFeeTierDistribution(currencyA,currencyB){var _usePoolTVL=usePoolTVL(currencyA===null||currencyA===void 0?void 0:currencyA.wrapped,currencyB===null||currencyB===void 0?void 0:currencyB.wrapped),isLoading=_usePoolTVL.isLoading,error=_usePoolTVL.error,distributions=_usePoolTVL.distributions;// fetch all pool states to determine pool state\nvar _usePool=usePool(currencyA,currencyB,FeeAmount.LOWEST),_usePool2=_slicedToArray(_usePool,1),poolStateVeryLow=_usePool2[0];var _usePool3=usePool(currencyA,currencyB,FeeAmount.LOW),_usePool4=_slicedToArray(_usePool3,1),poolStateLow=_usePool4[0];var _usePool5=usePool(currencyA,currencyB,FeeAmount.MEDIUM),_usePool6=_slicedToArray(_usePool5,1),poolStateMedium=_usePool6[0];var _usePool7=usePool(currencyA,currencyB,FeeAmount.HIGH),_usePool8=_slicedToArray(_usePool7,1),poolStateHigh=_usePool8[0];return useMemo(function(){var _distributions$FeeAmo,_distributions$FeeAmo2,_distributions$FeeAmo3,_distributions$FeeAmo4,_ref;if(isLoading||error||!distributions){return{isLoading:isLoading,isError:!!error,distributions:distributions};}var largestUsageFeeTier=Object.keys(distributions).map(function(d){return Number(d);}).filter(function(d){return distributions[d]!==0&&distributions[d]!==undefined;}).reduce(function(a,b){var _distributions$a,_distributions$b;return((_distributions$a=distributions[a])!==null&&_distributions$a!==void 0?_distributions$a:0)>((_distributions$b=distributions[b])!==null&&_distributions$b!==void 0?_distributions$b:0)?a:b;},-1);var percentages=!isLoading&&!error&&distributions&&poolStateVeryLow!==PoolState.LOADING&&poolStateLow!==PoolState.LOADING&&poolStateMedium!==PoolState.LOADING&&poolStateHigh!==PoolState.LOADING?(_ref={},_defineProperty(_ref,FeeAmount.LOWEST,poolStateVeryLow===PoolState.EXISTS?((_distributions$FeeAmo=distributions[FeeAmount.LOWEST])!==null&&_distributions$FeeAmo!==void 0?_distributions$FeeAmo:0)*100:undefined),_defineProperty(_ref,FeeAmount.LOW,poolStateLow===PoolState.EXISTS?((_distributions$FeeAmo2=distributions[FeeAmount.LOW])!==null&&_distributions$FeeAmo2!==void 0?_distributions$FeeAmo2:0)*100:undefined),_defineProperty(_ref,FeeAmount.MEDIUM,poolStateMedium===PoolState.EXISTS?((_distributions$FeeAmo3=distributions[FeeAmount.MEDIUM])!==null&&_distributions$FeeAmo3!==void 0?_distributions$FeeAmo3:0)*100:undefined),_defineProperty(_ref,FeeAmount.HIGH,poolStateHigh===PoolState.EXISTS?((_distributions$FeeAmo4=distributions[FeeAmount.HIGH])!==null&&_distributions$FeeAmo4!==void 0?_distributions$FeeAmo4:0)*100:undefined),_ref):undefined;return{isLoading:isLoading,isError:!!error,distributions:percentages,largestUsageFeeTier:largestUsageFeeTier===-1?undefined:largestUsageFeeTier};},[isLoading,error,distributions,poolStateVeryLow,poolStateLow,poolStateMedium,poolStateHigh]);}function usePoolTVL(token0,token1){var latestBlock=useBlockNumber();var _useFeeTierDistributi=useFeeTierDistributionQuery(token0===null||token0===void 0?void 0:token0.address,token1===null||token1===void 0?void 0:token1.address,30000),isLoading=_useFeeTierDistributi.isLoading,error=_useFeeTierDistributi.error,data=_useFeeTierDistributi.data;var _ref2=data!==null&&data!==void 0?data:{},asToken0=_ref2.asToken0,asToken1=_ref2.asToken1,_meta=_ref2._meta;return useMemo(function(){var _meta$block$number,_meta$block,_all$reduce,_distributions;if(!latestBlock||!_meta||!asToken0||!asToken1){return{isLoading:isLoading,error:error};}if(latestBlock-((_meta$block$number=_meta===null||_meta===void 0?void 0:(_meta$block=_meta.block)===null||_meta$block===void 0?void 0:_meta$block.number)!==null&&_meta$block$number!==void 0?_meta$block$number:0)>MAX_DATA_BLOCK_AGE){Sentry.captureMessage(\"Graph stale (latest block: \".concat(latestBlock,\")\"),'log');return{isLoading:isLoading,error:error};}var all=asToken0.concat(asToken1);// sum tvl for token0 and token1 by fee tier\nvar tvlByFeeTier=all.reduce(function(acc,value){var _acc$value$feeTier$,_acc$value$feeTier$2;acc[value.feeTier][0]=((_acc$value$feeTier$=acc[value.feeTier][0])!==null&&_acc$value$feeTier$!==void 0?_acc$value$feeTier$:0)+Number(value.totalValueLockedToken0);acc[value.feeTier][1]=((_acc$value$feeTier$2=acc[value.feeTier][1])!==null&&_acc$value$feeTier$2!==void 0?_acc$value$feeTier$2:0)+Number(value.totalValueLockedToken1);return acc;},(_all$reduce={},_defineProperty(_all$reduce,FeeAmount.LOWEST,[undefined,undefined]),_defineProperty(_all$reduce,FeeAmount.LOW,[undefined,undefined]),_defineProperty(_all$reduce,FeeAmount.MEDIUM,[undefined,undefined]),_defineProperty(_all$reduce,FeeAmount.HIGH,[undefined,undefined]),_all$reduce));// sum total tvl for token0 and token1\nvar _Object$values$reduce=Object.values(tvlByFeeTier).reduce(function(acc,value){var _value$,_value$2;acc[0]+=(_value$=value[0])!==null&&_value$!==void 0?_value$:0;acc[1]+=(_value$2=value[1])!==null&&_value$2!==void 0?_value$2:0;return acc;},[0,0]),_Object$values$reduce2=_slicedToArray(_Object$values$reduce,2),sumToken0Tvl=_Object$values$reduce2[0],sumToken1Tvl=_Object$values$reduce2[1];// returns undefined if both tvl0 and tvl1 are undefined (pool not created)\nvar mean=function mean(tvl0,sumTvl0,tvl1,sumTvl1){return tvl0===undefined&&tvl1===undefined?undefined:((tvl0!==null&&tvl0!==void 0?tvl0:0)+(tvl1!==null&&tvl1!==void 0?tvl1:0))/(sumTvl0+sumTvl1)||0;};var distributions=(_distributions={},_defineProperty(_distributions,FeeAmount.LOWEST,mean(tvlByFeeTier[FeeAmount.LOWEST][0],sumToken0Tvl,tvlByFeeTier[FeeAmount.LOWEST][1],sumToken1Tvl)),_defineProperty(_distributions,FeeAmount.LOW,mean(tvlByFeeTier[FeeAmount.LOW][0],sumToken0Tvl,tvlByFeeTier[FeeAmount.LOW][1],sumToken1Tvl)),_defineProperty(_distributions,FeeAmount.MEDIUM,mean(tvlByFeeTier[FeeAmount.MEDIUM][0],sumToken0Tvl,tvlByFeeTier[FeeAmount.MEDIUM][1],sumToken1Tvl)),_defineProperty(_distributions,FeeAmount.HIGH,mean(tvlByFeeTier[FeeAmount.HIGH][0],sumToken0Tvl,tvlByFeeTier[FeeAmount.HIGH][1],sumToken1Tvl)),_distributions);return{isLoading:isLoading,error:error,distributions:distributions};},[_meta,asToken0,asToken1,isLoading,error,latestBlock]);}","map":{"version":3,"names":["Sentry","FeeAmount","useBlockNumber","useMemo","useFeeTierDistributionQuery","PoolState","usePool","MAX_DATA_BLOCK_AGE","useFeeTierDistribution","currencyA","currencyB","usePoolTVL","wrapped","isLoading","error","distributions","LOWEST","poolStateVeryLow","LOW","poolStateLow","MEDIUM","poolStateMedium","HIGH","poolStateHigh","isError","largestUsageFeeTier","Object","keys","map","d","Number","filter","undefined","reduce","a","b","percentages","LOADING","EXISTS","token0","token1","latestBlock","address","data","asToken0","asToken1","_meta","block","number","captureMessage","all","concat","tvlByFeeTier","acc","value","feeTier","totalValueLockedToken0","totalValueLockedToken1","values","sumToken0Tvl","sumToken1Tvl","mean","tvl0","sumTvl0","tvl1","sumTvl1"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/hooks/useFeeTierDistribution.ts"],"sourcesContent":["import * as Sentry from '@sentry/react'\nimport { Currency, Token } from '@uniswap/sdk-core'\nimport { FeeAmount } from '@uniswap/v3-sdk'\nimport useBlockNumber from 'lib/hooks/useBlockNumber'\nimport ms from 'ms.macro'\nimport { useMemo } from 'react'\n\nimport useFeeTierDistributionQuery from '../graphql/thegraph/FeeTierDistributionQuery'\nimport { PoolState, usePool } from './usePools'\n\n// maximum number of blocks past which we consider the data stale\nconst MAX_DATA_BLOCK_AGE = 20\n\ninterface FeeTierDistribution {\n  isLoading: boolean\n  isError: boolean\n  largestUsageFeeTier?: FeeAmount | undefined\n\n  // distributions as percentages of overall liquidity\n  distributions?: Record<FeeAmount, number | undefined>\n}\n\nexport function useFeeTierDistribution(\n  currencyA: Currency | undefined,\n  currencyB: Currency | undefined\n): FeeTierDistribution {\n  const { isLoading, error, distributions } = usePoolTVL(currencyA?.wrapped, currencyB?.wrapped)\n\n  // fetch all pool states to determine pool state\n  const [poolStateVeryLow] = usePool(currencyA, currencyB, FeeAmount.LOWEST)\n  const [poolStateLow] = usePool(currencyA, currencyB, FeeAmount.LOW)\n  const [poolStateMedium] = usePool(currencyA, currencyB, FeeAmount.MEDIUM)\n  const [poolStateHigh] = usePool(currencyA, currencyB, FeeAmount.HIGH)\n\n  return useMemo(() => {\n    if (isLoading || error || !distributions) {\n      return {\n        isLoading,\n        isError: !!error,\n        distributions,\n      }\n    }\n\n    const largestUsageFeeTier = Object.keys(distributions)\n      .map((d) => Number(d))\n      .filter((d: FeeAmount) => distributions[d] !== 0 && distributions[d] !== undefined)\n      .reduce((a: FeeAmount, b: FeeAmount) => ((distributions[a] ?? 0) > (distributions[b] ?? 0) ? a : b), -1)\n\n    const percentages =\n      !isLoading &&\n      !error &&\n      distributions &&\n      poolStateVeryLow !== PoolState.LOADING &&\n      poolStateLow !== PoolState.LOADING &&\n      poolStateMedium !== PoolState.LOADING &&\n      poolStateHigh !== PoolState.LOADING\n        ? {\n            [FeeAmount.LOWEST]:\n              poolStateVeryLow === PoolState.EXISTS ? (distributions[FeeAmount.LOWEST] ?? 0) * 100 : undefined,\n            [FeeAmount.LOW]: poolStateLow === PoolState.EXISTS ? (distributions[FeeAmount.LOW] ?? 0) * 100 : undefined,\n            [FeeAmount.MEDIUM]:\n              poolStateMedium === PoolState.EXISTS ? (distributions[FeeAmount.MEDIUM] ?? 0) * 100 : undefined,\n            [FeeAmount.HIGH]:\n              poolStateHigh === PoolState.EXISTS ? (distributions[FeeAmount.HIGH] ?? 0) * 100 : undefined,\n          }\n        : undefined\n\n    return {\n      isLoading,\n      isError: !!error,\n      distributions: percentages,\n      largestUsageFeeTier: largestUsageFeeTier === -1 ? undefined : largestUsageFeeTier,\n    }\n  }, [isLoading, error, distributions, poolStateVeryLow, poolStateLow, poolStateMedium, poolStateHigh])\n}\n\nfunction usePoolTVL(token0: Token | undefined, token1: Token | undefined) {\n  const latestBlock = useBlockNumber()\n  const { isLoading, error, data } = useFeeTierDistributionQuery(token0?.address, token1?.address, ms`30s`)\n\n  const { asToken0, asToken1, _meta } = data ?? {}\n\n  return useMemo(() => {\n    if (!latestBlock || !_meta || !asToken0 || !asToken1) {\n      return {\n        isLoading,\n        error,\n      }\n    }\n\n    if (latestBlock - (_meta?.block?.number ?? 0) > MAX_DATA_BLOCK_AGE) {\n      Sentry.captureMessage(`Graph stale (latest block: ${latestBlock})`, 'log')\n\n      return {\n        isLoading,\n        error,\n      }\n    }\n\n    const all = asToken0.concat(asToken1)\n\n    // sum tvl for token0 and token1 by fee tier\n    const tvlByFeeTier = all.reduce<{ [feeAmount: number]: [number | undefined, number | undefined] }>(\n      (acc, value) => {\n        acc[value.feeTier][0] = (acc[value.feeTier][0] ?? 0) + Number(value.totalValueLockedToken0)\n        acc[value.feeTier][1] = (acc[value.feeTier][1] ?? 0) + Number(value.totalValueLockedToken1)\n        return acc\n      },\n      {\n        [FeeAmount.LOWEST]: [undefined, undefined],\n        [FeeAmount.LOW]: [undefined, undefined],\n        [FeeAmount.MEDIUM]: [undefined, undefined],\n        [FeeAmount.HIGH]: [undefined, undefined],\n      } as Record<FeeAmount, [number | undefined, number | undefined]>\n    )\n\n    // sum total tvl for token0 and token1\n    const [sumToken0Tvl, sumToken1Tvl] = Object.values(tvlByFeeTier).reduce(\n      (acc: [number, number], value) => {\n        acc[0] += value[0] ?? 0\n        acc[1] += value[1] ?? 0\n        return acc\n      },\n      [0, 0]\n    )\n\n    // returns undefined if both tvl0 and tvl1 are undefined (pool not created)\n    const mean = (tvl0: number | undefined, sumTvl0: number, tvl1: number | undefined, sumTvl1: number) =>\n      tvl0 === undefined && tvl1 === undefined ? undefined : ((tvl0 ?? 0) + (tvl1 ?? 0)) / (sumTvl0 + sumTvl1) || 0\n\n    const distributions: Record<FeeAmount, number | undefined> = {\n      [FeeAmount.LOWEST]: mean(\n        tvlByFeeTier[FeeAmount.LOWEST][0],\n        sumToken0Tvl,\n        tvlByFeeTier[FeeAmount.LOWEST][1],\n        sumToken1Tvl\n      ),\n      [FeeAmount.LOW]: mean(tvlByFeeTier[FeeAmount.LOW][0], sumToken0Tvl, tvlByFeeTier[FeeAmount.LOW][1], sumToken1Tvl),\n      [FeeAmount.MEDIUM]: mean(\n        tvlByFeeTier[FeeAmount.MEDIUM][0],\n        sumToken0Tvl,\n        tvlByFeeTier[FeeAmount.MEDIUM][1],\n        sumToken1Tvl\n      ),\n      [FeeAmount.HIGH]: mean(\n        tvlByFeeTier[FeeAmount.HIGH][0],\n        sumToken0Tvl,\n        tvlByFeeTier[FeeAmount.HIGH][1],\n        sumToken1Tvl\n      ),\n    }\n\n    return {\n      isLoading,\n      error,\n      distributions,\n    }\n  }, [_meta, asToken0, asToken1, isLoading, error, latestBlock])\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}