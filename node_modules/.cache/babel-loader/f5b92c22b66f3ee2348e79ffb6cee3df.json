{"ast":null,"code":"import _regeneratorRuntime from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";export var X2Y2_TRANSFER_CONTRACT='0xf849de01b080adc3a814fabe1e2087475cf2e354';export var newX2Y2Order=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(payload){var body,url,ac,req,timeout,res,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:body=JSON.stringify(payload);url=\"\".concat(process.env.REACT_APP_TEMP_API_URL,\"/nft/postX2Y2SellOrderWithApiKey\");ac=new AbortController();req=new Request(url,{method:'POST',headers:{'Content-Type':'application/json; charset=utf-8'},body:body,signal:ac.signal});timeout=setTimeout(function(){return ac.abort();},60*1000);_context.prev=5;_context.next=8;return fetch(req);case 8:res=_context.sent;_context.next=11;return res.json();case 11:data=_context.sent;return _context.abrupt(\"return\",data.code===200);case 15:_context.prev=15;_context.t0=_context[\"catch\"](5);return _context.abrupt(\"return\",false);case 18:_context.prev=18;clearTimeout(timeout);return _context.finish(18);case 21:case\"end\":return _context.stop();}}},_callee,null,[[5,15,18,21]]);}));return function newX2Y2Order(_x){return _ref.apply(this,arguments);};}();export var getOrderId=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(collectionAddress,tokenId){var _data$data,_data$data$data,_data$data$data$;var url,r,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:url=\"\".concat(process.env.REACT_APP_TEMP_API_URL,\"/nft/getX2Y2OrderId?collectionAddress=\").concat(collectionAddress,\"&tokenId=\").concat(tokenId);_context2.next=3;return fetch(url,{method:'GET',headers:{'Content-Type':'application/json; charset=utf-8'}});case 3:r=_context2.sent;_context2.next=6;return r.json();case 6:data=_context2.sent;return _context2.abrupt(\"return\",data===null||data===void 0?void 0:(_data$data=data.data)===null||_data$data===void 0?void 0:(_data$data$data=_data$data.data)===null||_data$data$data===void 0?void 0:(_data$data$data$=_data$data$data[0])===null||_data$data$data$===void 0?void 0:_data$data$data$.id);case 8:case\"end\":return _context2.stop();}}},_callee2);}));return function getOrderId(_x2,_x3){return _ref2.apply(this,arguments);};}();","map":{"version":3,"names":["X2Y2_TRANSFER_CONTRACT","newX2Y2Order","payload","body","JSON","stringify","url","process","env","REACT_APP_TEMP_API_URL","ac","AbortController","req","Request","method","headers","signal","timeout","setTimeout","abort","fetch","res","json","data","code","clearTimeout","getOrderId","collectionAddress","tokenId","r","id"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/nft/queries/x2y2/index.ts"],"sourcesContent":["import { OrderPayload } from '../../utils/x2y2'\n\nexport const X2Y2_TRANSFER_CONTRACT = '0xf849de01b080adc3a814fabe1e2087475cf2e354'\n\nexport const newX2Y2Order = async (payload: OrderPayload): Promise<boolean> => {\n  const body = JSON.stringify(payload)\n  const url = `${process.env.REACT_APP_TEMP_API_URL}/nft/postX2Y2SellOrderWithApiKey`\n  const ac = new AbortController()\n  const req = new Request(url, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json; charset=utf-8',\n    },\n    body,\n    signal: ac.signal,\n  })\n  const timeout = setTimeout(() => ac.abort(), 60 * 1000)\n  try {\n    const res = await fetch(req)\n    const data = await res.json()\n    return data.code === 200\n  } catch (e) {\n    return false\n  } finally {\n    clearTimeout(timeout)\n  }\n}\n\nexport const getOrderId = async (collectionAddress: string, tokenId: string): Promise<number | undefined> => {\n  const url = `${process.env.REACT_APP_TEMP_API_URL}/nft/getX2Y2OrderId?collectionAddress=${collectionAddress}&tokenId=${tokenId}`\n  const r = await fetch(url, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json; charset=utf-8',\n    },\n  })\n  const data = await r.json()\n  return data?.data?.data?.[0]?.id\n}\n"],"mappings":"qVAEA,MAAO,IAAMA,uBAAsB,CAAG,4CAA4C,CAElF,MAAO,IAAMC,aAAY,0FAAG,iBAAOC,OAAqB,uJAChDC,IAAI,CAAGC,IAAI,CAACC,SAAS,CAACH,OAAO,CAAC,CAC9BI,GAAG,WAAMC,OAAO,CAACC,GAAG,CAACC,sBAAsB,qCAC3CC,EAAE,CAAG,GAAIC,gBAAe,EAAE,CAC1BC,GAAG,CAAG,GAAIC,QAAO,CAACP,GAAG,CAAE,CAC3BQ,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,iCAClB,CAAC,CACDZ,IAAI,CAAJA,IAAI,CACJa,MAAM,CAAEN,EAAE,CAACM,MACb,CAAC,CAAC,CACIC,OAAO,CAAGC,UAAU,CAAC,iBAAMR,GAAE,CAACS,KAAK,EAAE,GAAE,EAAE,CAAG,IAAI,CAAC,uCAEnCC,MAAK,CAACR,GAAG,CAAC,QAAtBS,GAAG,sCACUA,IAAG,CAACC,IAAI,EAAE,SAAvBC,IAAI,+CACHA,IAAI,CAACC,IAAI,GAAK,GAAG,4FAEjB,KAAK,2BAEZC,YAAY,CAACR,OAAO,CAAC,uGAExB,kBAtBYhB,aAAY,4CAsBxB,CAED,MAAO,IAAMyB,WAAU,2FAAG,kBAAOC,iBAAyB,CAAEC,OAAe,qLACnEtB,GAAG,WAAMC,OAAO,CAACC,GAAG,CAACC,sBAAsB,kDAAyCkB,iBAAiB,qBAAYC,OAAO,yBAC9GR,MAAK,CAACd,GAAG,CAAE,CACzBQ,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACP,cAAc,CAAE,iCAClB,CACF,CAAC,CAAC,QALIc,CAAC,uCAMYA,EAAC,CAACP,IAAI,EAAE,QAArBC,IAAI,iDACHA,IAAI,SAAJA,IAAI,6BAAJA,IAAI,CAAEA,IAAI,sDAAV,WAAYA,IAAI,4DAAhB,gBAAmB,CAAC,CAAC,2CAArB,iBAAuBO,EAAE,0DACjC,kBAVYJ,WAAU,kDAUtB"},"metadata":{},"sourceType":"module"}