{"ast":null,"code":"import _slicedToArray from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _styled from\"styled-components\";import{ButtonGray}from'components/Button';import{select,zoom,zoomIdentity}from'd3';import React,{useEffect,useMemo,useRef}from'react';import{RefreshCcw,ZoomIn,ZoomOut}from'react-feather';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Wrapper=_styled.div.withConfig({componentId:\"sc-2wmd87-0\"})([\"display:grid;grid-template-columns:repeat(\",\",1fr);grid-gap:6px;position:absolute;top:-75px;right:0;\"],function(_ref){var count=_ref.count;return count.toString();});var Button=_styled(ButtonGray).withConfig({componentId:\"sc-2wmd87-1\"})([\"&:hover{background-color:\",\";color:\",\";}width:32px;height:32px;padding:4px;\"],function(_ref2){var theme=_ref2.theme;return theme.backgroundInteractive;},function(_ref3){var theme=_ref3.theme;return theme.textPrimary;});export var ZoomOverlay=_styled.rect.withConfig({componentId:\"sc-2wmd87-2\"})([\"fill:transparent;cursor:grab;&:active{cursor:grabbing;}\"]);export default function Zoom(_ref4){var svg=_ref4.svg,xScale=_ref4.xScale,setZoom=_ref4.setZoom,width=_ref4.width,height=_ref4.height,resetBrush=_ref4.resetBrush,showResetButton=_ref4.showResetButton,zoomLevels=_ref4.zoomLevels;var zoomBehavior=useRef();var _useMemo=useMemo(function(){return[function(){return svg&&zoomBehavior.current&&select(svg).transition().call(zoomBehavior.current.scaleBy,2);},function(){return svg&&zoomBehavior.current&&select(svg).transition().call(zoomBehavior.current.scaleBy,0.5);},function(){return svg&&zoomBehavior.current&&select(svg).transition().call(zoomBehavior.current.scaleTo,0.5);},function(){return svg&&zoomBehavior.current&&select(svg).call(zoomBehavior.current.transform,zoomIdentity.translate(0,0).scale(1)).transition().call(zoomBehavior.current.scaleTo,0.5);}];},[svg]),_useMemo2=_slicedToArray(_useMemo,4),zoomIn=_useMemo2[0],zoomOut=_useMemo2[1],zoomInitial=_useMemo2[2],zoomReset=_useMemo2[3];useEffect(function(){if(!svg)return;zoomBehavior.current=zoom().scaleExtent([zoomLevels.min,zoomLevels.max]).extent([[0,0],[width,height]]).on('zoom',function(_ref5){var transform=_ref5.transform;return setZoom(transform);});select(svg).call(zoomBehavior.current);},[height,width,setZoom,svg,xScale,zoomBehavior,zoomLevels,zoomLevels.max,zoomLevels.min]);useEffect(function(){// reset zoom to initial on zoomLevel change\nzoomInitial();},[zoomInitial,zoomLevels]);return/*#__PURE__*/_jsxs(Wrapper,{count:showResetButton?3:2,children:[showResetButton&&/*#__PURE__*/_jsx(Button,{onClick:function onClick(){resetBrush();zoomReset();},disabled:false,children:/*#__PURE__*/_jsx(RefreshCcw,{size:16})}),/*#__PURE__*/_jsx(Button,{onClick:zoomIn,disabled:false,children:/*#__PURE__*/_jsx(ZoomIn,{size:16})}),/*#__PURE__*/_jsx(Button,{onClick:zoomOut,disabled:false,children:/*#__PURE__*/_jsx(ZoomOut,{size:16})})]});}","map":{"version":3,"names":["ButtonGray","select","zoom","zoomIdentity","React","useEffect","useMemo","useRef","RefreshCcw","ZoomIn","ZoomOut","Wrapper","styled","div","count","toString","Button","theme","backgroundInteractive","textPrimary","ZoomOverlay","rect","Zoom","svg","xScale","setZoom","width","height","resetBrush","showResetButton","zoomLevels","zoomBehavior","current","transition","call","scaleBy","scaleTo","transform","translate","scale","zoomIn","zoomOut","zoomInitial","zoomReset","scaleExtent","min","max","extent","on"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/components/LiquidityChartRangeInput/Zoom.tsx"],"sourcesContent":["import { ButtonGray } from 'components/Button'\nimport { ScaleLinear, select, zoom, ZoomBehavior, zoomIdentity, ZoomTransform } from 'd3'\nimport React, { useEffect, useMemo, useRef } from 'react'\nimport { RefreshCcw, ZoomIn, ZoomOut } from 'react-feather'\nimport styled from 'styled-components/macro'\n\nimport { ZoomLevels } from './types'\n\nconst Wrapper = styled.div<{ count: number }>`\n  display: grid;\n  grid-template-columns: repeat(${({ count }) => count.toString()}, 1fr);\n  grid-gap: 6px;\n\n  position: absolute;\n  top: -75px;\n  right: 0;\n`\n\nconst Button = styled(ButtonGray)`\n  &:hover {\n    background-color: ${({ theme }) => theme.backgroundInteractive};\n    color: ${({ theme }) => theme.textPrimary};\n  }\n\n  width: 32px;\n  height: 32px;\n  padding: 4px;\n`\n\nexport const ZoomOverlay = styled.rect`\n  fill: transparent;\n  cursor: grab;\n\n  &:active {\n    cursor: grabbing;\n  }\n`\n\nexport default function Zoom({\n  svg,\n  xScale,\n  setZoom,\n  width,\n  height,\n  resetBrush,\n  showResetButton,\n  zoomLevels,\n}: {\n  svg: SVGElement | null\n  xScale: ScaleLinear<number, number>\n  setZoom: (transform: ZoomTransform) => void\n  width: number\n  height: number\n  resetBrush: () => void\n  showResetButton: boolean\n  zoomLevels: ZoomLevels\n}) {\n  const zoomBehavior = useRef<ZoomBehavior<Element, unknown>>()\n\n  const [zoomIn, zoomOut, zoomInitial, zoomReset] = useMemo(\n    () => [\n      () =>\n        svg &&\n        zoomBehavior.current &&\n        select(svg as Element)\n          .transition()\n          .call(zoomBehavior.current.scaleBy, 2),\n      () =>\n        svg &&\n        zoomBehavior.current &&\n        select(svg as Element)\n          .transition()\n          .call(zoomBehavior.current.scaleBy, 0.5),\n      () =>\n        svg &&\n        zoomBehavior.current &&\n        select(svg as Element)\n          .transition()\n          .call(zoomBehavior.current.scaleTo, 0.5),\n      () =>\n        svg &&\n        zoomBehavior.current &&\n        select(svg as Element)\n          .call(zoomBehavior.current.transform, zoomIdentity.translate(0, 0).scale(1))\n          .transition()\n          .call(zoomBehavior.current.scaleTo, 0.5),\n    ],\n    [svg]\n  )\n\n  useEffect(() => {\n    if (!svg) return\n\n    zoomBehavior.current = zoom()\n      .scaleExtent([zoomLevels.min, zoomLevels.max])\n      .extent([\n        [0, 0],\n        [width, height],\n      ])\n      .on('zoom', ({ transform }: { transform: ZoomTransform }) => setZoom(transform))\n\n    select(svg as Element).call(zoomBehavior.current)\n  }, [height, width, setZoom, svg, xScale, zoomBehavior, zoomLevels, zoomLevels.max, zoomLevels.min])\n\n  useEffect(() => {\n    // reset zoom to initial on zoomLevel change\n    zoomInitial()\n  }, [zoomInitial, zoomLevels])\n\n  return (\n    <Wrapper count={showResetButton ? 3 : 2}>\n      {showResetButton && (\n        <Button\n          onClick={() => {\n            resetBrush()\n            zoomReset()\n          }}\n          disabled={false}\n        >\n          <RefreshCcw size={16} />\n        </Button>\n      )}\n      <Button onClick={zoomIn} disabled={false}>\n        <ZoomIn size={16} />\n      </Button>\n      <Button onClick={zoomOut} disabled={false}>\n        <ZoomOut size={16} />\n      </Button>\n    </Wrapper>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}