{"ast":null,"code":"import _slicedToArray from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _styled from\"styled-components\";import{BigNumber}from'@ethersproject/bignumber';import{formatEther}from'@ethersproject/units';import clsx from'clsx';import{ButtonEmphasis,ButtonSize,ThemeButton}from'components/Button';import{TimedLoader}from'nft/components/bag/TimedLoader';import{Box}from'nft/components/Box';import{Suspicious}from'nft/components/collection/Card';import{Column,Row}from'nft/components/Flex';import{ChevronDownBagIcon,ChevronUpBagIcon,CircularCloseIcon,CloseTimerIcon,SquareArrowDownIcon,SquareArrowUpIcon,VerifiedIcon}from'nft/components/icons';import{bodySmall}from'nft/css/common.css';import{loadingBlock}from'nft/css/loading.css';import{ethNumberStandardFormatter,formatWeiToDecimal,getAssetHref}from'nft/utils';import{useCallback,useEffect,useReducer,useState}from'react';import{Link}from'react-router-dom';import*as styles from'./BagRow.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var RemoveButton=_styled(ThemeButton).withConfig({componentId:\"sc-iebvtt-0\"})([\"border-radius:12px;font-size:14px;line-height:16px;margin-left:16px;padding:12px 14px;\"]);var ReviewButton=_styled(ThemeButton).withConfig({componentId:\"sc-iebvtt-1\"})([\"border-radius:12px;flex:1 1 auto;font-size:14px;padding:8px;width:50%;\"]);var RemoveAssetOverlay=_styled.div.withConfig({componentId:\"sc-iebvtt-2\"})([\"position:absolute;display:block;right:-11px;top:-11px;z-index:1;transition:250ms;width:45px;height:45px;display:flex;align-items:center;justify-content:center;\"]);export var RemoveAssetButton=function RemoveAssetButton(_ref){var onClick=_ref.onClick;return/*#__PURE__*/_jsx(RemoveAssetOverlay,{onClick:onClick,children:/*#__PURE__*/_jsx(CircularCloseIcon,{})});};var NoContentContainer=function NoContentContainer(){return/*#__PURE__*/_jsx(Box,{position:\"relative\",background:\"loadingBackground\",className:styles.bagRowImage,children:/*#__PURE__*/_jsxs(Box,{position:\"absolute\",textAlign:\"center\",left:\"1/2\",top:\"1/2\",style:{transform:'translate3d(-50%, -50%, 0)'},color:\"gray500\",fontSize:\"12\",fontWeight:\"normal\",children:[\"Image\",/*#__PURE__*/_jsx(\"br\",{}),\"not\",/*#__PURE__*/_jsx(\"br\",{}),\"available\"]})});};export var BagRow=function BagRow(_ref2){var _asset$name;var asset=_ref2.asset,usdPrice=_ref2.usdPrice,removeAsset=_ref2.removeAsset,showRemove=_ref2.showRemove,grayscale=_ref2.grayscale,isMobile=_ref2.isMobile;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loadedImage=_useState2[0],setImageLoaded=_useState2[1];var _useState3=useState(!asset.smallImageUrl),_useState4=_slicedToArray(_useState3,2),noImageAvailable=_useState4[0],setNoImageAvailable=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),cardHovered=_useState6[0],setCardHovered=_useState6[1];var handleMouseEnter=useCallback(function(){return setCardHovered(true);},[]);var handleMouseLeave=useCallback(function(){return setCardHovered(false);},[]);var showRemoveButton=Boolean(showRemove&&cardHovered&&!isMobile);var assetEthPrice=asset.updatedPriceInfo?asset.updatedPriceInfo.ETHPrice:asset.priceInfo.ETHPrice;var assetEthPriceFormatted=formatWeiToDecimal(assetEthPrice);var assetUSDPriceFormatted=ethNumberStandardFormatter(usdPrice?parseFloat(formatEther(assetEthPrice))*usdPrice:usdPrice,true);var handleRemoveClick=useCallback(function(e){e.preventDefault();e.stopPropagation();removeAsset([asset]);},[asset,removeAsset]);return/*#__PURE__*/_jsx(Link,{to:getAssetHref(asset),style:{textDecoration:'none'},children:/*#__PURE__*/_jsxs(Row,{className:styles.bagRow,onMouseEnter:handleMouseEnter,onMouseLeave:handleMouseLeave,children:[/*#__PURE__*/_jsxs(Box,{position:\"relative\",display:\"flex\",children:[showRemove&&isMobile&&/*#__PURE__*/_jsx(RemoveAssetButton,{onClick:handleRemoveClick}),!noImageAvailable&&/*#__PURE__*/_jsx(Box,{as:\"img\",src:asset.smallImageUrl,alt:asset.name,className:clsx(styles.bagRowImage,grayscale&&!cardHovered&&styles.grayscaleImage),onLoad:function onLoad(){setImageLoaded(true);},onError:function onError(){setNoImageAvailable(true);},visibility:loadedImage?'visible':'hidden'}),!loadedImage&&/*#__PURE__*/_jsx(Box,{position:\"absolute\",className:\"\".concat(styles.bagRowImage,\" \").concat(loadingBlock)}),noImageAvailable&&/*#__PURE__*/_jsx(NoContentContainer,{})]}),/*#__PURE__*/_jsxs(Column,{overflow:\"hidden\",width:\"full\",color:grayscale?'textSecondary':'textPrimary',children:[/*#__PURE__*/_jsxs(Row,{overflow:\"hidden\",width:\"full\",whiteSpace:\"nowrap\",children:[/*#__PURE__*/_jsx(Box,{className:styles.assetName,children:(_asset$name=asset.name)!==null&&_asset$name!==void 0?_asset$name:\"#\".concat(asset.tokenId)}),asset.susFlag&&/*#__PURE__*/_jsx(Suspicious,{})]}),/*#__PURE__*/_jsxs(Row,{overflow:\"hidden\",whiteSpace:\"nowrap\",gap:\"2\",children:[/*#__PURE__*/_jsx(Box,{className:styles.collectionName,children:asset.collectionName}),asset.collectionIsVerified&&/*#__PURE__*/_jsx(VerifiedIcon,{className:styles.icon})]})]}),showRemoveButton&&/*#__PURE__*/_jsx(RemoveButton,{onClick:handleRemoveClick,emphasis:ButtonEmphasis.medium,size:ButtonSize.medium,children:\"Remove\"}),(!showRemoveButton||isMobile)&&/*#__PURE__*/_jsxs(Column,{flexShrink:\"0\",alignItems:\"flex-end\",children:[/*#__PURE__*/_jsxs(Box,{className:styles.bagRowPrice,children:[assetEthPriceFormatted,\"\\xA0ETH\"]}),/*#__PURE__*/_jsx(Box,{className:styles.collectionName,children:assetUSDPriceFormatted})]})]})});};export var PriceChangeBagRow=function PriceChangeBagRow(_ref3){var _asset$updatedPriceIn;var asset=_ref3.asset,usdPrice=_ref3.usdPrice,markAssetAsReviewed=_ref3.markAssetAsReviewed,top=_ref3.top,isMobile=_ref3.isMobile;var isPriceIncrease=BigNumber.from((_asset$updatedPriceIn=asset.updatedPriceInfo)===null||_asset$updatedPriceIn===void 0?void 0:_asset$updatedPriceIn.ETHPrice).gt(BigNumber.from(asset.priceInfo.ETHPrice));var handleRemove=useCallback(function(e){e.preventDefault();e.stopPropagation();var toKeep=false;markAssetAsReviewed(asset,toKeep);},[asset,markAssetAsReviewed]);var handleKeep=useCallback(function(e){e.preventDefault();e.stopPropagation();var toKeep=true;markAssetAsReviewed(asset,toKeep);},[asset,markAssetAsReviewed]);return/*#__PURE__*/_jsxs(Column,{className:styles.priceChangeColumn,borderTopColor:top?'backgroundOutline':'transparent',children:[/*#__PURE__*/_jsxs(Row,{className:styles.priceChangeRow,children:[isPriceIncrease?/*#__PURE__*/_jsx(SquareArrowUpIcon,{}):/*#__PURE__*/_jsx(SquareArrowDownIcon,{}),/*#__PURE__*/_jsx(Box,{children:\"Price \".concat(isPriceIncrease?'increased':'decreased',\" from \").concat(formatWeiToDecimal(asset.priceInfo.ETHPrice),\" ETH\")})]}),/*#__PURE__*/_jsx(Box,{style:{marginLeft:'-8px',marginRight:'-8px'},children:/*#__PURE__*/_jsx(BagRow,{asset:asset,usdPrice:usdPrice,removeAsset:function removeAsset(){return undefined;},isMobile:isMobile})}),/*#__PURE__*/_jsxs(Row,{gap:\"8\",justifyContent:\"space-between\",children:[/*#__PURE__*/_jsx(ReviewButton,{onClick:handleRemove,emphasis:ButtonEmphasis.medium,size:ButtonSize.small,children:\"Remove\"}),/*#__PURE__*/_jsx(ReviewButton,{onClick:handleKeep,emphasis:ButtonEmphasis.high,size:ButtonSize.small,children:\"Keep\"})]})]});};var ASSET_PREVIEW_WIDTH=32;var ASSET_PREVIEW_OFFSET=20;var UnavailableAssetsPreview=function UnavailableAssetsPreview(_ref4){var assets=_ref4.assets;return/*#__PURE__*/_jsx(Column,{display:\"grid\",style:{gridTemplateColumns:\"repeat(\".concat(assets.length,\", 20px)\"),width:\"\".concat(ASSET_PREVIEW_WIDTH+(assets.length-1)*ASSET_PREVIEW_OFFSET,\"px\")},children:assets.map(function(asset,index){return/*#__PURE__*/_jsx(Box,{as:\"img\",src:asset.smallImageUrl,width:\"32\",height:\"32\",borderStyle:\"solid\",borderWidth:\"1px\",borderColor:\"backgroundSurface\",borderRadius:\"4\",style:{zIndex:index},className:styles.grayscaleImage},\"\".concat(asset.address,\"-\").concat(asset.tokenId));})});};export var UnavailableAssetsHeaderRow=function UnavailableAssetsHeaderRow(_ref5){var assets=_ref5.assets,usdPrice=_ref5.usdPrice,clearUnavailableAssets=_ref5.clearUnavailableAssets,didOpenUnavailableAssets=_ref5.didOpenUnavailableAssets,setDidOpenUnavailableAssets=_ref5.setDidOpenUnavailableAssets,isMobile=_ref5.isMobile;var _useReducer=useReducer(function(s){return!s;},false),_useReducer2=_slicedToArray(_useReducer,2),isOpen=_useReducer2[0],toggleOpen=_useReducer2[1];var timerLimit=8;var _useState7=useState(timerLimit),_useState8=_slicedToArray(_useState7,2),timeLeft=_useState8[0],setTimeLeft=_useState8[1];useEffect(function(){if(!timeLeft){if(!didOpenUnavailableAssets){clearUnavailableAssets();setDidOpenUnavailableAssets(false);}return;}var intervalId=setInterval(function(){setTimeLeft(timeLeft-1);},1000);return function(){return clearInterval(intervalId);};},[timeLeft,clearUnavailableAssets,didOpenUnavailableAssets,setDidOpenUnavailableAssets]);if(!assets||assets.length===0)return null;var moreThanOneUnavailable=assets.length>1;var isShowingAssets=isOpen||!moreThanOneUnavailable;return/*#__PURE__*/_jsx(Column,{className:styles.unavailableAssetsContainer,children:/*#__PURE__*/_jsxs(Column,{children:[/*#__PURE__*/_jsxs(Row,{justifyContent:\"space-between\",marginBottom:isShowingAssets?'12':'0',cursor:moreThanOneUnavailable?'pointer':'default',onClick:function onClick(){if(moreThanOneUnavailable){!didOpenUnavailableAssets&&setDidOpenUnavailableAssets(true);toggleOpen();}},children:[/*#__PURE__*/_jsxs(Row,{gap:\"12\",color:\"textSecondary\",className:bodySmall,children:[!isShowingAssets&&/*#__PURE__*/_jsx(UnavailableAssetsPreview,{assets:assets.slice(0,5)}),\"No longer available\"]}),moreThanOneUnavailable&&/*#__PURE__*/_jsx(Row,{color:\"textSecondary\",children:isOpen?/*#__PURE__*/_jsx(ChevronUpBagIcon,{}):/*#__PURE__*/_jsx(ChevronDownBagIcon,{})}),!didOpenUnavailableAssets&&/*#__PURE__*/_jsxs(Row,{position:\"relative\",width:\"20\",height:\"20\",color:\"textPrimary\",justifyContent:\"center\",cursor:\"pointer\",onClick:clearUnavailableAssets,children:[/*#__PURE__*/_jsx(TimedLoader,{}),/*#__PURE__*/_jsx(CloseTimerIcon,{})]})]}),/*#__PURE__*/_jsx(Column,{gap:\"8\",style:{marginLeft:'-8px',marginRight:'-8px'},children:isShowingAssets&&assets.map(function(asset){return/*#__PURE__*/_jsx(BagRow,{asset:asset,usdPrice:usdPrice,removeAsset:function removeAsset(){return undefined;},grayscale:true,isMobile:isMobile},asset.id);})})]})});};","map":{"version":3,"names":["BigNumber","formatEther","clsx","ButtonEmphasis","ButtonSize","ThemeButton","TimedLoader","Box","Suspicious","Column","Row","ChevronDownBagIcon","ChevronUpBagIcon","CircularCloseIcon","CloseTimerIcon","SquareArrowDownIcon","SquareArrowUpIcon","VerifiedIcon","bodySmall","loadingBlock","ethNumberStandardFormatter","formatWeiToDecimal","getAssetHref","useCallback","useEffect","useReducer","useState","Link","styles","RemoveButton","styled","ReviewButton","RemoveAssetOverlay","div","RemoveAssetButton","onClick","NoContentContainer","bagRowImage","transform","BagRow","asset","usdPrice","removeAsset","showRemove","grayscale","isMobile","loadedImage","setImageLoaded","smallImageUrl","noImageAvailable","setNoImageAvailable","cardHovered","setCardHovered","handleMouseEnter","handleMouseLeave","showRemoveButton","Boolean","assetEthPrice","updatedPriceInfo","ETHPrice","priceInfo","assetEthPriceFormatted","assetUSDPriceFormatted","parseFloat","handleRemoveClick","e","preventDefault","stopPropagation","textDecoration","bagRow","name","grayscaleImage","assetName","tokenId","susFlag","collectionName","collectionIsVerified","icon","medium","bagRowPrice","PriceChangeBagRow","markAssetAsReviewed","top","isPriceIncrease","from","gt","handleRemove","toKeep","handleKeep","priceChangeColumn","priceChangeRow","marginLeft","marginRight","undefined","small","high","ASSET_PREVIEW_WIDTH","ASSET_PREVIEW_OFFSET","UnavailableAssetsPreview","assets","gridTemplateColumns","length","width","map","index","zIndex","address","UnavailableAssetsHeaderRow","clearUnavailableAssets","didOpenUnavailableAssets","setDidOpenUnavailableAssets","s","isOpen","toggleOpen","timerLimit","timeLeft","setTimeLeft","intervalId","setInterval","clearInterval","moreThanOneUnavailable","isShowingAssets","unavailableAssetsContainer","slice","id"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/nft/components/bag/BagRow.tsx"],"sourcesContent":["import { BigNumber } from '@ethersproject/bignumber'\nimport { formatEther } from '@ethersproject/units'\nimport clsx from 'clsx'\nimport { ButtonEmphasis, ButtonSize, ThemeButton } from 'components/Button'\nimport { TimedLoader } from 'nft/components/bag/TimedLoader'\nimport { Box } from 'nft/components/Box'\nimport { Suspicious } from 'nft/components/collection/Card'\nimport { Column, Row } from 'nft/components/Flex'\nimport {\n  ChevronDownBagIcon,\n  ChevronUpBagIcon,\n  CircularCloseIcon,\n  CloseTimerIcon,\n  SquareArrowDownIcon,\n  SquareArrowUpIcon,\n  VerifiedIcon,\n} from 'nft/components/icons'\nimport { bodySmall } from 'nft/css/common.css'\nimport { loadingBlock } from 'nft/css/loading.css'\nimport { GenieAsset, UpdatedGenieAsset } from 'nft/types'\nimport { ethNumberStandardFormatter, formatWeiToDecimal, getAssetHref } from 'nft/utils'\nimport { MouseEvent, useCallback, useEffect, useReducer, useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport styled from 'styled-components/macro'\n\nimport * as styles from './BagRow.css'\n\nexport const RemoveButton = styled(ThemeButton)`\n  border-radius: 12px;\n  font-size: 14px;\n  line-height: 16px;\n  margin-left: 16px;\n  padding: 12px 14px;\n`\nconst ReviewButton = styled(ThemeButton)`\n  border-radius: 12px;\n  flex: 1 1 auto;\n  font-size: 14px;\n  padding: 8px;\n  width: 50%;\n`\nconst RemoveAssetOverlay = styled.div`\n  position: absolute;\n  display: block;\n  right: -11px;\n  top: -11px;\n  z-index: 1;\n  transition: 250ms;\n  width: 45px;\n  height: 45px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`\n\nexport const RemoveAssetButton = ({ onClick }: { onClick: (e: MouseEvent<HTMLDivElement>) => void }) => (\n  <RemoveAssetOverlay onClick={onClick}>\n    <CircularCloseIcon />\n  </RemoveAssetOverlay>\n)\n\nconst NoContentContainer = () => (\n  <Box position=\"relative\" background=\"loadingBackground\" className={styles.bagRowImage}>\n    <Box\n      position=\"absolute\"\n      textAlign=\"center\"\n      left=\"1/2\"\n      top=\"1/2\"\n      style={{ transform: 'translate3d(-50%, -50%, 0)' }}\n      color=\"gray500\"\n      fontSize=\"12\"\n      fontWeight=\"normal\"\n    >\n      Image\n      <br />\n      not\n      <br />\n      available\n    </Box>\n  </Box>\n)\n\ninterface BagRowProps {\n  asset: UpdatedGenieAsset\n  usdPrice: number | undefined\n  removeAsset: (assets: GenieAsset[]) => void\n  showRemove?: boolean\n  grayscale?: boolean\n  isMobile: boolean\n}\n\nexport const BagRow = ({ asset, usdPrice, removeAsset, showRemove, grayscale, isMobile }: BagRowProps) => {\n  const [loadedImage, setImageLoaded] = useState(false)\n  const [noImageAvailable, setNoImageAvailable] = useState(!asset.smallImageUrl)\n\n  const [cardHovered, setCardHovered] = useState(false)\n  const handleMouseEnter = useCallback(() => setCardHovered(true), [])\n  const handleMouseLeave = useCallback(() => setCardHovered(false), [])\n  const showRemoveButton = Boolean(showRemove && cardHovered && !isMobile)\n\n  const assetEthPrice = asset.updatedPriceInfo ? asset.updatedPriceInfo.ETHPrice : asset.priceInfo.ETHPrice\n  const assetEthPriceFormatted = formatWeiToDecimal(assetEthPrice)\n  const assetUSDPriceFormatted = ethNumberStandardFormatter(\n    usdPrice ? parseFloat(formatEther(assetEthPrice)) * usdPrice : usdPrice,\n    true\n  )\n\n  const handleRemoveClick = useCallback(\n    (e: MouseEvent<HTMLElement>) => {\n      e.preventDefault()\n      e.stopPropagation()\n      removeAsset([asset])\n    },\n    [asset, removeAsset]\n  )\n\n  return (\n    <Link to={getAssetHref(asset)} style={{ textDecoration: 'none' }}>\n      <Row className={styles.bagRow} onMouseEnter={handleMouseEnter} onMouseLeave={handleMouseLeave}>\n        <Box position=\"relative\" display=\"flex\">\n          {showRemove && isMobile && <RemoveAssetButton onClick={handleRemoveClick} />}\n          {!noImageAvailable && (\n            <Box\n              as=\"img\"\n              src={asset.smallImageUrl}\n              alt={asset.name}\n              className={clsx(styles.bagRowImage, grayscale && !cardHovered && styles.grayscaleImage)}\n              onLoad={() => {\n                setImageLoaded(true)\n              }}\n              onError={() => {\n                setNoImageAvailable(true)\n              }}\n              visibility={loadedImage ? 'visible' : 'hidden'}\n            />\n          )}\n          {!loadedImage && <Box position=\"absolute\" className={`${styles.bagRowImage} ${loadingBlock}`} />}\n          {noImageAvailable && <NoContentContainer />}\n        </Box>\n        <Column overflow=\"hidden\" width=\"full\" color={grayscale ? 'textSecondary' : 'textPrimary'}>\n          <Row overflow=\"hidden\" width=\"full\" whiteSpace=\"nowrap\">\n            <Box className={styles.assetName}>{asset.name ?? `#${asset.tokenId}`}</Box>\n            {asset.susFlag && <Suspicious />}\n          </Row>\n          <Row overflow=\"hidden\" whiteSpace=\"nowrap\" gap=\"2\">\n            <Box className={styles.collectionName}>{asset.collectionName}</Box>\n            {asset.collectionIsVerified && <VerifiedIcon className={styles.icon} />}\n          </Row>\n        </Column>\n        {showRemoveButton && (\n          <RemoveButton onClick={handleRemoveClick} emphasis={ButtonEmphasis.medium} size={ButtonSize.medium}>\n            Remove\n          </RemoveButton>\n        )}\n        {(!showRemoveButton || isMobile) && (\n          <Column flexShrink=\"0\" alignItems=\"flex-end\">\n            <Box className={styles.bagRowPrice}>\n              {assetEthPriceFormatted}\n              &nbsp;ETH\n            </Box>\n            <Box className={styles.collectionName}>{assetUSDPriceFormatted}</Box>\n          </Column>\n        )}\n      </Row>\n    </Link>\n  )\n}\n\ninterface PriceChangeBagRowProps {\n  asset: UpdatedGenieAsset\n  usdPrice: number | undefined\n  markAssetAsReviewed: (asset: UpdatedGenieAsset, toKeep: boolean) => void\n  top?: boolean\n  isMobile: boolean\n}\n\nexport const PriceChangeBagRow = ({ asset, usdPrice, markAssetAsReviewed, top, isMobile }: PriceChangeBagRowProps) => {\n  const isPriceIncrease = BigNumber.from(asset.updatedPriceInfo?.ETHPrice).gt(BigNumber.from(asset.priceInfo.ETHPrice))\n  const handleRemove = useCallback(\n    (e: MouseEvent<HTMLButtonElement>) => {\n      e.preventDefault()\n      e.stopPropagation()\n      const toKeep = false\n      markAssetAsReviewed(asset, toKeep)\n    },\n    [asset, markAssetAsReviewed]\n  )\n  const handleKeep = useCallback(\n    (e: MouseEvent<HTMLButtonElement>) => {\n      e.preventDefault()\n      e.stopPropagation()\n      const toKeep = true\n      markAssetAsReviewed(asset, toKeep)\n    },\n    [asset, markAssetAsReviewed]\n  )\n  return (\n    <Column className={styles.priceChangeColumn} borderTopColor={top ? 'backgroundOutline' : 'transparent'}>\n      <Row className={styles.priceChangeRow}>\n        {isPriceIncrease ? <SquareArrowUpIcon /> : <SquareArrowDownIcon />}\n        <Box>{`Price ${isPriceIncrease ? 'increased' : 'decreased'} from ${formatWeiToDecimal(\n          asset.priceInfo.ETHPrice\n        )} ETH`}</Box>\n      </Row>\n      <Box style={{ marginLeft: '-8px', marginRight: '-8px' }}>\n        <BagRow asset={asset} usdPrice={usdPrice} removeAsset={() => undefined} isMobile={isMobile} />\n      </Box>\n      <Row gap=\"8\" justifyContent=\"space-between\">\n        <ReviewButton onClick={handleRemove} emphasis={ButtonEmphasis.medium} size={ButtonSize.small}>\n          Remove\n        </ReviewButton>\n        <ReviewButton onClick={handleKeep} emphasis={ButtonEmphasis.high} size={ButtonSize.small}>\n          Keep\n        </ReviewButton>\n      </Row>\n    </Column>\n  )\n}\n\ninterface UnavailableAssetsHeaderRowProps {\n  assets?: UpdatedGenieAsset[]\n  usdPrice: number | undefined\n  clearUnavailableAssets: () => void\n  didOpenUnavailableAssets: boolean\n  setDidOpenUnavailableAssets: (didOpen: boolean) => void\n  isMobile: boolean\n}\n\ninterface UnavailableAssetsPreviewProps {\n  assets: UpdatedGenieAsset[]\n}\n\nconst ASSET_PREVIEW_WIDTH = 32\nconst ASSET_PREVIEW_OFFSET = 20\n\nconst UnavailableAssetsPreview = ({ assets }: UnavailableAssetsPreviewProps) => (\n  <Column\n    display=\"grid\"\n    style={{\n      gridTemplateColumns: `repeat(${assets.length}, 20px)`,\n      width: `${ASSET_PREVIEW_WIDTH + (assets.length - 1) * ASSET_PREVIEW_OFFSET}px`,\n    }}\n  >\n    {assets.map((asset, index) => (\n      <Box\n        key={`${asset.address}-${asset.tokenId}`}\n        as=\"img\"\n        src={asset.smallImageUrl}\n        width=\"32\"\n        height=\"32\"\n        borderStyle=\"solid\"\n        borderWidth=\"1px\"\n        borderColor=\"backgroundSurface\"\n        borderRadius=\"4\"\n        style={{ zIndex: index }}\n        className={styles.grayscaleImage}\n      />\n    ))}\n  </Column>\n)\n\nexport const UnavailableAssetsHeaderRow = ({\n  assets,\n  usdPrice,\n  clearUnavailableAssets,\n  didOpenUnavailableAssets,\n  setDidOpenUnavailableAssets,\n  isMobile,\n}: UnavailableAssetsHeaderRowProps) => {\n  const [isOpen, toggleOpen] = useReducer((s) => !s, false)\n  const timerLimit = 8\n  const [timeLeft, setTimeLeft] = useState(timerLimit)\n\n  useEffect(() => {\n    if (!timeLeft) {\n      if (!didOpenUnavailableAssets) {\n        clearUnavailableAssets()\n        setDidOpenUnavailableAssets(false)\n      }\n      return\n    }\n\n    const intervalId = setInterval(() => {\n      setTimeLeft(timeLeft - 1)\n    }, 1000)\n\n    return () => clearInterval(intervalId)\n  }, [timeLeft, clearUnavailableAssets, didOpenUnavailableAssets, setDidOpenUnavailableAssets])\n\n  if (!assets || assets.length === 0) return null\n\n  const moreThanOneUnavailable = assets.length > 1\n  const isShowingAssets = isOpen || !moreThanOneUnavailable\n\n  return (\n    <Column className={styles.unavailableAssetsContainer}>\n      <Column>\n        <Row\n          justifyContent=\"space-between\"\n          marginBottom={isShowingAssets ? '12' : '0'}\n          cursor={moreThanOneUnavailable ? 'pointer' : 'default'}\n          onClick={() => {\n            if (moreThanOneUnavailable) {\n              !didOpenUnavailableAssets && setDidOpenUnavailableAssets(true)\n              toggleOpen()\n            }\n          }}\n        >\n          <Row gap=\"12\" color=\"textSecondary\" className={bodySmall}>\n            {!isShowingAssets && <UnavailableAssetsPreview assets={assets.slice(0, 5)} />}\n            No longer available\n          </Row>\n          {moreThanOneUnavailable && (\n            <Row color=\"textSecondary\">{isOpen ? <ChevronUpBagIcon /> : <ChevronDownBagIcon />}</Row>\n          )}\n          {!didOpenUnavailableAssets && (\n            <Row\n              position=\"relative\"\n              width=\"20\"\n              height=\"20\"\n              color=\"textPrimary\"\n              justifyContent=\"center\"\n              cursor=\"pointer\"\n              onClick={clearUnavailableAssets}\n            >\n              <TimedLoader />\n              <CloseTimerIcon />\n            </Row>\n          )}\n        </Row>\n        <Column gap=\"8\" style={{ marginLeft: '-8px', marginRight: '-8px' }}>\n          {isShowingAssets &&\n            assets.map((asset) => (\n              <BagRow\n                key={asset.id}\n                asset={asset}\n                usdPrice={usdPrice}\n                removeAsset={() => undefined}\n                grayscale\n                isMobile={isMobile}\n              />\n            ))}\n        </Column>\n      </Column>\n    </Column>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}