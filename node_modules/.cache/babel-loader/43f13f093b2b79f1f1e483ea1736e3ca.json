{"ast":null,"code":"import { useTheme as _useTheme } from \"styled-components\";\nimport _styled from \"styled-components\";\nvar _jsxFileName = \"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/pages/Pool/PositionPage.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { Trans } from \"@lingui/react\";\nimport { BigNumber } from '@ethersproject/bignumber';\nimport { Trace } from '@uniswap/analytics';\nimport { PageName } from '@uniswap/analytics-events';\nimport { CurrencyAmount, Fraction, Percent } from '@uniswap/sdk-core';\nimport { NonfungiblePositionManager, Position } from '@uniswap/v3-sdk';\nimport { useWeb3React } from '@web3-react/core';\nimport { sendEvent } from 'components/analytics';\nimport Badge from 'components/Badge';\nimport { ButtonConfirmed, ButtonGray, ButtonPrimary } from 'components/Button';\nimport { DarkCard, LightCard } from 'components/Card';\nimport { AutoColumn } from 'components/Column';\nimport DoubleCurrencyLogo from 'components/DoubleLogo';\nimport Loader from 'components/Loader';\nimport CurrencyLogo from 'components/Logo/CurrencyLogo';\nimport { RowBetween, RowFixed } from 'components/Row';\nimport { Dots } from 'components/swap/styleds';\nimport Toggle from 'components/Toggle';\nimport TransactionConfirmationModal, { ConfirmationModalContent } from 'components/TransactionConfirmationModal';\nimport { useToken } from 'hooks/Tokens';\nimport { useV3NFTPositionManagerContract } from 'hooks/useContract';\nimport useIsTickAtLimit from 'hooks/useIsTickAtLimit';\nimport { PoolState, usePool } from 'hooks/usePools';\nimport useStablecoinPrice from 'hooks/useStablecoinPrice';\nimport { useV3PositionFees } from 'hooks/useV3PositionFees';\nimport { useV3PositionFromTokenId } from 'hooks/useV3Positions';\nimport { useSingleCallResult } from 'lib/hooks/multicall';\nimport useNativeCurrency from 'lib/hooks/useNativeCurrency';\nimport { useCallback, useMemo, useRef, useState } from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport { Bound } from 'state/mint/v3/actions';\nimport { useIsTransactionPending, useTransactionAdder } from 'state/transactions/hooks';\nimport { ExternalLink, HideExtraSmall, ThemedText } from 'theme';\nimport { currencyId } from 'utils/currencyId';\nimport { formatCurrencyAmount } from 'utils/formatCurrencyAmount';\nimport { formatTickPrice } from 'utils/formatTickPrice';\nimport { unwrappedToken } from 'utils/unwrappedToken';\nimport RangeBadge from '../../components/Badge/RangeBadge';\nimport { getPriceOrderingFromPositionForUI } from '../../components/PositionListItem';\nimport RateToggle from '../../components/RateToggle';\nimport { SwitchLocaleLink } from '../../components/SwitchLocaleLink';\nimport { usePositionTokenURI } from '../../hooks/usePositionTokenURI';\nimport { TransactionType } from '../../state/transactions/types';\nimport { calculateGasMargin } from '../../utils/calculateGasMargin';\nimport { ExplorerDataType, getExplorerLink } from '../../utils/getExplorerLink';\nimport { LoadingRows } from './styleds';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst PageWrapper = _styled.div.withConfig({\n  displayName: \"PositionPage__PageWrapper\",\n  componentId: \"sc-z20cv-0\"\n})([\"padding:68px 8px 0px;min-width:800px;max-width:960px;@media only screen and (max-width:\", \"){padding:48px 8px 0px;}@media only screen and (max-width:\", \"){padding-top:20px;}\", \";\", \";@media only screen and (max-width:620px){min-width:500px;max-width:500px;}\", \";\"], _ref => {\n  let {\n    theme\n  } = _ref;\n  return `${theme.breakpoint.md}px`;\n}, _ref2 => {\n  let {\n    theme\n  } = _ref2;\n  return `${theme.breakpoint.sm}px`;\n}, _ref3 => {\n  let {\n    theme\n  } = _ref3;\n  return theme.deprecated_mediaWidth.deprecated_upToMedium`\n    min-width: 680px;\n    max-width: 680px;\n  `;\n}, _ref4 => {\n  let {\n    theme\n  } = _ref4;\n  return theme.deprecated_mediaWidth.deprecated_upToSmall`\n    min-width: 600px;\n    max-width: 600px;\n  `;\n}, _ref5 => {\n  let {\n    theme\n  } = _ref5;\n  return theme.deprecated_mediaWidth.deprecated_upToExtraSmall`\n    min-width: 340px;\n    max-width: 340px;\n  `;\n});\nconst BadgeText = _styled.div.withConfig({\n  displayName: \"PositionPage__BadgeText\",\n  componentId: \"sc-z20cv-1\"\n})([\"font-weight:500;font-size:14px;\"]);\n\n// responsive text\n// disable the warning because we don't use the end prop, we just want to filter it out\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst Label = _styled(_ref6 => {\n  let {\n    end,\n    ...props\n  } = _ref6;\n  return /*#__PURE__*/_jsxDEV(ThemedText.DeprecatedLabel, {\n    ...props\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 45\n  }, this);\n}).withConfig({\n  displayName: \"PositionPage__Label\",\n  componentId: \"sc-z20cv-2\"\n})([\"display:flex;font-size:16px;justify-content:\", \";align-items:center;\"], _ref7 => {\n  let {\n    end\n  } = _ref7;\n  return end ? 'flex-end' : 'flex-start';\n});\nconst ExtentsText = _styled.span.withConfig({\n  displayName: \"PositionPage__ExtentsText\",\n  componentId: \"sc-z20cv-3\"\n})([\"color:\", \";font-size:14px;text-align:center;margin-right:4px;font-weight:500;\"], _ref8 => {\n  let {\n    theme\n  } = _ref8;\n  return theme.textSecondary;\n});\nconst HoverText = _styled(ThemedText.DeprecatedMain).withConfig({\n  displayName: \"PositionPage__HoverText\",\n  componentId: \"sc-z20cv-4\"\n})([\"text-decoration:none;color:\", \";:hover{color:\", \";text-decoration:none;}\"], _ref9 => {\n  let {\n    theme\n  } = _ref9;\n  return theme.textTertiary;\n}, _ref10 => {\n  let {\n    theme\n  } = _ref10;\n  return theme.textPrimary;\n});\nconst DoubleArrow = _styled.span.withConfig({\n  displayName: \"PositionPage__DoubleArrow\",\n  componentId: \"sc-z20cv-5\"\n})([\"color:\", \";margin:0 1rem;\"], _ref11 => {\n  let {\n    theme\n  } = _ref11;\n  return theme.textTertiary;\n});\nconst ResponsiveRow = _styled(RowBetween).withConfig({\n  displayName: \"PositionPage__ResponsiveRow\",\n  componentId: \"sc-z20cv-6\"\n})([\"\", \";\"], _ref12 => {\n  let {\n    theme\n  } = _ref12;\n  return theme.deprecated_mediaWidth.deprecated_upToSmall`\n    flex-direction: column;\n    align-items: flex-start;\n    row-gap: 16px;\n    width: 100%:\n  `;\n});\nconst ResponsiveButtonPrimary = _styled(ButtonPrimary).withConfig({\n  displayName: \"PositionPage__ResponsiveButtonPrimary\",\n  componentId: \"sc-z20cv-7\"\n})([\"border-radius:12px;padding:6px 8px;width:fit-content;font-size:16px;\", \";\"], _ref13 => {\n  let {\n    theme\n  } = _ref13;\n  return theme.deprecated_mediaWidth.deprecated_upToSmall`\n    flex: 1 1 auto;\n    width: 49%;\n  `;\n});\nconst NFTGrid = _styled.div.withConfig({\n  displayName: \"PositionPage__NFTGrid\",\n  componentId: \"sc-z20cv-8\"\n})([\"display:grid;grid-template:'overlap';min-height:400px;\"]);\nconst NFTCanvas = _styled.canvas.withConfig({\n  displayName: \"PositionPage__NFTCanvas\",\n  componentId: \"sc-z20cv-9\"\n})([\"grid-area:overlap;\"]);\nconst NFTImage = _styled.img.withConfig({\n  displayName: \"PositionPage__NFTImage\",\n  componentId: \"sc-z20cv-10\"\n})([\"grid-area:overlap;height:400px;z-index:1;\"]);\nfunction CurrentPriceCard(_ref14) {\n  let {\n    inverted,\n    pool,\n    currencyQuote,\n    currencyBase\n  } = _ref14;\n  if (!pool || !currencyQuote || !currencyBase) {\n    return null;\n  }\n  return /*#__PURE__*/_jsxDEV(LightCard, {\n    padding: \"12px \",\n    children: /*#__PURE__*/_jsxDEV(AutoColumn, {\n      gap: \"sm\",\n      justify: \"center\",\n      children: [/*#__PURE__*/_jsxDEV(ExtentsText, {\n        children: /*#__PURE__*/_jsxDEV(Trans, {\n          id: \"Current price\"\n        }, void 0, false, void 0, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ThemedText.DeprecatedMediumHeader, {\n        textAlign: \"center\",\n        children: [(inverted ? pool.token1Price : pool.token0Price).toSignificant(6), ' ']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ExtentsText, {\n        children: /*#__PURE__*/_jsxDEV(Trans, {\n          id: \"{0} per {1}\",\n          values: {\n            0: currencyQuote === null || currencyQuote === void 0 ? void 0 : currencyQuote.symbol,\n            1: currencyBase === null || currencyBase === void 0 ? void 0 : currencyBase.symbol\n          }\n        }, void 0, false, void 0, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 175,\n    columnNumber: 5\n  }, this);\n}\n_c = CurrentPriceCard;\nfunction LinkedCurrency(_ref15) {\n  let {\n    chainId,\n    currency\n  } = _ref15;\n  const address = currency === null || currency === void 0 ? void 0 : currency.address;\n  if (typeof chainId === 'number' && address) {\n    return /*#__PURE__*/_jsxDEV(ExternalLink, {\n      href: getExplorerLink(chainId, address, ExplorerDataType.TOKEN),\n      children: /*#__PURE__*/_jsxDEV(RowFixed, {\n        children: [/*#__PURE__*/_jsxDEV(CurrencyLogo, {\n          currency: currency,\n          size: \"20px\",\n          style: {\n            marginRight: '0.5rem'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ThemedText.DeprecatedMain, {\n          children: [currency === null || currency === void 0 ? void 0 : currency.symbol, \" \\u2197\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(RowFixed, {\n    children: [/*#__PURE__*/_jsxDEV(CurrencyLogo, {\n      currency: currency,\n      size: \"20px\",\n      style: {\n        marginRight: '0.5rem'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ThemedText.DeprecatedMain, {\n      children: currency === null || currency === void 0 ? void 0 : currency.symbol\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 208,\n    columnNumber: 5\n  }, this);\n}\n_c2 = LinkedCurrency;\nfunction getRatio(lower, current, upper) {\n  try {\n    if (!current.greaterThan(lower)) {\n      return 100;\n    } else if (!current.lessThan(upper)) {\n      return 0;\n    }\n    const a = Number.parseFloat(lower.toSignificant(15));\n    const b = Number.parseFloat(upper.toSignificant(15));\n    const c = Number.parseFloat(current.toSignificant(15));\n    const ratio = Math.floor(1 / ((Math.sqrt(a * b) - Math.sqrt(b * c)) / (c - Math.sqrt(b * c)) + 1) * 100);\n    if (ratio < 0 || ratio > 100) {\n      throw Error('Out of range');\n    }\n    return ratio;\n  } catch {\n    return undefined;\n  }\n}\n\n// snapshots a src img into a canvas\nfunction getSnapshot(src, canvas, targetHeight) {\n  const context = canvas.getContext('2d');\n  if (context) {\n    let {\n      width,\n      height\n    } = src;\n\n    // src may be hidden and not have the target dimensions\n    const ratio = width / height;\n    height = targetHeight;\n    width = Math.round(ratio * targetHeight);\n\n    // Ensure crispness at high DPIs\n    canvas.width = width * devicePixelRatio;\n    canvas.height = height * devicePixelRatio;\n    canvas.style.width = width + 'px';\n    canvas.style.height = height + 'px';\n    context.scale(devicePixelRatio, devicePixelRatio);\n    context.clearRect(0, 0, width, height);\n    context.drawImage(src, 0, 0, width, height);\n  }\n}\nfunction NFT(_ref16) {\n  _s();\n  let {\n    image,\n    height: targetHeight\n  } = _ref16;\n  const [animate, setAnimate] = useState(false);\n  const canvasRef = useRef(null);\n  const imageRef = useRef(null);\n  return /*#__PURE__*/_jsxDEV(NFTGrid, {\n    onMouseEnter: () => {\n      setAnimate(true);\n    },\n    onMouseLeave: () => {\n      // snapshot the current frame so the transition to the canvas is smooth\n      if (imageRef.current && canvasRef.current) {\n        getSnapshot(imageRef.current, canvasRef.current, targetHeight);\n      }\n      setAnimate(false);\n    },\n    children: [/*#__PURE__*/_jsxDEV(NFTCanvas, {\n      ref: canvasRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(NFTImage, {\n      ref: imageRef,\n      src: image,\n      hidden: !animate,\n      onLoad: () => {\n        // snapshot for the canvas\n        if (imageRef.current && canvasRef.current) {\n          getSnapshot(imageRef.current, canvasRef.current, targetHeight);\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 274,\n    columnNumber: 5\n  }, this);\n}\n_s(NFT, \"B2m7Xxa3p/HHwZ1SS7ZKbW/4k+k=\");\n_c3 = NFT;\nconst useInverter = _ref17 => {\n  let {\n    priceLower,\n    priceUpper,\n    quote,\n    base,\n    invert\n  } = _ref17;\n  return {\n    priceUpper: invert ? priceLower === null || priceLower === void 0 ? void 0 : priceLower.invert() : priceUpper,\n    priceLower: invert ? priceUpper === null || priceUpper === void 0 ? void 0 : priceUpper.invert() : priceLower,\n    quote: invert ? base : quote,\n    base: invert ? quote : base\n  };\n};\nexport function PositionPage() {\n  _s2();\n  var _useSingleCallResult$, _feeValueUpper$curren2, _feeValueLower$curren2;\n  const {\n    tokenId: tokenIdFromUrl\n  } = useParams();\n  const {\n    chainId,\n    account,\n    provider\n  } = useWeb3React();\n  const theme = _useTheme();\n  const parsedTokenId = tokenIdFromUrl ? BigNumber.from(tokenIdFromUrl) : undefined;\n  const {\n    loading,\n    position: positionDetails\n  } = useV3PositionFromTokenId(parsedTokenId);\n  const {\n    token0: token0Address,\n    token1: token1Address,\n    fee: feeAmount,\n    liquidity,\n    tickLower,\n    tickUpper,\n    tokenId\n  } = positionDetails || {};\n  const removed = liquidity === null || liquidity === void 0 ? void 0 : liquidity.eq(0);\n  const metadata = usePositionTokenURI(parsedTokenId);\n  const token0 = useToken(token0Address);\n  const token1 = useToken(token1Address);\n  const currency0 = token0 ? unwrappedToken(token0) : undefined;\n  const currency1 = token1 ? unwrappedToken(token1) : undefined;\n\n  // flag for receiving WETH\n  const [receiveWETH, setReceiveWETH] = useState(false);\n  const nativeCurrency = useNativeCurrency();\n  const nativeWrappedSymbol = nativeCurrency.wrapped.symbol;\n\n  // construct Position from details returned\n  const [poolState, pool] = usePool(token0 !== null && token0 !== void 0 ? token0 : undefined, token1 !== null && token1 !== void 0 ? token1 : undefined, feeAmount);\n  const position = useMemo(() => {\n    if (pool && liquidity && typeof tickLower === 'number' && typeof tickUpper === 'number') {\n      return new Position({\n        pool,\n        liquidity: liquidity.toString(),\n        tickLower,\n        tickUpper\n      });\n    }\n    return undefined;\n  }, [liquidity, pool, tickLower, tickUpper]);\n  const tickAtLimit = useIsTickAtLimit(feeAmount, tickLower, tickUpper);\n  const pricesFromPosition = getPriceOrderingFromPositionForUI(position);\n  const [manuallyInverted, setManuallyInverted] = useState(false);\n\n  // handle manual inversion\n  const {\n    priceLower,\n    priceUpper,\n    base\n  } = useInverter({\n    priceLower: pricesFromPosition.priceLower,\n    priceUpper: pricesFromPosition.priceUpper,\n    quote: pricesFromPosition.quote,\n    base: pricesFromPosition.base,\n    invert: manuallyInverted\n  });\n  const inverted = token1 ? base === null || base === void 0 ? void 0 : base.equals(token1) : undefined;\n  const currencyQuote = inverted ? currency0 : currency1;\n  const currencyBase = inverted ? currency1 : currency0;\n  const ratio = useMemo(() => {\n    return priceLower && pool && priceUpper ? getRatio(inverted ? priceUpper.invert() : priceLower, pool.token0Price, inverted ? priceLower.invert() : priceUpper) : undefined;\n  }, [inverted, pool, priceLower, priceUpper]);\n\n  // fees\n  const [feeValue0, feeValue1] = useV3PositionFees(pool !== null && pool !== void 0 ? pool : undefined, positionDetails === null || positionDetails === void 0 ? void 0 : positionDetails.tokenId, receiveWETH);\n\n  // these currencies will match the feeValue{0,1} currencies for the purposes of fee collection\n  const currency0ForFeeCollectionPurposes = pool ? receiveWETH ? pool.token0 : unwrappedToken(pool.token0) : undefined;\n  const currency1ForFeeCollectionPurposes = pool ? receiveWETH ? pool.token1 : unwrappedToken(pool.token1) : undefined;\n  const [collecting, setCollecting] = useState(false);\n  const [collectMigrationHash, setCollectMigrationHash] = useState(null);\n  const isCollectPending = useIsTransactionPending(collectMigrationHash !== null && collectMigrationHash !== void 0 ? collectMigrationHash : undefined);\n  const [showConfirm, setShowConfirm] = useState(false);\n\n  // usdc prices always in terms of tokens\n  const price0 = useStablecoinPrice(token0 !== null && token0 !== void 0 ? token0 : undefined);\n  const price1 = useStablecoinPrice(token1 !== null && token1 !== void 0 ? token1 : undefined);\n  const fiatValueOfFees = useMemo(() => {\n    if (!price0 || !price1 || !feeValue0 || !feeValue1) return null;\n\n    // we wrap because it doesn't matter, the quote returns a USDC amount\n    const feeValue0Wrapped = feeValue0 === null || feeValue0 === void 0 ? void 0 : feeValue0.wrapped;\n    const feeValue1Wrapped = feeValue1 === null || feeValue1 === void 0 ? void 0 : feeValue1.wrapped;\n    if (!feeValue0Wrapped || !feeValue1Wrapped) return null;\n    const amount0 = price0.quote(feeValue0Wrapped);\n    const amount1 = price1.quote(feeValue1Wrapped);\n    return amount0.add(amount1);\n  }, [price0, price1, feeValue0, feeValue1]);\n  const fiatValueOfLiquidity = useMemo(() => {\n    if (!price0 || !price1 || !position) return null;\n    const amount0 = price0.quote(position.amount0);\n    const amount1 = price1.quote(position.amount1);\n    return amount0.add(amount1);\n  }, [price0, price1, position]);\n  const addTransaction = useTransactionAdder();\n  const positionManager = useV3NFTPositionManagerContract();\n  const collect = useCallback(() => {\n    if (!currency0ForFeeCollectionPurposes || !currency1ForFeeCollectionPurposes || !chainId || !positionManager || !account || !tokenId || !provider) return;\n    setCollecting(true);\n\n    // we fall back to expecting 0 fees in case the fetch fails, which is safe in the\n    // vast majority of cases\n    const {\n      calldata,\n      value\n    } = NonfungiblePositionManager.collectCallParameters({\n      tokenId: tokenId.toString(),\n      expectedCurrencyOwed0: feeValue0 !== null && feeValue0 !== void 0 ? feeValue0 : CurrencyAmount.fromRawAmount(currency0ForFeeCollectionPurposes, 0),\n      expectedCurrencyOwed1: feeValue1 !== null && feeValue1 !== void 0 ? feeValue1 : CurrencyAmount.fromRawAmount(currency1ForFeeCollectionPurposes, 0),\n      recipient: account\n    });\n    const txn = {\n      to: positionManager.address,\n      data: calldata,\n      value\n    };\n    provider.getSigner().estimateGas(txn).then(estimate => {\n      const newTxn = {\n        ...txn,\n        gasLimit: calculateGasMargin(estimate)\n      };\n      return provider.getSigner().sendTransaction(newTxn).then(response => {\n        setCollectMigrationHash(response.hash);\n        setCollecting(false);\n        sendEvent({\n          category: 'Liquidity',\n          action: 'CollectV3',\n          label: [currency0ForFeeCollectionPurposes.symbol, currency1ForFeeCollectionPurposes.symbol].join('/')\n        });\n        addTransaction(response, {\n          type: TransactionType.COLLECT_FEES,\n          currencyId0: currencyId(currency0ForFeeCollectionPurposes),\n          currencyId1: currencyId(currency1ForFeeCollectionPurposes),\n          expectedCurrencyOwed0: CurrencyAmount.fromRawAmount(currency0ForFeeCollectionPurposes, 0).toExact(),\n          expectedCurrencyOwed1: CurrencyAmount.fromRawAmount(currency1ForFeeCollectionPurposes, 0).toExact()\n        });\n      });\n    }).catch(error => {\n      setCollecting(false);\n      console.error(error);\n    });\n  }, [chainId, feeValue0, feeValue1, currency0ForFeeCollectionPurposes, currency1ForFeeCollectionPurposes, positionManager, account, tokenId, addTransaction, provider]);\n  const owner = (_useSingleCallResult$ = useSingleCallResult(tokenId ? positionManager : null, 'ownerOf', [tokenId]).result) === null || _useSingleCallResult$ === void 0 ? void 0 : _useSingleCallResult$[0];\n  const ownsNFT = owner === account || (positionDetails === null || positionDetails === void 0 ? void 0 : positionDetails.operator) === account;\n  const feeValueUpper = inverted ? feeValue0 : feeValue1;\n  const feeValueLower = inverted ? feeValue1 : feeValue0;\n\n  // check if price is within range\n  const below = pool && typeof tickLower === 'number' ? pool.tickCurrent < tickLower : undefined;\n  const above = pool && typeof tickUpper === 'number' ? pool.tickCurrent >= tickUpper : undefined;\n  const inRange = typeof below === 'boolean' && typeof above === 'boolean' ? !below && !above : false;\n  function modalHeader() {\n    var _feeValueUpper$curren, _feeValueLower$curren;\n    return /*#__PURE__*/_jsxDEV(AutoColumn, {\n      gap: \"md\",\n      style: {\n        marginTop: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(LightCard, {\n        padding: \"12px 16px\",\n        children: /*#__PURE__*/_jsxDEV(AutoColumn, {\n          gap: \"md\",\n          children: [/*#__PURE__*/_jsxDEV(RowBetween, {\n            children: [/*#__PURE__*/_jsxDEV(RowFixed, {\n              children: [/*#__PURE__*/_jsxDEV(CurrencyLogo, {\n                currency: feeValueUpper === null || feeValueUpper === void 0 ? void 0 : feeValueUpper.currency,\n                size: \"20px\",\n                style: {\n                  marginRight: '0.5rem'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 532,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(ThemedText.DeprecatedMain, {\n                children: feeValueUpper ? formatCurrencyAmount(feeValueUpper, 4) : '-'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 533,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 531,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ThemedText.DeprecatedMain, {\n              children: feeValueUpper === null || feeValueUpper === void 0 ? void 0 : (_feeValueUpper$curren = feeValueUpper.currency) === null || _feeValueUpper$curren === void 0 ? void 0 : _feeValueUpper$curren.symbol\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 537,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 530,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(RowBetween, {\n            children: [/*#__PURE__*/_jsxDEV(RowFixed, {\n              children: [/*#__PURE__*/_jsxDEV(CurrencyLogo, {\n                currency: feeValueLower === null || feeValueLower === void 0 ? void 0 : feeValueLower.currency,\n                size: \"20px\",\n                style: {\n                  marginRight: '0.5rem'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 541,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(ThemedText.DeprecatedMain, {\n                children: feeValueLower ? formatCurrencyAmount(feeValueLower, 4) : '-'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 542,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 540,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ThemedText.DeprecatedMain, {\n              children: feeValueLower === null || feeValueLower === void 0 ? void 0 : (_feeValueLower$curren = feeValueLower.currency) === null || _feeValueLower$curren === void 0 ? void 0 : _feeValueLower$curren.symbol\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 546,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 539,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 529,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 528,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ThemedText.DeprecatedItalic, {\n        children: /*#__PURE__*/_jsxDEV(Trans, {\n          id: \"Collecting fees will withdraw currently available fees for you.\"\n        }, void 0, false, void 0, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 550,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ButtonPrimary, {\n        onClick: collect,\n        children: /*#__PURE__*/_jsxDEV(Trans, {\n          id: \"Collect\"\n        }, void 0, false, void 0, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 553,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 527,\n      columnNumber: 7\n    }, this);\n  }\n  const showCollectAsWeth = Boolean(ownsNFT && ((feeValue0 === null || feeValue0 === void 0 ? void 0 : feeValue0.greaterThan(0)) || (feeValue1 === null || feeValue1 === void 0 ? void 0 : feeValue1.greaterThan(0))) && currency0 && currency1 && (currency0.isNative || currency1.isNative) && !collectMigrationHash);\n  return loading || poolState === PoolState.LOADING || !feeAmount ? /*#__PURE__*/_jsxDEV(LoadingRows, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 571,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 572,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 573,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 574,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 575,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 576,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 577,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 578,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 579,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 580,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 581,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 582,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 570,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(Trace, {\n    page: PageName.POOL_PAGE,\n    shouldLogImpression: true,\n    children: /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(PageWrapper, {\n        children: [/*#__PURE__*/_jsxDEV(TransactionConfirmationModal, {\n          isOpen: showConfirm,\n          onDismiss: () => setShowConfirm(false),\n          attemptingTxn: collecting,\n          hash: collectMigrationHash !== null && collectMigrationHash !== void 0 ? collectMigrationHash : '',\n          content: () => /*#__PURE__*/_jsxDEV(ConfirmationModalContent, {\n            title: /*#__PURE__*/_jsxDEV(Trans, {\n              id: \"Claim fees\"\n            }, void 0, false, void 0, this),\n            onDismiss: () => setShowConfirm(false),\n            topContent: modalHeader\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 594,\n            columnNumber: 15\n          }, this),\n          pendingText: /*#__PURE__*/_jsxDEV(Trans, {\n            id: \"Collecting fees\"\n          }, void 0, false, void 0, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 588,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(AutoColumn, {\n          gap: \"md\",\n          children: [/*#__PURE__*/_jsxDEV(AutoColumn, {\n            gap: \"sm\",\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              \"data-cy\": \"visit-pool\",\n              style: {\n                textDecoration: 'none',\n                width: 'fit-content',\n                marginBottom: '0.5rem'\n              },\n              to: \"/pool\",\n              children: /*#__PURE__*/_jsxDEV(HoverText, {\n                children: /*#__PURE__*/_jsxDEV(Trans, {\n                  id: \"\\u2190 Back to Pools\"\n                }, void 0, false, void 0, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 609,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 604,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ResponsiveRow, {\n              children: [/*#__PURE__*/_jsxDEV(RowFixed, {\n                children: [/*#__PURE__*/_jsxDEV(DoubleCurrencyLogo, {\n                  currency0: currencyBase,\n                  currency1: currencyQuote,\n                  size: 24,\n                  margin: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 615,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(ThemedText.DeprecatedLabel, {\n                  fontSize: \"24px\",\n                  mr: \"10px\",\n                  children: [\"\\xA0\", currencyQuote === null || currencyQuote === void 0 ? void 0 : currencyQuote.symbol, \"\\xA0/\\xA0\", currencyBase === null || currencyBase === void 0 ? void 0 : currencyBase.symbol]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 616,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                  style: {\n                    marginRight: '8px'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(BadgeText, {\n                    children: /*#__PURE__*/_jsxDEV(Trans, {\n                      id: \"{0}%\",\n                      values: {\n                        0: new Percent(feeAmount, 1000000).toSignificant()\n                      }\n                    }, void 0, false, void 0, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 620,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 619,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(RangeBadge, {\n                  removed: removed,\n                  inRange: inRange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 624,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 614,\n                columnNumber: 17\n              }, this), ownsNFT && /*#__PURE__*/_jsxDEV(RowFixed, {\n                children: [currency0 && currency1 && feeAmount && tokenId ? /*#__PURE__*/_jsxDEV(ButtonGray, {\n                  as: Link,\n                  to: `/increase/${currencyId(currency0)}/${currencyId(currency1)}/${feeAmount}/${tokenId}`,\n                  width: \"fit-content\",\n                  padding: \"6px 8px\",\n                  $borderRadius: \"12px\",\n                  style: {\n                    marginRight: '8px'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(Trans, {\n                    id: \"Increase Liquidity\"\n                  }, void 0, false, void 0, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 629,\n                  columnNumber: 23\n                }, this) : null, tokenId && !removed ? /*#__PURE__*/_jsxDEV(ResponsiveButtonPrimary, {\n                  as: Link,\n                  to: `/remove/${tokenId}`,\n                  width: \"fit-content\",\n                  padding: \"6px 8px\",\n                  $borderRadius: \"12px\",\n                  children: /*#__PURE__*/_jsxDEV(Trans, {\n                    id: \"Remove Liquidity\"\n                  }, void 0, false, void 0, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 641,\n                  columnNumber: 23\n                }, this) : null]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 627,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 613,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(RowBetween, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 654,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 603,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ResponsiveRow, {\n            align: \"flex-start\",\n            children: ['result' in metadata ? /*#__PURE__*/_jsxDEV(DarkCard, {\n              width: \"100%\",\n              height: \"100%\",\n              style: {\n                display: 'flex',\n                alignItems: 'center',\n                flexDirection: 'column',\n                justifyContent: 'space-around',\n                marginRight: '12px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginRight: 12\n                },\n                children: /*#__PURE__*/_jsxDEV(NFT, {\n                  image: metadata.result.image,\n                  height: 400\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 670,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 669,\n                columnNumber: 19\n              }, this), typeof chainId === 'number' && owner && !ownsNFT ? /*#__PURE__*/_jsxDEV(ExternalLink, {\n                href: getExplorerLink(chainId, owner, ExplorerDataType.ADDRESS),\n                children: /*#__PURE__*/_jsxDEV(Trans, {\n                  id: \"Owner\"\n                }, void 0, false, void 0, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 673,\n                columnNumber: 21\n              }, this) : null]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 658,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(DarkCard, {\n              width: \"100%\",\n              height: \"100%\",\n              style: {\n                marginRight: '12px',\n                minWidth: '340px'\n              },\n              children: /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 687,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 679,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(AutoColumn, {\n              gap: \"sm\",\n              style: {\n                width: '100%',\n                height: '100%'\n              },\n              children: [/*#__PURE__*/_jsxDEV(DarkCard, {\n                children: /*#__PURE__*/_jsxDEV(AutoColumn, {\n                  gap: \"md\",\n                  style: {\n                    width: '100%'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(AutoColumn, {\n                    gap: \"md\",\n                    children: [/*#__PURE__*/_jsxDEV(Label, {\n                      children: /*#__PURE__*/_jsxDEV(Trans, {\n                        id: \"Liquidity\"\n                      }, void 0, false, void 0, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 694,\n                      columnNumber: 23\n                    }, this), (fiatValueOfLiquidity === null || fiatValueOfLiquidity === void 0 ? void 0 : fiatValueOfLiquidity.greaterThan(new Fraction(1, 100))) ? /*#__PURE__*/_jsxDEV(ThemedText.DeprecatedLargeHeader, {\n                      fontSize: \"36px\",\n                      fontWeight: 500,\n                      children: /*#__PURE__*/_jsxDEV(Trans, {\n                        id: \"${0}\",\n                        values: {\n                          0: fiatValueOfLiquidity.toFixed(2, {\n                            groupSeparator: ','\n                          })\n                        }\n                      }, void 0, false, void 0, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 698,\n                      columnNumber: 25\n                    }, this) : /*#__PURE__*/_jsxDEV(ThemedText.DeprecatedLargeHeader, {\n                      color: theme.textPrimary,\n                      fontSize: \"36px\",\n                      fontWeight: 500,\n                      children: /*#__PURE__*/_jsxDEV(Trans, {\n                        id: \"$-\"\n                      }, void 0, false, void 0, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 702,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 693,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(LightCard, {\n                    padding: \"12px 16px\",\n                    children: /*#__PURE__*/_jsxDEV(AutoColumn, {\n                      gap: \"md\",\n                      children: [/*#__PURE__*/_jsxDEV(RowBetween, {\n                        children: [/*#__PURE__*/_jsxDEV(LinkedCurrency, {\n                          chainId: chainId,\n                          currency: currencyQuote\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 710,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(RowFixed, {\n                          children: [/*#__PURE__*/_jsxDEV(ThemedText.DeprecatedMain, {\n                            children: inverted ? position === null || position === void 0 ? void 0 : position.amount0.toSignificant(4) : position === null || position === void 0 ? void 0 : position.amount1.toSignificant(4)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 712,\n                            columnNumber: 29\n                          }, this), typeof ratio === 'number' && !removed ? /*#__PURE__*/_jsxDEV(Badge, {\n                            style: {\n                              marginLeft: '10px'\n                            },\n                            children: /*#__PURE__*/_jsxDEV(ThemedText.DeprecatedMain, {\n                              fontSize: 11,\n                              children: /*#__PURE__*/_jsxDEV(Trans, {\n                                id: \"{0}%\",\n                                values: {\n                                  0: inverted ? ratio : 100 - ratio\n                                }\n                              }, void 0, false, void 0, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 717,\n                              columnNumber: 33\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 716,\n                            columnNumber: 31\n                          }, this) : null]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 711,\n                          columnNumber: 27\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 709,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(RowBetween, {\n                        children: [/*#__PURE__*/_jsxDEV(LinkedCurrency, {\n                          chainId: chainId,\n                          currency: currencyBase\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 725,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(RowFixed, {\n                          children: [/*#__PURE__*/_jsxDEV(ThemedText.DeprecatedMain, {\n                            children: inverted ? position === null || position === void 0 ? void 0 : position.amount1.toSignificant(4) : position === null || position === void 0 ? void 0 : position.amount0.toSignificant(4)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 727,\n                            columnNumber: 29\n                          }, this), typeof ratio === 'number' && !removed ? /*#__PURE__*/_jsxDEV(Badge, {\n                            style: {\n                              marginLeft: '10px'\n                            },\n                            children: /*#__PURE__*/_jsxDEV(ThemedText.DeprecatedMain, {\n                              color: theme.textSecondary,\n                              fontSize: 11,\n                              children: /*#__PURE__*/_jsxDEV(Trans, {\n                                id: \"{0}%\",\n                                values: {\n                                  0: inverted ? 100 - ratio : ratio\n                                }\n                              }, void 0, false, void 0, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 732,\n                              columnNumber: 33\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 731,\n                            columnNumber: 31\n                          }, this) : null]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 726,\n                          columnNumber: 27\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 724,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 708,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 707,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 692,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 691,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(DarkCard, {\n                children: /*#__PURE__*/_jsxDEV(AutoColumn, {\n                  gap: \"md\",\n                  style: {\n                    width: '100%'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(AutoColumn, {\n                    gap: \"md\",\n                    children: /*#__PURE__*/_jsxDEV(RowBetween, {\n                      style: {\n                        alignItems: 'flex-start'\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(AutoColumn, {\n                        gap: \"md\",\n                        children: [/*#__PURE__*/_jsxDEV(Label, {\n                          children: /*#__PURE__*/_jsxDEV(Trans, {\n                            id: \"Unclaimed fees\"\n                          }, void 0, false, void 0, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 748,\n                          columnNumber: 27\n                        }, this), (fiatValueOfFees === null || fiatValueOfFees === void 0 ? void 0 : fiatValueOfFees.greaterThan(new Fraction(1, 100))) ? /*#__PURE__*/_jsxDEV(ThemedText.DeprecatedLargeHeader, {\n                          color: theme.accentSuccess,\n                          fontSize: \"36px\",\n                          fontWeight: 500,\n                          children: /*#__PURE__*/_jsxDEV(Trans, {\n                            id: \"${0}\",\n                            values: {\n                              0: fiatValueOfFees.toFixed(2, {\n                                groupSeparator: ','\n                              })\n                            }\n                          }, void 0, false, void 0, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 752,\n                          columnNumber: 29\n                        }, this) : /*#__PURE__*/_jsxDEV(ThemedText.DeprecatedLargeHeader, {\n                          color: theme.textPrimary,\n                          fontSize: \"36px\",\n                          fontWeight: 500,\n                          children: /*#__PURE__*/_jsxDEV(Trans, {\n                            id: \"$-\"\n                          }, void 0, false, void 0, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 760,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 747,\n                        columnNumber: 25\n                      }, this), ownsNFT && ((feeValue0 === null || feeValue0 === void 0 ? void 0 : feeValue0.greaterThan(0)) || (feeValue1 === null || feeValue1 === void 0 ? void 0 : feeValue1.greaterThan(0)) || !!collectMigrationHash) ? /*#__PURE__*/_jsxDEV(ButtonConfirmed, {\n                        disabled: collecting || !!collectMigrationHash,\n                        confirmed: !!collectMigrationHash && !isCollectPending,\n                        width: \"fit-content\",\n                        style: {\n                          borderRadius: '12px'\n                        },\n                        padding: \"4px 8px\",\n                        onClick: () => setShowConfirm(true),\n                        children: !!collectMigrationHash && !isCollectPending ? /*#__PURE__*/_jsxDEV(ThemedText.DeprecatedMain, {\n                          color: theme.textPrimary,\n                          children: /*#__PURE__*/_jsxDEV(Trans, {\n                            id: \"Collected\"\n                          }, void 0, false, void 0, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 780,\n                          columnNumber: 31\n                        }, this) : isCollectPending || collecting ? /*#__PURE__*/_jsxDEV(ThemedText.DeprecatedMain, {\n                          color: theme.textPrimary,\n                          children: [' ', /*#__PURE__*/_jsxDEV(Dots, {\n                            children: /*#__PURE__*/_jsxDEV(Trans, {\n                              id: \"Collecting\"\n                            }, void 0, false, void 0, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 786,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 784,\n                          columnNumber: 31\n                        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                          children: /*#__PURE__*/_jsxDEV(ThemedText.DeprecatedMain, {\n                            color: theme.white,\n                            children: /*#__PURE__*/_jsxDEV(Trans, {\n                              id: \"Collect fees\"\n                            }, void 0, false, void 0, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 792,\n                            columnNumber: 33\n                          }, this)\n                        }, void 0, false)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 771,\n                        columnNumber: 27\n                      }, this) : null]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 746,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 745,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(LightCard, {\n                    padding: \"12px 16px\",\n                    children: /*#__PURE__*/_jsxDEV(AutoColumn, {\n                      gap: \"md\",\n                      children: [/*#__PURE__*/_jsxDEV(RowBetween, {\n                        children: [/*#__PURE__*/_jsxDEV(RowFixed, {\n                          children: [/*#__PURE__*/_jsxDEV(CurrencyLogo, {\n                            currency: feeValueUpper === null || feeValueUpper === void 0 ? void 0 : feeValueUpper.currency,\n                            size: \"20px\",\n                            style: {\n                              marginRight: '0.5rem'\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 805,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(ThemedText.DeprecatedMain, {\n                            children: feeValueUpper === null || feeValueUpper === void 0 ? void 0 : (_feeValueUpper$curren2 = feeValueUpper.currency) === null || _feeValueUpper$curren2 === void 0 ? void 0 : _feeValueUpper$curren2.symbol\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 810,\n                            columnNumber: 29\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 804,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(RowFixed, {\n                          children: /*#__PURE__*/_jsxDEV(ThemedText.DeprecatedMain, {\n                            children: feeValueUpper ? formatCurrencyAmount(feeValueUpper, 4) : '-'\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 813,\n                            columnNumber: 29\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 812,\n                          columnNumber: 27\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 803,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(RowBetween, {\n                        children: [/*#__PURE__*/_jsxDEV(RowFixed, {\n                          children: [/*#__PURE__*/_jsxDEV(CurrencyLogo, {\n                            currency: feeValueLower === null || feeValueLower === void 0 ? void 0 : feeValueLower.currency,\n                            size: \"20px\",\n                            style: {\n                              marginRight: '0.5rem'\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 820,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(ThemedText.DeprecatedMain, {\n                            children: feeValueLower === null || feeValueLower === void 0 ? void 0 : (_feeValueLower$curren2 = feeValueLower.currency) === null || _feeValueLower$curren2 === void 0 ? void 0 : _feeValueLower$curren2.symbol\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 825,\n                            columnNumber: 29\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 819,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(RowFixed, {\n                          children: /*#__PURE__*/_jsxDEV(ThemedText.DeprecatedMain, {\n                            children: feeValueLower ? formatCurrencyAmount(feeValueLower, 4) : '-'\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 828,\n                            columnNumber: 29\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 827,\n                          columnNumber: 27\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 818,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 802,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 801,\n                    columnNumber: 21\n                  }, this), showCollectAsWeth && /*#__PURE__*/_jsxDEV(AutoColumn, {\n                    gap: \"md\",\n                    children: /*#__PURE__*/_jsxDEV(RowBetween, {\n                      children: [/*#__PURE__*/_jsxDEV(ThemedText.DeprecatedMain, {\n                        children: /*#__PURE__*/_jsxDEV(Trans, {\n                          id: \"Collect as {nativeWrappedSymbol}\",\n                          values: {\n                            nativeWrappedSymbol: nativeWrappedSymbol\n                          }\n                        }, void 0, false, void 0, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 838,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(Toggle, {\n                        id: \"receive-as-weth\",\n                        isActive: receiveWETH,\n                        toggle: () => setReceiveWETH(receiveWETH => !receiveWETH)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 841,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 837,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 836,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 744,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 743,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 690,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 656,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(DarkCard, {\n            children: /*#__PURE__*/_jsxDEV(AutoColumn, {\n              gap: \"md\",\n              children: [/*#__PURE__*/_jsxDEV(RowBetween, {\n                children: [/*#__PURE__*/_jsxDEV(RowFixed, {\n                  children: [/*#__PURE__*/_jsxDEV(Label, {\n                    display: \"flex\",\n                    style: {\n                      marginRight: '12px'\n                    },\n                    children: /*#__PURE__*/_jsxDEV(Trans, {\n                      id: \"Price range\"\n                    }, void 0, false, void 0, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 857,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(HideExtraSmall, {\n                    children: /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(RangeBadge, {\n                        removed: removed,\n                        inRange: inRange\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 862,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        style: {\n                          width: '8px'\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 863,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 860,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 856,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(RowFixed, {\n                  children: currencyBase && currencyQuote && /*#__PURE__*/_jsxDEV(RateToggle, {\n                    currencyA: currencyBase,\n                    currencyB: currencyQuote,\n                    handleRateToggle: () => setManuallyInverted(!manuallyInverted)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 869,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 867,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 855,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(RowBetween, {\n                children: [/*#__PURE__*/_jsxDEV(LightCard, {\n                  padding: \"12px\",\n                  width: \"100%\",\n                  children: /*#__PURE__*/_jsxDEV(AutoColumn, {\n                    gap: \"sm\",\n                    justify: \"center\",\n                    children: [/*#__PURE__*/_jsxDEV(ExtentsText, {\n                      children: /*#__PURE__*/_jsxDEV(Trans, {\n                        id: \"Min price\"\n                      }, void 0, false, void 0, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 881,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(ThemedText.DeprecatedMediumHeader, {\n                      textAlign: \"center\",\n                      children: formatTickPrice(priceLower, tickAtLimit, Bound.LOWER)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 884,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(ExtentsText, {\n                      children: [' ', /*#__PURE__*/_jsxDEV(Trans, {\n                        id: \"{0} per {1}\",\n                        values: {\n                          0: currencyQuote === null || currencyQuote === void 0 ? void 0 : currencyQuote.symbol,\n                          1: currencyBase === null || currencyBase === void 0 ? void 0 : currencyBase.symbol\n                        }\n                      }, void 0, false, void 0, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 887,\n                      columnNumber: 23\n                    }, this), inRange && /*#__PURE__*/_jsxDEV(ThemedText.DeprecatedSmall, {\n                      color: theme.textTertiary,\n                      children: /*#__PURE__*/_jsxDEV(Trans, {\n                        id: \"Your position will be 100% {0} at this price.\",\n                        values: {\n                          0: currencyBase === null || currencyBase === void 0 ? void 0 : currencyBase.symbol\n                        }\n                      }, void 0, false, void 0, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 895,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 880,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 879,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(DoubleArrow, {\n                  children: \"\\u27F7\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 902,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(LightCard, {\n                  padding: \"12px\",\n                  width: \"100%\",\n                  children: /*#__PURE__*/_jsxDEV(AutoColumn, {\n                    gap: \"sm\",\n                    justify: \"center\",\n                    children: [/*#__PURE__*/_jsxDEV(ExtentsText, {\n                      children: /*#__PURE__*/_jsxDEV(Trans, {\n                        id: \"Max price\"\n                      }, void 0, false, void 0, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 905,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(ThemedText.DeprecatedMediumHeader, {\n                      textAlign: \"center\",\n                      children: formatTickPrice(priceUpper, tickAtLimit, Bound.UPPER)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 908,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(ExtentsText, {\n                      children: [' ', /*#__PURE__*/_jsxDEV(Trans, {\n                        id: \"{0} per {1}\",\n                        values: {\n                          0: currencyQuote === null || currencyQuote === void 0 ? void 0 : currencyQuote.symbol,\n                          1: currencyBase === null || currencyBase === void 0 ? void 0 : currencyBase.symbol\n                        }\n                      }, void 0, false, void 0, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 911,\n                      columnNumber: 23\n                    }, this), inRange && /*#__PURE__*/_jsxDEV(ThemedText.DeprecatedSmall, {\n                      color: theme.textTertiary,\n                      children: /*#__PURE__*/_jsxDEV(Trans, {\n                        id: \"Your position will be 100% {0} at this price.\",\n                        values: {\n                          0: currencyQuote === null || currencyQuote === void 0 ? void 0 : currencyQuote.symbol\n                        }\n                      }, void 0, false, void 0, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 919,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 904,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 903,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 878,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(CurrentPriceCard, {\n                inverted: inverted,\n                pool: pool,\n                currencyQuote: currencyQuote,\n                currencyBase: currencyBase\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 926,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 854,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 853,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 602,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 587,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SwitchLocaleLink, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 936,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 585,\n    columnNumber: 5\n  }, this);\n}\n_s2(PositionPage, \"THnVu0CrCxCQOe49guF4xmvpFHQ=\", false, function () {\n  return [useParams, useWeb3React, _useTheme, useV3PositionFromTokenId, usePositionTokenURI, useToken, useToken, useNativeCurrency, usePool, useIsTickAtLimit, useInverter, useV3PositionFees, useIsTransactionPending, useStablecoinPrice, useStablecoinPrice, useTransactionAdder, useV3NFTPositionManagerContract, useSingleCallResult];\n});\n_c4 = PositionPage;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"CurrentPriceCard\");\n$RefreshReg$(_c2, \"LinkedCurrency\");\n$RefreshReg$(_c3, \"NFT\");\n$RefreshReg$(_c4, \"PositionPage\");","map":{"version":3,"names":["BigNumber","Trace","PageName","CurrencyAmount","Fraction","Percent","NonfungiblePositionManager","Position","useWeb3React","sendEvent","Badge","ButtonConfirmed","ButtonGray","ButtonPrimary","DarkCard","LightCard","AutoColumn","DoubleCurrencyLogo","Loader","CurrencyLogo","RowBetween","RowFixed","Dots","Toggle","TransactionConfirmationModal","ConfirmationModalContent","useToken","useV3NFTPositionManagerContract","useIsTickAtLimit","PoolState","usePool","useStablecoinPrice","useV3PositionFees","useV3PositionFromTokenId","useSingleCallResult","useNativeCurrency","useCallback","useMemo","useRef","useState","Link","useParams","Bound","useIsTransactionPending","useTransactionAdder","ExternalLink","HideExtraSmall","ThemedText","currencyId","formatCurrencyAmount","formatTickPrice","unwrappedToken","RangeBadge","getPriceOrderingFromPositionForUI","RateToggle","SwitchLocaleLink","usePositionTokenURI","TransactionType","calculateGasMargin","ExplorerDataType","getExplorerLink","LoadingRows","PageWrapper","styled","div","theme","breakpoint","md","sm","deprecated_mediaWidth","deprecated_upToMedium","deprecated_upToSmall","deprecated_upToExtraSmall","BadgeText","Label","end","props","ExtentsText","span","textSecondary","HoverText","DeprecatedMain","textTertiary","textPrimary","DoubleArrow","ResponsiveRow","ResponsiveButtonPrimary","NFTGrid","NFTCanvas","canvas","NFTImage","img","CurrentPriceCard","inverted","pool","currencyQuote","currencyBase","token1Price","token0Price","toSignificant","symbol","LinkedCurrency","chainId","currency","address","TOKEN","marginRight","getRatio","lower","current","upper","greaterThan","lessThan","a","Number","parseFloat","b","c","ratio","Math","floor","sqrt","Error","undefined","getSnapshot","src","targetHeight","context","getContext","width","height","round","devicePixelRatio","style","scale","clearRect","drawImage","NFT","image","animate","setAnimate","canvasRef","imageRef","useInverter","priceLower","priceUpper","quote","base","invert","PositionPage","tokenId","tokenIdFromUrl","account","provider","useTheme","parsedTokenId","from","loading","position","positionDetails","token0","token0Address","token1","token1Address","fee","feeAmount","liquidity","tickLower","tickUpper","removed","eq","metadata","currency0","currency1","receiveWETH","setReceiveWETH","nativeCurrency","nativeWrappedSymbol","wrapped","poolState","toString","tickAtLimit","pricesFromPosition","manuallyInverted","setManuallyInverted","equals","feeValue0","feeValue1","currency0ForFeeCollectionPurposes","currency1ForFeeCollectionPurposes","collecting","setCollecting","collectMigrationHash","setCollectMigrationHash","isCollectPending","showConfirm","setShowConfirm","price0","price1","fiatValueOfFees","feeValue0Wrapped","feeValue1Wrapped","amount0","amount1","add","fiatValueOfLiquidity","addTransaction","positionManager","collect","calldata","value","collectCallParameters","expectedCurrencyOwed0","fromRawAmount","expectedCurrencyOwed1","recipient","txn","to","data","getSigner","estimateGas","then","estimate","newTxn","gasLimit","sendTransaction","response","hash","category","action","label","join","type","COLLECT_FEES","currencyId0","currencyId1","toExact","catch","error","console","owner","result","ownsNFT","operator","feeValueUpper","feeValueLower","below","tickCurrent","above","inRange","modalHeader","marginTop","showCollectAsWeth","Boolean","isNative","LOADING","POOL_PAGE","textDecoration","marginBottom","display","alignItems","flexDirection","justifyContent","ADDRESS","minWidth","toFixed","groupSeparator","marginLeft","accentSuccess","borderRadius","white","LOWER","UPPER"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/pages/Pool/PositionPage.tsx"],"sourcesContent":["import { BigNumber } from '@ethersproject/bignumber'\nimport type { TransactionResponse } from '@ethersproject/providers'\nimport { Trans } from '@lingui/macro'\nimport { Trace } from '@uniswap/analytics'\nimport { PageName } from '@uniswap/analytics-events'\nimport { Currency, CurrencyAmount, Fraction, Percent, Price, Token } from '@uniswap/sdk-core'\nimport { NonfungiblePositionManager, Pool, Position } from '@uniswap/v3-sdk'\nimport { useWeb3React } from '@web3-react/core'\nimport { sendEvent } from 'components/analytics'\nimport Badge from 'components/Badge'\nimport { ButtonConfirmed, ButtonGray, ButtonPrimary } from 'components/Button'\nimport { DarkCard, LightCard } from 'components/Card'\nimport { AutoColumn } from 'components/Column'\nimport DoubleCurrencyLogo from 'components/DoubleLogo'\nimport Loader from 'components/Loader'\nimport CurrencyLogo from 'components/Logo/CurrencyLogo'\nimport { RowBetween, RowFixed } from 'components/Row'\nimport { Dots } from 'components/swap/styleds'\nimport Toggle from 'components/Toggle'\nimport TransactionConfirmationModal, { ConfirmationModalContent } from 'components/TransactionConfirmationModal'\nimport { useToken } from 'hooks/Tokens'\nimport { useV3NFTPositionManagerContract } from 'hooks/useContract'\nimport useIsTickAtLimit from 'hooks/useIsTickAtLimit'\nimport { PoolState, usePool } from 'hooks/usePools'\nimport useStablecoinPrice from 'hooks/useStablecoinPrice'\nimport { useV3PositionFees } from 'hooks/useV3PositionFees'\nimport { useV3PositionFromTokenId } from 'hooks/useV3Positions'\nimport { useSingleCallResult } from 'lib/hooks/multicall'\nimport useNativeCurrency from 'lib/hooks/useNativeCurrency'\nimport { useCallback, useMemo, useRef, useState } from 'react'\nimport { Link, useParams } from 'react-router-dom'\nimport { Bound } from 'state/mint/v3/actions'\nimport { useIsTransactionPending, useTransactionAdder } from 'state/transactions/hooks'\nimport styled, { useTheme } from 'styled-components/macro'\nimport { ExternalLink, HideExtraSmall, ThemedText } from 'theme'\nimport { currencyId } from 'utils/currencyId'\nimport { formatCurrencyAmount } from 'utils/formatCurrencyAmount'\nimport { formatTickPrice } from 'utils/formatTickPrice'\nimport { unwrappedToken } from 'utils/unwrappedToken'\n\nimport RangeBadge from '../../components/Badge/RangeBadge'\nimport { getPriceOrderingFromPositionForUI } from '../../components/PositionListItem'\nimport RateToggle from '../../components/RateToggle'\nimport { SwitchLocaleLink } from '../../components/SwitchLocaleLink'\nimport { usePositionTokenURI } from '../../hooks/usePositionTokenURI'\nimport { TransactionType } from '../../state/transactions/types'\nimport { calculateGasMargin } from '../../utils/calculateGasMargin'\nimport { ExplorerDataType, getExplorerLink } from '../../utils/getExplorerLink'\nimport { LoadingRows } from './styleds'\n\nconst PageWrapper = styled.div`\n  padding: 68px 8px 0px;\n\n  min-width: 800px;\n  max-width: 960px;\n\n  @media only screen and (max-width: ${({ theme }) => `${theme.breakpoint.md}px`}) {\n    padding: 48px 8px 0px;\n  }\n\n  @media only screen and (max-width: ${({ theme }) => `${theme.breakpoint.sm}px`}) {\n    padding-top: 20px;\n  }\n\n  ${({ theme }) => theme.deprecated_mediaWidth.deprecated_upToMedium`\n    min-width: 680px;\n    max-width: 680px;\n  `};\n\n  ${({ theme }) => theme.deprecated_mediaWidth.deprecated_upToSmall`\n    min-width: 600px;\n    max-width: 600px;\n  `};\n\n  @media only screen and (max-width: 620px) {\n    min-width: 500px;\n    max-width: 500px;\n  }\n\n  ${({ theme }) => theme.deprecated_mediaWidth.deprecated_upToExtraSmall`\n    min-width: 340px;\n    max-width: 340px;\n  `};\n`\n\nconst BadgeText = styled.div`\n  font-weight: 500;\n  font-size: 14px;\n`\n\n// responsive text\n// disable the warning because we don't use the end prop, we just want to filter it out\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst Label = styled(({ end, ...props }) => <ThemedText.DeprecatedLabel {...props} />)<{ end?: boolean }>`\n  display: flex;\n  font-size: 16px;\n  justify-content: ${({ end }) => (end ? 'flex-end' : 'flex-start')};\n  align-items: center;\n`\n\nconst ExtentsText = styled.span`\n  color: ${({ theme }) => theme.textSecondary};\n  font-size: 14px;\n  text-align: center;\n  margin-right: 4px;\n  font-weight: 500;\n`\n\nconst HoverText = styled(ThemedText.DeprecatedMain)`\n  text-decoration: none;\n  color: ${({ theme }) => theme.textTertiary};\n  :hover {\n    color: ${({ theme }) => theme.textPrimary};\n    text-decoration: none;\n  }\n`\n\nconst DoubleArrow = styled.span`\n  color: ${({ theme }) => theme.textTertiary};\n  margin: 0 1rem;\n`\nconst ResponsiveRow = styled(RowBetween)`\n  ${({ theme }) => theme.deprecated_mediaWidth.deprecated_upToSmall`\n    flex-direction: column;\n    align-items: flex-start;\n    row-gap: 16px;\n    width: 100%:\n  `};\n`\n\nconst ResponsiveButtonPrimary = styled(ButtonPrimary)`\n  border-radius: 12px;\n  padding: 6px 8px;\n  width: fit-content;\n  font-size: 16px;\n  ${({ theme }) => theme.deprecated_mediaWidth.deprecated_upToSmall`\n    flex: 1 1 auto;\n    width: 49%;\n  `};\n`\n\nconst NFTGrid = styled.div`\n  display: grid;\n  grid-template: 'overlap';\n  min-height: 400px;\n`\n\nconst NFTCanvas = styled.canvas`\n  grid-area: overlap;\n`\n\nconst NFTImage = styled.img`\n  grid-area: overlap;\n  height: 400px;\n  /* Ensures SVG appears on top of canvas. */\n  z-index: 1;\n`\n\nfunction CurrentPriceCard({\n  inverted,\n  pool,\n  currencyQuote,\n  currencyBase,\n}: {\n  inverted?: boolean\n  pool?: Pool | null\n  currencyQuote?: Currency\n  currencyBase?: Currency\n}) {\n  if (!pool || !currencyQuote || !currencyBase) {\n    return null\n  }\n\n  return (\n    <LightCard padding=\"12px \">\n      <AutoColumn gap=\"sm\" justify=\"center\">\n        <ExtentsText>\n          <Trans>Current price</Trans>\n        </ExtentsText>\n        <ThemedText.DeprecatedMediumHeader textAlign=\"center\">\n          {(inverted ? pool.token1Price : pool.token0Price).toSignificant(6)}{' '}\n        </ThemedText.DeprecatedMediumHeader>\n        <ExtentsText>\n          <Trans>\n            {currencyQuote?.symbol} per {currencyBase?.symbol}\n          </Trans>\n        </ExtentsText>\n      </AutoColumn>\n    </LightCard>\n  )\n}\n\nfunction LinkedCurrency({ chainId, currency }: { chainId?: number; currency?: Currency }) {\n  const address = (currency as Token)?.address\n\n  if (typeof chainId === 'number' && address) {\n    return (\n      <ExternalLink href={getExplorerLink(chainId, address, ExplorerDataType.TOKEN)}>\n        <RowFixed>\n          <CurrencyLogo currency={currency} size=\"20px\" style={{ marginRight: '0.5rem' }} />\n          <ThemedText.DeprecatedMain>{currency?.symbol} ↗</ThemedText.DeprecatedMain>\n        </RowFixed>\n      </ExternalLink>\n    )\n  }\n\n  return (\n    <RowFixed>\n      <CurrencyLogo currency={currency} size=\"20px\" style={{ marginRight: '0.5rem' }} />\n      <ThemedText.DeprecatedMain>{currency?.symbol}</ThemedText.DeprecatedMain>\n    </RowFixed>\n  )\n}\n\nfunction getRatio(\n  lower: Price<Currency, Currency>,\n  current: Price<Currency, Currency>,\n  upper: Price<Currency, Currency>\n) {\n  try {\n    if (!current.greaterThan(lower)) {\n      return 100\n    } else if (!current.lessThan(upper)) {\n      return 0\n    }\n\n    const a = Number.parseFloat(lower.toSignificant(15))\n    const b = Number.parseFloat(upper.toSignificant(15))\n    const c = Number.parseFloat(current.toSignificant(15))\n\n    const ratio = Math.floor((1 / ((Math.sqrt(a * b) - Math.sqrt(b * c)) / (c - Math.sqrt(b * c)) + 1)) * 100)\n\n    if (ratio < 0 || ratio > 100) {\n      throw Error('Out of range')\n    }\n\n    return ratio\n  } catch {\n    return undefined\n  }\n}\n\n// snapshots a src img into a canvas\nfunction getSnapshot(src: HTMLImageElement, canvas: HTMLCanvasElement, targetHeight: number) {\n  const context = canvas.getContext('2d')\n\n  if (context) {\n    let { width, height } = src\n\n    // src may be hidden and not have the target dimensions\n    const ratio = width / height\n    height = targetHeight\n    width = Math.round(ratio * targetHeight)\n\n    // Ensure crispness at high DPIs\n    canvas.width = width * devicePixelRatio\n    canvas.height = height * devicePixelRatio\n    canvas.style.width = width + 'px'\n    canvas.style.height = height + 'px'\n    context.scale(devicePixelRatio, devicePixelRatio)\n\n    context.clearRect(0, 0, width, height)\n    context.drawImage(src, 0, 0, width, height)\n  }\n}\n\nfunction NFT({ image, height: targetHeight }: { image: string; height: number }) {\n  const [animate, setAnimate] = useState(false)\n\n  const canvasRef = useRef<HTMLCanvasElement>(null)\n  const imageRef = useRef<HTMLImageElement>(null)\n\n  return (\n    <NFTGrid\n      onMouseEnter={() => {\n        setAnimate(true)\n      }}\n      onMouseLeave={() => {\n        // snapshot the current frame so the transition to the canvas is smooth\n        if (imageRef.current && canvasRef.current) {\n          getSnapshot(imageRef.current, canvasRef.current, targetHeight)\n        }\n        setAnimate(false)\n      }}\n    >\n      <NFTCanvas ref={canvasRef} />\n      <NFTImage\n        ref={imageRef}\n        src={image}\n        hidden={!animate}\n        onLoad={() => {\n          // snapshot for the canvas\n          if (imageRef.current && canvasRef.current) {\n            getSnapshot(imageRef.current, canvasRef.current, targetHeight)\n          }\n        }}\n      />\n    </NFTGrid>\n  )\n}\n\nconst useInverter = ({\n  priceLower,\n  priceUpper,\n  quote,\n  base,\n  invert,\n}: {\n  priceLower?: Price<Token, Token>\n  priceUpper?: Price<Token, Token>\n  quote?: Token\n  base?: Token\n  invert?: boolean\n}): {\n  priceLower?: Price<Token, Token>\n  priceUpper?: Price<Token, Token>\n  quote?: Token\n  base?: Token\n} => {\n  return {\n    priceUpper: invert ? priceLower?.invert() : priceUpper,\n    priceLower: invert ? priceUpper?.invert() : priceLower,\n    quote: invert ? base : quote,\n    base: invert ? quote : base,\n  }\n}\n\nexport function PositionPage() {\n  const { tokenId: tokenIdFromUrl } = useParams<{ tokenId?: string }>()\n  const { chainId, account, provider } = useWeb3React()\n  const theme = useTheme()\n\n  const parsedTokenId = tokenIdFromUrl ? BigNumber.from(tokenIdFromUrl) : undefined\n  const { loading, position: positionDetails } = useV3PositionFromTokenId(parsedTokenId)\n\n  const {\n    token0: token0Address,\n    token1: token1Address,\n    fee: feeAmount,\n    liquidity,\n    tickLower,\n    tickUpper,\n    tokenId,\n  } = positionDetails || {}\n\n  const removed = liquidity?.eq(0)\n\n  const metadata = usePositionTokenURI(parsedTokenId)\n\n  const token0 = useToken(token0Address)\n  const token1 = useToken(token1Address)\n\n  const currency0 = token0 ? unwrappedToken(token0) : undefined\n  const currency1 = token1 ? unwrappedToken(token1) : undefined\n\n  // flag for receiving WETH\n  const [receiveWETH, setReceiveWETH] = useState(false)\n  const nativeCurrency = useNativeCurrency()\n  const nativeWrappedSymbol = nativeCurrency.wrapped.symbol\n\n  // construct Position from details returned\n  const [poolState, pool] = usePool(token0 ?? undefined, token1 ?? undefined, feeAmount)\n  const position = useMemo(() => {\n    if (pool && liquidity && typeof tickLower === 'number' && typeof tickUpper === 'number') {\n      return new Position({ pool, liquidity: liquidity.toString(), tickLower, tickUpper })\n    }\n    return undefined\n  }, [liquidity, pool, tickLower, tickUpper])\n\n  const tickAtLimit = useIsTickAtLimit(feeAmount, tickLower, tickUpper)\n\n  const pricesFromPosition = getPriceOrderingFromPositionForUI(position)\n  const [manuallyInverted, setManuallyInverted] = useState(false)\n\n  // handle manual inversion\n  const { priceLower, priceUpper, base } = useInverter({\n    priceLower: pricesFromPosition.priceLower,\n    priceUpper: pricesFromPosition.priceUpper,\n    quote: pricesFromPosition.quote,\n    base: pricesFromPosition.base,\n    invert: manuallyInverted,\n  })\n\n  const inverted = token1 ? base?.equals(token1) : undefined\n  const currencyQuote = inverted ? currency0 : currency1\n  const currencyBase = inverted ? currency1 : currency0\n\n  const ratio = useMemo(() => {\n    return priceLower && pool && priceUpper\n      ? getRatio(\n          inverted ? priceUpper.invert() : priceLower,\n          pool.token0Price,\n          inverted ? priceLower.invert() : priceUpper\n        )\n      : undefined\n  }, [inverted, pool, priceLower, priceUpper])\n\n  // fees\n  const [feeValue0, feeValue1] = useV3PositionFees(pool ?? undefined, positionDetails?.tokenId, receiveWETH)\n\n  // these currencies will match the feeValue{0,1} currencies for the purposes of fee collection\n  const currency0ForFeeCollectionPurposes = pool ? (receiveWETH ? pool.token0 : unwrappedToken(pool.token0)) : undefined\n  const currency1ForFeeCollectionPurposes = pool ? (receiveWETH ? pool.token1 : unwrappedToken(pool.token1)) : undefined\n\n  const [collecting, setCollecting] = useState<boolean>(false)\n  const [collectMigrationHash, setCollectMigrationHash] = useState<string | null>(null)\n  const isCollectPending = useIsTransactionPending(collectMigrationHash ?? undefined)\n  const [showConfirm, setShowConfirm] = useState(false)\n\n  // usdc prices always in terms of tokens\n  const price0 = useStablecoinPrice(token0 ?? undefined)\n  const price1 = useStablecoinPrice(token1 ?? undefined)\n\n  const fiatValueOfFees: CurrencyAmount<Currency> | null = useMemo(() => {\n    if (!price0 || !price1 || !feeValue0 || !feeValue1) return null\n\n    // we wrap because it doesn't matter, the quote returns a USDC amount\n    const feeValue0Wrapped = feeValue0?.wrapped\n    const feeValue1Wrapped = feeValue1?.wrapped\n\n    if (!feeValue0Wrapped || !feeValue1Wrapped) return null\n\n    const amount0 = price0.quote(feeValue0Wrapped)\n    const amount1 = price1.quote(feeValue1Wrapped)\n    return amount0.add(amount1)\n  }, [price0, price1, feeValue0, feeValue1])\n\n  const fiatValueOfLiquidity: CurrencyAmount<Token> | null = useMemo(() => {\n    if (!price0 || !price1 || !position) return null\n    const amount0 = price0.quote(position.amount0)\n    const amount1 = price1.quote(position.amount1)\n    return amount0.add(amount1)\n  }, [price0, price1, position])\n\n  const addTransaction = useTransactionAdder()\n  const positionManager = useV3NFTPositionManagerContract()\n  const collect = useCallback(() => {\n    if (\n      !currency0ForFeeCollectionPurposes ||\n      !currency1ForFeeCollectionPurposes ||\n      !chainId ||\n      !positionManager ||\n      !account ||\n      !tokenId ||\n      !provider\n    )\n      return\n\n    setCollecting(true)\n\n    // we fall back to expecting 0 fees in case the fetch fails, which is safe in the\n    // vast majority of cases\n    const { calldata, value } = NonfungiblePositionManager.collectCallParameters({\n      tokenId: tokenId.toString(),\n      expectedCurrencyOwed0: feeValue0 ?? CurrencyAmount.fromRawAmount(currency0ForFeeCollectionPurposes, 0),\n      expectedCurrencyOwed1: feeValue1 ?? CurrencyAmount.fromRawAmount(currency1ForFeeCollectionPurposes, 0),\n      recipient: account,\n    })\n\n    const txn = {\n      to: positionManager.address,\n      data: calldata,\n      value,\n    }\n\n    provider\n      .getSigner()\n      .estimateGas(txn)\n      .then((estimate) => {\n        const newTxn = {\n          ...txn,\n          gasLimit: calculateGasMargin(estimate),\n        }\n\n        return provider\n          .getSigner()\n          .sendTransaction(newTxn)\n          .then((response: TransactionResponse) => {\n            setCollectMigrationHash(response.hash)\n            setCollecting(false)\n\n            sendEvent({\n              category: 'Liquidity',\n              action: 'CollectV3',\n              label: [currency0ForFeeCollectionPurposes.symbol, currency1ForFeeCollectionPurposes.symbol].join('/'),\n            })\n\n            addTransaction(response, {\n              type: TransactionType.COLLECT_FEES,\n              currencyId0: currencyId(currency0ForFeeCollectionPurposes),\n              currencyId1: currencyId(currency1ForFeeCollectionPurposes),\n              expectedCurrencyOwed0: CurrencyAmount.fromRawAmount(currency0ForFeeCollectionPurposes, 0).toExact(),\n              expectedCurrencyOwed1: CurrencyAmount.fromRawAmount(currency1ForFeeCollectionPurposes, 0).toExact(),\n            })\n          })\n      })\n      .catch((error) => {\n        setCollecting(false)\n        console.error(error)\n      })\n  }, [\n    chainId,\n    feeValue0,\n    feeValue1,\n    currency0ForFeeCollectionPurposes,\n    currency1ForFeeCollectionPurposes,\n    positionManager,\n    account,\n    tokenId,\n    addTransaction,\n    provider,\n  ])\n\n  const owner = useSingleCallResult(tokenId ? positionManager : null, 'ownerOf', [tokenId]).result?.[0]\n  const ownsNFT = owner === account || positionDetails?.operator === account\n\n  const feeValueUpper = inverted ? feeValue0 : feeValue1\n  const feeValueLower = inverted ? feeValue1 : feeValue0\n\n  // check if price is within range\n  const below = pool && typeof tickLower === 'number' ? pool.tickCurrent < tickLower : undefined\n  const above = pool && typeof tickUpper === 'number' ? pool.tickCurrent >= tickUpper : undefined\n  const inRange: boolean = typeof below === 'boolean' && typeof above === 'boolean' ? !below && !above : false\n\n  function modalHeader() {\n    return (\n      <AutoColumn gap=\"md\" style={{ marginTop: '20px' }}>\n        <LightCard padding=\"12px 16px\">\n          <AutoColumn gap=\"md\">\n            <RowBetween>\n              <RowFixed>\n                <CurrencyLogo currency={feeValueUpper?.currency} size=\"20px\" style={{ marginRight: '0.5rem' }} />\n                <ThemedText.DeprecatedMain>\n                  {feeValueUpper ? formatCurrencyAmount(feeValueUpper, 4) : '-'}\n                </ThemedText.DeprecatedMain>\n              </RowFixed>\n              <ThemedText.DeprecatedMain>{feeValueUpper?.currency?.symbol}</ThemedText.DeprecatedMain>\n            </RowBetween>\n            <RowBetween>\n              <RowFixed>\n                <CurrencyLogo currency={feeValueLower?.currency} size=\"20px\" style={{ marginRight: '0.5rem' }} />\n                <ThemedText.DeprecatedMain>\n                  {feeValueLower ? formatCurrencyAmount(feeValueLower, 4) : '-'}\n                </ThemedText.DeprecatedMain>\n              </RowFixed>\n              <ThemedText.DeprecatedMain>{feeValueLower?.currency?.symbol}</ThemedText.DeprecatedMain>\n            </RowBetween>\n          </AutoColumn>\n        </LightCard>\n        <ThemedText.DeprecatedItalic>\n          <Trans>Collecting fees will withdraw currently available fees for you.</Trans>\n        </ThemedText.DeprecatedItalic>\n        <ButtonPrimary onClick={collect}>\n          <Trans>Collect</Trans>\n        </ButtonPrimary>\n      </AutoColumn>\n    )\n  }\n\n  const showCollectAsWeth = Boolean(\n    ownsNFT &&\n      (feeValue0?.greaterThan(0) || feeValue1?.greaterThan(0)) &&\n      currency0 &&\n      currency1 &&\n      (currency0.isNative || currency1.isNative) &&\n      !collectMigrationHash\n  )\n\n  return loading || poolState === PoolState.LOADING || !feeAmount ? (\n    <LoadingRows>\n      <div />\n      <div />\n      <div />\n      <div />\n      <div />\n      <div />\n      <div />\n      <div />\n      <div />\n      <div />\n      <div />\n      <div />\n    </LoadingRows>\n  ) : (\n    <Trace page={PageName.POOL_PAGE} shouldLogImpression>\n      <>\n        <PageWrapper>\n          <TransactionConfirmationModal\n            isOpen={showConfirm}\n            onDismiss={() => setShowConfirm(false)}\n            attemptingTxn={collecting}\n            hash={collectMigrationHash ?? ''}\n            content={() => (\n              <ConfirmationModalContent\n                title={<Trans>Claim fees</Trans>}\n                onDismiss={() => setShowConfirm(false)}\n                topContent={modalHeader}\n              />\n            )}\n            pendingText={<Trans>Collecting fees</Trans>}\n          />\n          <AutoColumn gap=\"md\">\n            <AutoColumn gap=\"sm\">\n              <Link\n                data-cy=\"visit-pool\"\n                style={{ textDecoration: 'none', width: 'fit-content', marginBottom: '0.5rem' }}\n                to=\"/pool\"\n              >\n                <HoverText>\n                  <Trans>← Back to Pools</Trans>\n                </HoverText>\n              </Link>\n              <ResponsiveRow>\n                <RowFixed>\n                  <DoubleCurrencyLogo currency0={currencyBase} currency1={currencyQuote} size={24} margin={true} />\n                  <ThemedText.DeprecatedLabel fontSize=\"24px\" mr=\"10px\">\n                    &nbsp;{currencyQuote?.symbol}&nbsp;/&nbsp;{currencyBase?.symbol}\n                  </ThemedText.DeprecatedLabel>\n                  <Badge style={{ marginRight: '8px' }}>\n                    <BadgeText>\n                      <Trans>{new Percent(feeAmount, 1_000_000).toSignificant()}%</Trans>\n                    </BadgeText>\n                  </Badge>\n                  <RangeBadge removed={removed} inRange={inRange} />\n                </RowFixed>\n                {ownsNFT && (\n                  <RowFixed>\n                    {currency0 && currency1 && feeAmount && tokenId ? (\n                      <ButtonGray\n                        as={Link}\n                        to={`/increase/${currencyId(currency0)}/${currencyId(currency1)}/${feeAmount}/${tokenId}`}\n                        width=\"fit-content\"\n                        padding=\"6px 8px\"\n                        $borderRadius=\"12px\"\n                        style={{ marginRight: '8px' }}\n                      >\n                        <Trans>Increase Liquidity</Trans>\n                      </ButtonGray>\n                    ) : null}\n                    {tokenId && !removed ? (\n                      <ResponsiveButtonPrimary\n                        as={Link}\n                        to={`/remove/${tokenId}`}\n                        width=\"fit-content\"\n                        padding=\"6px 8px\"\n                        $borderRadius=\"12px\"\n                      >\n                        <Trans>Remove Liquidity</Trans>\n                      </ResponsiveButtonPrimary>\n                    ) : null}\n                  </RowFixed>\n                )}\n              </ResponsiveRow>\n              <RowBetween></RowBetween>\n            </AutoColumn>\n            <ResponsiveRow align=\"flex-start\">\n              {'result' in metadata ? (\n                <DarkCard\n                  width=\"100%\"\n                  height=\"100%\"\n                  style={{\n                    display: 'flex',\n                    alignItems: 'center',\n                    flexDirection: 'column',\n                    justifyContent: 'space-around',\n                    marginRight: '12px',\n                  }}\n                >\n                  <div style={{ marginRight: 12 }}>\n                    <NFT image={metadata.result.image} height={400} />\n                  </div>\n                  {typeof chainId === 'number' && owner && !ownsNFT ? (\n                    <ExternalLink href={getExplorerLink(chainId, owner, ExplorerDataType.ADDRESS)}>\n                      <Trans>Owner</Trans>\n                    </ExternalLink>\n                  ) : null}\n                </DarkCard>\n              ) : (\n                <DarkCard\n                  width=\"100%\"\n                  height=\"100%\"\n                  style={{\n                    marginRight: '12px',\n                    minWidth: '340px',\n                  }}\n                >\n                  <Loader />\n                </DarkCard>\n              )}\n              <AutoColumn gap=\"sm\" style={{ width: '100%', height: '100%' }}>\n                <DarkCard>\n                  <AutoColumn gap=\"md\" style={{ width: '100%' }}>\n                    <AutoColumn gap=\"md\">\n                      <Label>\n                        <Trans>Liquidity</Trans>\n                      </Label>\n                      {fiatValueOfLiquidity?.greaterThan(new Fraction(1, 100)) ? (\n                        <ThemedText.DeprecatedLargeHeader fontSize=\"36px\" fontWeight={500}>\n                          <Trans>${fiatValueOfLiquidity.toFixed(2, { groupSeparator: ',' })}</Trans>\n                        </ThemedText.DeprecatedLargeHeader>\n                      ) : (\n                        <ThemedText.DeprecatedLargeHeader color={theme.textPrimary} fontSize=\"36px\" fontWeight={500}>\n                          <Trans>$-</Trans>\n                        </ThemedText.DeprecatedLargeHeader>\n                      )}\n                    </AutoColumn>\n                    <LightCard padding=\"12px 16px\">\n                      <AutoColumn gap=\"md\">\n                        <RowBetween>\n                          <LinkedCurrency chainId={chainId} currency={currencyQuote} />\n                          <RowFixed>\n                            <ThemedText.DeprecatedMain>\n                              {inverted ? position?.amount0.toSignificant(4) : position?.amount1.toSignificant(4)}\n                            </ThemedText.DeprecatedMain>\n                            {typeof ratio === 'number' && !removed ? (\n                              <Badge style={{ marginLeft: '10px' }}>\n                                <ThemedText.DeprecatedMain fontSize={11}>\n                                  <Trans>{inverted ? ratio : 100 - ratio}%</Trans>\n                                </ThemedText.DeprecatedMain>\n                              </Badge>\n                            ) : null}\n                          </RowFixed>\n                        </RowBetween>\n                        <RowBetween>\n                          <LinkedCurrency chainId={chainId} currency={currencyBase} />\n                          <RowFixed>\n                            <ThemedText.DeprecatedMain>\n                              {inverted ? position?.amount1.toSignificant(4) : position?.amount0.toSignificant(4)}\n                            </ThemedText.DeprecatedMain>\n                            {typeof ratio === 'number' && !removed ? (\n                              <Badge style={{ marginLeft: '10px' }}>\n                                <ThemedText.DeprecatedMain color={theme.textSecondary} fontSize={11}>\n                                  <Trans>{inverted ? 100 - ratio : ratio}%</Trans>\n                                </ThemedText.DeprecatedMain>\n                              </Badge>\n                            ) : null}\n                          </RowFixed>\n                        </RowBetween>\n                      </AutoColumn>\n                    </LightCard>\n                  </AutoColumn>\n                </DarkCard>\n                <DarkCard>\n                  <AutoColumn gap=\"md\" style={{ width: '100%' }}>\n                    <AutoColumn gap=\"md\">\n                      <RowBetween style={{ alignItems: 'flex-start' }}>\n                        <AutoColumn gap=\"md\">\n                          <Label>\n                            <Trans>Unclaimed fees</Trans>\n                          </Label>\n                          {fiatValueOfFees?.greaterThan(new Fraction(1, 100)) ? (\n                            <ThemedText.DeprecatedLargeHeader\n                              color={theme.accentSuccess}\n                              fontSize=\"36px\"\n                              fontWeight={500}\n                            >\n                              <Trans>${fiatValueOfFees.toFixed(2, { groupSeparator: ',' })}</Trans>\n                            </ThemedText.DeprecatedLargeHeader>\n                          ) : (\n                            <ThemedText.DeprecatedLargeHeader\n                              color={theme.textPrimary}\n                              fontSize=\"36px\"\n                              fontWeight={500}\n                            >\n                              <Trans>$-</Trans>\n                            </ThemedText.DeprecatedLargeHeader>\n                          )}\n                        </AutoColumn>\n                        {ownsNFT &&\n                        (feeValue0?.greaterThan(0) || feeValue1?.greaterThan(0) || !!collectMigrationHash) ? (\n                          <ButtonConfirmed\n                            disabled={collecting || !!collectMigrationHash}\n                            confirmed={!!collectMigrationHash && !isCollectPending}\n                            width=\"fit-content\"\n                            style={{ borderRadius: '12px' }}\n                            padding=\"4px 8px\"\n                            onClick={() => setShowConfirm(true)}\n                          >\n                            {!!collectMigrationHash && !isCollectPending ? (\n                              <ThemedText.DeprecatedMain color={theme.textPrimary}>\n                                <Trans> Collected</Trans>\n                              </ThemedText.DeprecatedMain>\n                            ) : isCollectPending || collecting ? (\n                              <ThemedText.DeprecatedMain color={theme.textPrimary}>\n                                {' '}\n                                <Dots>\n                                  <Trans>Collecting</Trans>\n                                </Dots>\n                              </ThemedText.DeprecatedMain>\n                            ) : (\n                              <>\n                                <ThemedText.DeprecatedMain color={theme.white}>\n                                  <Trans>Collect fees</Trans>\n                                </ThemedText.DeprecatedMain>\n                              </>\n                            )}\n                          </ButtonConfirmed>\n                        ) : null}\n                      </RowBetween>\n                    </AutoColumn>\n                    <LightCard padding=\"12px 16px\">\n                      <AutoColumn gap=\"md\">\n                        <RowBetween>\n                          <RowFixed>\n                            <CurrencyLogo\n                              currency={feeValueUpper?.currency}\n                              size=\"20px\"\n                              style={{ marginRight: '0.5rem' }}\n                            />\n                            <ThemedText.DeprecatedMain>{feeValueUpper?.currency?.symbol}</ThemedText.DeprecatedMain>\n                          </RowFixed>\n                          <RowFixed>\n                            <ThemedText.DeprecatedMain>\n                              {feeValueUpper ? formatCurrencyAmount(feeValueUpper, 4) : '-'}\n                            </ThemedText.DeprecatedMain>\n                          </RowFixed>\n                        </RowBetween>\n                        <RowBetween>\n                          <RowFixed>\n                            <CurrencyLogo\n                              currency={feeValueLower?.currency}\n                              size=\"20px\"\n                              style={{ marginRight: '0.5rem' }}\n                            />\n                            <ThemedText.DeprecatedMain>{feeValueLower?.currency?.symbol}</ThemedText.DeprecatedMain>\n                          </RowFixed>\n                          <RowFixed>\n                            <ThemedText.DeprecatedMain>\n                              {feeValueLower ? formatCurrencyAmount(feeValueLower, 4) : '-'}\n                            </ThemedText.DeprecatedMain>\n                          </RowFixed>\n                        </RowBetween>\n                      </AutoColumn>\n                    </LightCard>\n                    {showCollectAsWeth && (\n                      <AutoColumn gap=\"md\">\n                        <RowBetween>\n                          <ThemedText.DeprecatedMain>\n                            <Trans>Collect as {nativeWrappedSymbol}</Trans>\n                          </ThemedText.DeprecatedMain>\n                          <Toggle\n                            id=\"receive-as-weth\"\n                            isActive={receiveWETH}\n                            toggle={() => setReceiveWETH((receiveWETH) => !receiveWETH)}\n                          />\n                        </RowBetween>\n                      </AutoColumn>\n                    )}\n                  </AutoColumn>\n                </DarkCard>\n              </AutoColumn>\n            </ResponsiveRow>\n            <DarkCard>\n              <AutoColumn gap=\"md\">\n                <RowBetween>\n                  <RowFixed>\n                    <Label display=\"flex\" style={{ marginRight: '12px' }}>\n                      <Trans>Price range</Trans>\n                    </Label>\n                    <HideExtraSmall>\n                      <>\n                        <RangeBadge removed={removed} inRange={inRange} />\n                        <span style={{ width: '8px' }} />\n                      </>\n                    </HideExtraSmall>\n                  </RowFixed>\n                  <RowFixed>\n                    {currencyBase && currencyQuote && (\n                      <RateToggle\n                        currencyA={currencyBase}\n                        currencyB={currencyQuote}\n                        handleRateToggle={() => setManuallyInverted(!manuallyInverted)}\n                      />\n                    )}\n                  </RowFixed>\n                </RowBetween>\n\n                <RowBetween>\n                  <LightCard padding=\"12px\" width=\"100%\">\n                    <AutoColumn gap=\"sm\" justify=\"center\">\n                      <ExtentsText>\n                        <Trans>Min price</Trans>\n                      </ExtentsText>\n                      <ThemedText.DeprecatedMediumHeader textAlign=\"center\">\n                        {formatTickPrice(priceLower, tickAtLimit, Bound.LOWER)}\n                      </ThemedText.DeprecatedMediumHeader>\n                      <ExtentsText>\n                        {' '}\n                        <Trans>\n                          {currencyQuote?.symbol} per {currencyBase?.symbol}\n                        </Trans>\n                      </ExtentsText>\n\n                      {inRange && (\n                        <ThemedText.DeprecatedSmall color={theme.textTertiary}>\n                          <Trans>Your position will be 100% {currencyBase?.symbol} at this price.</Trans>\n                        </ThemedText.DeprecatedSmall>\n                      )}\n                    </AutoColumn>\n                  </LightCard>\n\n                  <DoubleArrow>⟷</DoubleArrow>\n                  <LightCard padding=\"12px\" width=\"100%\">\n                    <AutoColumn gap=\"sm\" justify=\"center\">\n                      <ExtentsText>\n                        <Trans>Max price</Trans>\n                      </ExtentsText>\n                      <ThemedText.DeprecatedMediumHeader textAlign=\"center\">\n                        {formatTickPrice(priceUpper, tickAtLimit, Bound.UPPER)}\n                      </ThemedText.DeprecatedMediumHeader>\n                      <ExtentsText>\n                        {' '}\n                        <Trans>\n                          {currencyQuote?.symbol} per {currencyBase?.symbol}\n                        </Trans>\n                      </ExtentsText>\n\n                      {inRange && (\n                        <ThemedText.DeprecatedSmall color={theme.textTertiary}>\n                          <Trans>Your position will be 100% {currencyQuote?.symbol} at this price.</Trans>\n                        </ThemedText.DeprecatedSmall>\n                      )}\n                    </AutoColumn>\n                  </LightCard>\n                </RowBetween>\n                <CurrentPriceCard\n                  inverted={inverted}\n                  pool={pool}\n                  currencyQuote={currencyQuote}\n                  currencyBase={currencyBase}\n                />\n              </AutoColumn>\n            </DarkCard>\n          </AutoColumn>\n        </PageWrapper>\n        <SwitchLocaleLink />\n      </>\n    </Trace>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}