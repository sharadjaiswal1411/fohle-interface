{"ast":null,"code":"import _objectSpread from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _objectWithoutProperties from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import _styled from\"styled-components\";var _excluded=[\"data\",\"color\",\"setValue\",\"setLabel\",\"value\",\"label\",\"activeWindow\",\"topLeft\",\"topRight\",\"bottomLeft\",\"bottomRight\",\"minHeight\"];import React from'react';import{BarChart,ResponsiveContainer,XAxis,Tooltip,Bar}from'recharts';import Card from'components/Card';import{RowBetween}from'components/Row';import dayjs from'dayjs';import utc from'dayjs/plugin/utc';import useTheme from'hooks/useTheme';import{VolumeWindow}from'types';import{LoadingRows}from'components/Loader';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";dayjs.extend(utc);var DEFAULT_HEIGHT=300;var Wrapper=_styled(Card).withConfig({componentId:\"sc-2dlds1-0\"})([\"width:100%;height:\",\"px;padding:1rem;padding-right:2rem;display:flex;background-color:\",\";flex-direction:column;> *{font-size:1rem;}\"],DEFAULT_HEIGHT,function(_ref){var theme=_ref.theme;return theme.backgroundSurface;});var CustomBar=function CustomBar(_ref2){var x=_ref2.x,y=_ref2.y,width=_ref2.width,height=_ref2.height,fill=_ref2.fill;return/*#__PURE__*/_jsx(\"g\",{children:/*#__PURE__*/_jsx(\"rect\",{x:x,y:y,fill:fill,width:width,height:height,rx:\"2\"})});};var Chart=function Chart(_ref3){var data=_ref3.data,_ref3$color=_ref3.color,color=_ref3$color===void 0?'#56B2A4':_ref3$color,setValue=_ref3.setValue,setLabel=_ref3.setLabel,value=_ref3.value,label=_ref3.label,activeWindow=_ref3.activeWindow,topLeft=_ref3.topLeft,topRight=_ref3.topRight,bottomLeft=_ref3.bottomLeft,bottomRight=_ref3.bottomRight,_ref3$minHeight=_ref3.minHeight,minHeight=_ref3$minHeight===void 0?DEFAULT_HEIGHT:_ref3$minHeight,rest=_objectWithoutProperties(_ref3,_excluded);var theme=useTheme();var parsedValue=value;var now=dayjs();return/*#__PURE__*/_jsxs(Wrapper,_objectSpread(_objectSpread({minHeight:minHeight},rest),{},{children:[/*#__PURE__*/_jsxs(RowBetween,{style:{alignItems:'flex-start'},children:[topLeft!==null&&topLeft!==void 0?topLeft:null,topRight!==null&&topRight!==void 0?topRight:null]}),(data===null||data===void 0?void 0:data.length)===0?/*#__PURE__*/_jsxs(LoadingRows,{children:[/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{})]}):/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:\"100%\",children:/*#__PURE__*/_jsxs(BarChart,{width:500,height:300,data:data,margin:{top:5,right:30,left:20,bottom:5},onMouseLeave:function onMouseLeave(){setLabel&&setLabel(undefined);setValue&&setValue(undefined);},children:[/*#__PURE__*/_jsx(XAxis,{dataKey:\"time\",axisLine:false,tickLine:false,tickFormatter:function tickFormatter(time){return dayjs(time).format(activeWindow===VolumeWindow.monthly?'MMM':'DD');},minTickGap:10}),/*#__PURE__*/_jsx(Tooltip,{cursor:{fill:theme.deprecated_bg1},contentStyle:{display:'none'},formatter:function formatter(value,name,props){if(setValue&&parsedValue!==props.payload.value){setValue(props.payload.value);}var formattedTime=dayjs(props.payload.time).format('MMM D');var formattedTimeDaily=dayjs(props.payload.time).format('MMM D YYYY');var formattedTimePlusWeek=dayjs(props.payload.time).add(1,'week');var formattedTimePlusMonth=dayjs(props.payload.time).add(1,'month');if(setLabel&&label!==formattedTime){if(activeWindow===VolumeWindow.weekly){var isCurrent=formattedTimePlusWeek.isAfter(now);setLabel(formattedTime+'-'+(isCurrent?'current':formattedTimePlusWeek.format('MMM D, YYYY')));}else if(activeWindow===VolumeWindow.monthly){var _isCurrent=formattedTimePlusMonth.isAfter(now);setLabel(formattedTime+'-'+(_isCurrent?'current':formattedTimePlusMonth.format('MMM D, YYYY')));}else{setLabel(formattedTimeDaily);}}}}),/*#__PURE__*/_jsx(Bar,{dataKey:\"value\",fill:color,shape:function shape(props){return/*#__PURE__*/_jsx(CustomBar,{height:props.height,width:props.width,x:props.x,y:props.y,fill:color});}})]})}),/*#__PURE__*/_jsxs(RowBetween,{children:[bottomLeft!==null&&bottomLeft!==void 0?bottomLeft:null,bottomRight!==null&&bottomRight!==void 0?bottomRight:null]})]}));};export default Chart;","map":{"version":3,"names":["React","BarChart","ResponsiveContainer","XAxis","Tooltip","Bar","Card","RowBetween","dayjs","utc","useTheme","VolumeWindow","LoadingRows","extend","DEFAULT_HEIGHT","Wrapper","styled","theme","backgroundSurface","CustomBar","x","y","width","height","fill","Chart","data","color","setValue","setLabel","value","label","activeWindow","topLeft","topRight","bottomLeft","bottomRight","minHeight","rest","parsedValue","now","alignItems","length","top","right","left","bottom","undefined","time","format","monthly","deprecated_bg1","display","name","props","payload","formattedTime","formattedTimeDaily","formattedTimePlusWeek","add","formattedTimePlusMonth","weekly","isCurrent","isAfter"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/components/BarChart/alt.tsx"],"sourcesContent":["import React, { Dispatch, SetStateAction, ReactNode } from 'react'\nimport { BarChart, ResponsiveContainer, XAxis, Tooltip, Bar } from 'recharts'\nimport styled from 'styled-components/macro'\nimport Card from 'components/Card'\nimport { RowBetween } from 'components/Row'\nimport dayjs from 'dayjs'\nimport utc from 'dayjs/plugin/utc'\nimport useTheme from 'hooks/useTheme'\nimport { VolumeWindow } from 'types'\nimport { LoadingRows } from 'components/Loader'\ndayjs.extend(utc)\n\nconst DEFAULT_HEIGHT = 300\n\nconst Wrapper = styled(Card)`\n  width: 100%;\n  height: ${DEFAULT_HEIGHT}px;\n  padding: 1rem;\n  padding-right: 2rem;\n  display: flex;\n  background-color: ${({ theme }) => theme.backgroundSurface};\n  flex-direction: column;\n  > * {\n    font-size: 1rem;\n  }\n`\n\nexport type LineChartProps = {\n  data: any[]\n  color?: string | undefined\n  height?: number | undefined\n  minHeight?: number\n  setValue?: Dispatch<SetStateAction<number | undefined>> // used for value on hover\n  setLabel?: Dispatch<SetStateAction<string | undefined>> // used for label of valye\n  value?: number\n  label?: string\n  activeWindow?: VolumeWindow\n  topLeft?: ReactNode | undefined\n  topRight?: ReactNode | undefined\n  bottomLeft?: ReactNode | undefined\n  bottomRight?: ReactNode | undefined\n} & React.HTMLAttributes<HTMLDivElement>\n\nconst CustomBar = ({\n  x,\n  y,\n  width,\n  height,\n  fill,\n}: {\n  x: number\n  y: number\n  width: number\n  height: number\n  fill: string\n}) => {\n  return (\n    <g>\n      <rect x={x} y={y} fill={fill} width={width} height={height} rx=\"2\" />\n    </g>\n  )\n}\n\nconst Chart = ({\n  data,\n  color = '#56B2A4',\n  setValue,\n  setLabel,\n  value,\n  label,\n  activeWindow,\n  topLeft,\n  topRight,\n  bottomLeft,\n  bottomRight,\n  minHeight = DEFAULT_HEIGHT,\n  ...rest\n}: LineChartProps) => {\n  const theme = useTheme()\n  const parsedValue = value\n\n  const now = dayjs()\n\n  return (\n    <Wrapper minHeight={minHeight} {...rest}>\n      <RowBetween style={{ alignItems: 'flex-start' }}>\n        {topLeft ?? null}\n        {topRight ?? null}\n      </RowBetween>\n      {data?.length === 0 ? (\n        <LoadingRows>\n          <div />\n          <div />\n          <div />\n        </LoadingRows>\n      ) : (\n        <ResponsiveContainer width=\"100%\" height=\"100%\">\n          <BarChart\n            width={500}\n            height={300}\n            data={data}\n            margin={{\n              top: 5,\n              right: 30,\n              left: 20,\n              bottom: 5,\n            }}\n            onMouseLeave={() => {\n              setLabel && setLabel(undefined)\n              setValue && setValue(undefined)\n            }}\n          >\n            <XAxis\n              dataKey=\"time\"\n              axisLine={false}\n              tickLine={false}\n              tickFormatter={(time) => dayjs(time).format(activeWindow === VolumeWindow.monthly ? 'MMM' : 'DD')}\n              minTickGap={10}\n            />\n            <Tooltip\n              cursor={{ fill: theme.deprecated_bg1 }}\n              contentStyle={{ display: 'none' }}\n              formatter={(value: number, name: string, props: { payload: { time: string; value: number } }) => {\n                if (setValue && parsedValue !== props.payload.value) {\n                  setValue(props.payload.value)\n                }\n                const formattedTime = dayjs(props.payload.time).format('MMM D')\n                const formattedTimeDaily = dayjs(props.payload.time).format('MMM D YYYY')\n                const formattedTimePlusWeek = dayjs(props.payload.time).add(1, 'week')\n                const formattedTimePlusMonth = dayjs(props.payload.time).add(1, 'month')\n\n                if (setLabel && label !== formattedTime) {\n                  if (activeWindow === VolumeWindow.weekly) {\n                    const isCurrent = formattedTimePlusWeek.isAfter(now)\n                    setLabel(\n                      formattedTime + '-' + (isCurrent ? 'current' : formattedTimePlusWeek.format('MMM D, YYYY'))\n                    )\n                  } else if (activeWindow === VolumeWindow.monthly) {\n                    const isCurrent = formattedTimePlusMonth.isAfter(now)\n                    setLabel(\n                      formattedTime + '-' + (isCurrent ? 'current' : formattedTimePlusMonth.format('MMM D, YYYY'))\n                    )\n                  } else {\n                    setLabel(formattedTimeDaily)\n                  }\n                }\n              }}\n            />\n            <Bar\n              dataKey=\"value\"\n              fill={color}\n              shape={(props) => {\n                return <CustomBar height={props.height} width={props.width} x={props.x} y={props.y} fill={color} />\n              }}\n            />\n          </BarChart>\n        </ResponsiveContainer>\n      )}\n      <RowBetween>\n        {bottomLeft ?? null}\n        {bottomRight ?? null}\n      </RowBetween>\n    </Wrapper>\n  )\n}\n\nexport default Chart"],"mappings":"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"},"metadata":{},"sourceType":"module"}