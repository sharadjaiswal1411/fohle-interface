{"ast":null,"code":"import _slicedToArray from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import useSwapApproval from'lib/hooks/swap/useSwapApproval';import{useApproval}from'lib/hooks/useApproval';import{useCallback}from'react';import{useHasPendingApproval,useTransactionAdder}from'../state/transactions/hooks';import{TransactionType}from'../state/transactions/types';export{ApprovalState}from'lib/hooks/useApproval';function useGetAndTrackApproval(getApproval){var addTransaction=useTransactionAdder();return useCallback(function(){return getApproval().then(function(pending){if(pending){var response=pending.response,tokenAddress=pending.tokenAddress,spender=pending.spenderAddress;addTransaction(response,{type:TransactionType.APPROVAL,tokenAddress:tokenAddress,spender:spender});}});},[addTransaction,getApproval]);}// returns a variable indicating the state of the approval and a function which approves if necessary or early returns\nexport function useApproveCallback(amountToApprove,spender){var _useApproval=useApproval(amountToApprove,spender,useHasPendingApproval),_useApproval2=_slicedToArray(_useApproval,2),approval=_useApproval2[0],getApproval=_useApproval2[1];return[approval,useGetAndTrackApproval(getApproval)];}export function useApproveCallbackFromTrade(trade,allowedSlippage){var _useSwapApproval=useSwapApproval(trade,allowedSlippage,useHasPendingApproval),_useSwapApproval2=_slicedToArray(_useSwapApproval,2),approval=_useSwapApproval2[0],getApproval=_useSwapApproval2[1];return[approval,useGetAndTrackApproval(getApproval)];}","map":{"version":3,"names":["useSwapApproval","useApproval","useCallback","useHasPendingApproval","useTransactionAdder","TransactionType","ApprovalState","useGetAndTrackApproval","getApproval","addTransaction","then","pending","response","tokenAddress","spender","spenderAddress","type","APPROVAL","useApproveCallback","amountToApprove","approval","useApproveCallbackFromTrade","trade","allowedSlippage"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/hooks/useApproveCallback.ts"],"sourcesContent":["import { Trade } from '@uniswap/router-sdk'\nimport { Currency, CurrencyAmount, Percent, TradeType } from '@uniswap/sdk-core'\nimport useSwapApproval from 'lib/hooks/swap/useSwapApproval'\nimport { ApprovalState, useApproval } from 'lib/hooks/useApproval'\nimport { useCallback } from 'react'\n\nimport { useHasPendingApproval, useTransactionAdder } from '../state/transactions/hooks'\nimport { TransactionType } from '../state/transactions/types'\nexport { ApprovalState } from 'lib/hooks/useApproval'\n\nfunction useGetAndTrackApproval(getApproval: ReturnType<typeof useApproval>[1]) {\n  const addTransaction = useTransactionAdder()\n  return useCallback(() => {\n    return getApproval().then((pending) => {\n      if (pending) {\n        const { response, tokenAddress, spenderAddress: spender } = pending\n        addTransaction(response, { type: TransactionType.APPROVAL, tokenAddress, spender })\n      }\n    })\n  }, [addTransaction, getApproval])\n}\n\n// returns a variable indicating the state of the approval and a function which approves if necessary or early returns\nexport function useApproveCallback(\n  amountToApprove?: CurrencyAmount<Currency>,\n  spender?: string\n): [ApprovalState, () => Promise<void>] {\n  const [approval, getApproval] = useApproval(amountToApprove, spender, useHasPendingApproval)\n  return [approval, useGetAndTrackApproval(getApproval)]\n}\n\nexport function useApproveCallbackFromTrade(\n  trade: Trade<Currency, Currency, TradeType> | undefined,\n  allowedSlippage: Percent\n): [ApprovalState, () => Promise<void>] {\n  const [approval, getApproval] = useSwapApproval(trade, allowedSlippage, useHasPendingApproval)\n  return [approval, useGetAndTrackApproval(getApproval)]\n}\n"],"mappings":"4KAEA,MAAOA,gBAAe,KAAM,gCAAgC,CAC5D,OAAwBC,WAAW,KAAQ,uBAAuB,CAClE,OAASC,WAAW,KAAQ,OAAO,CAEnC,OAASC,qBAAqB,CAAEC,mBAAmB,KAAQ,6BAA6B,CACxF,OAASC,eAAe,KAAQ,6BAA6B,CAC7D,OAASC,aAAa,KAAQ,uBAAuB,CAErD,QAASC,uBAAsB,CAACC,WAA8C,CAAE,CAC9E,GAAMC,eAAc,CAAGL,mBAAmB,EAAE,CAC5C,MAAOF,YAAW,CAAC,UAAM,CACvB,MAAOM,YAAW,EAAE,CAACE,IAAI,CAAC,SAACC,OAAO,CAAK,CACrC,GAAIA,OAAO,CAAE,CACX,GAAQC,SAAQ,CAA4CD,OAAO,CAA3DC,QAAQ,CAAEC,YAAY,CAA8BF,OAAO,CAAjDE,YAAY,CAAkBC,OAAO,CAAKH,OAAO,CAAnCI,cAAc,CAC9CN,cAAc,CAACG,QAAQ,CAAE,CAAEI,IAAI,CAAEX,eAAe,CAACY,QAAQ,CAAEJ,YAAY,CAAZA,YAAY,CAAEC,OAAO,CAAPA,OAAQ,CAAC,CAAC,CACrF,CACF,CAAC,CAAC,CACJ,CAAC,CAAE,CAACL,cAAc,CAAED,WAAW,CAAC,CAAC,CACnC,CAEA;AACA,MAAO,SAASU,mBAAkB,CAChCC,eAA0C,CAC1CL,OAAgB,CACsB,CACtC,iBAAgCb,WAAW,CAACkB,eAAe,CAAEL,OAAO,CAAEX,qBAAqB,CAAC,8CAArFiB,QAAQ,kBAAEZ,WAAW,kBAC5B,MAAO,CAACY,QAAQ,CAAEb,sBAAsB,CAACC,WAAW,CAAC,CAAC,CACxD,CAEA,MAAO,SAASa,4BAA2B,CACzCC,KAAuD,CACvDC,eAAwB,CACc,CACtC,qBAAgCvB,eAAe,CAACsB,KAAK,CAAEC,eAAe,CAAEpB,qBAAqB,CAAC,sDAAvFiB,QAAQ,sBAAEZ,WAAW,sBAC5B,MAAO,CAACY,QAAQ,CAAEb,sBAAsB,CAACC,WAAW,CAAC,CAAC,CACxD"},"metadata":{},"sourceType":"module"}