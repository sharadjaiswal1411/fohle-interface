{"ast":null,"code":"var _jsxFileName = \"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/pages/TokenDetails/index.tsx\",\n  _s = $RefreshSig$();\nimport TokenDetails from 'components/Tokens/TokenDetails';\nimport { TokenDetailsPageSkeleton } from 'components/Tokens/TokenDetails/Skeleton';\nimport { NATIVE_CHAIN_ID, nativeOnChain } from 'constants/tokens';\nimport { useTokenPriceQuery, useTokenQuery } from 'graphql/data/__generated__/types-and-hooks';\nimport { CHAIN_NAME_TO_CHAIN_ID, TimePeriod, toHistoryDuration, validateUrlChainParam } from 'graphql/data/util';\nimport { useAtom } from 'jotai';\nimport { atomWithStorage } from 'jotai/utils';\nimport { useMemo } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const pageTimePeriodAtom = atomWithStorage('tokenDetailsTimePeriod', TimePeriod.DAY);\nexport default function TokenDetailsPage() {\n  _s();\n  const {\n    tokenAddress,\n    chainName\n  } = useParams();\n  const chain = validateUrlChainParam(chainName);\n  const pageChainId = CHAIN_NAME_TO_CHAIN_ID[chain];\n  const isNative = tokenAddress === NATIVE_CHAIN_ID;\n  const [timePeriod, setTimePeriod] = useAtom(pageTimePeriodAtom);\n  const [contract, duration] = useMemo(() => [{\n    address: isNative ? nativeOnChain(pageChainId).wrapped.address : tokenAddress !== null && tokenAddress !== void 0 ? tokenAddress : '',\n    chain\n  }, toHistoryDuration(timePeriod)], [chain, isNative, pageChainId, timePeriod, tokenAddress]);\n  const {\n    data: tokenQuery,\n    loading: tokenQueryLoading\n  } = useTokenQuery({\n    variables: {\n      contract\n    }\n  });\n  const {\n    data: tokenPriceQuery\n  } = useTokenPriceQuery({\n    variables: {\n      contract,\n      duration\n    }\n  });\n  if (!tokenQuery || tokenQueryLoading) return /*#__PURE__*/_jsxDEV(TokenDetailsPageSkeleton, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 48\n  }, this);\n  return /*#__PURE__*/_jsxDEV(TokenDetails, {\n    urlAddress: tokenAddress,\n    chain: chain,\n    tokenQuery: tokenQuery,\n    tokenPriceQuery: tokenPriceQuery,\n    onChangeTimePeriod: setTimePeriod\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n}\n_s(TokenDetailsPage, \"tcV/5FzwbjKbD5rfx3+3ZzGiOT4=\", false, function () {\n  return [useParams, useAtom, useTokenQuery, useTokenPriceQuery];\n});\n_c = TokenDetailsPage;\nvar _c;\n$RefreshReg$(_c, \"TokenDetailsPage\");","map":{"version":3,"names":["TokenDetails","TokenDetailsPageSkeleton","NATIVE_CHAIN_ID","nativeOnChain","useTokenPriceQuery","useTokenQuery","CHAIN_NAME_TO_CHAIN_ID","TimePeriod","toHistoryDuration","validateUrlChainParam","useAtom","atomWithStorage","useMemo","useParams","pageTimePeriodAtom","DAY","TokenDetailsPage","tokenAddress","chainName","chain","pageChainId","isNative","timePeriod","setTimePeriod","contract","duration","address","wrapped","data","tokenQuery","loading","tokenQueryLoading","variables","tokenPriceQuery"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/pages/TokenDetails/index.tsx"],"sourcesContent":["import TokenDetails from 'components/Tokens/TokenDetails'\nimport { TokenDetailsPageSkeleton } from 'components/Tokens/TokenDetails/Skeleton'\nimport { NATIVE_CHAIN_ID, nativeOnChain } from 'constants/tokens'\nimport { useTokenPriceQuery, useTokenQuery } from 'graphql/data/__generated__/types-and-hooks'\nimport { CHAIN_NAME_TO_CHAIN_ID, TimePeriod, toHistoryDuration, validateUrlChainParam } from 'graphql/data/util'\nimport { useAtom } from 'jotai'\nimport { atomWithStorage } from 'jotai/utils'\nimport { useMemo } from 'react'\nimport { useParams } from 'react-router-dom'\n\nexport const pageTimePeriodAtom = atomWithStorage<TimePeriod>('tokenDetailsTimePeriod', TimePeriod.DAY)\n\nexport default function TokenDetailsPage() {\n  const { tokenAddress, chainName } = useParams<{ tokenAddress?: string; chainName?: string }>()\n  const chain = validateUrlChainParam(chainName)\n  const pageChainId = CHAIN_NAME_TO_CHAIN_ID[chain]\n  const isNative = tokenAddress === NATIVE_CHAIN_ID\n  const [timePeriod, setTimePeriod] = useAtom(pageTimePeriodAtom)\n  const [contract, duration] = useMemo(\n    () => [\n      { address: isNative ? nativeOnChain(pageChainId).wrapped.address : tokenAddress ?? '', chain },\n      toHistoryDuration(timePeriod),\n    ],\n    [chain, isNative, pageChainId, timePeriod, tokenAddress]\n  )\n\n  const { data: tokenQuery, loading: tokenQueryLoading } = useTokenQuery({\n    variables: {\n      contract,\n    },\n  })\n\n  const { data: tokenPriceQuery } = useTokenPriceQuery({\n    variables: {\n      contract,\n      duration,\n    },\n  })\n\n  if (!tokenQuery || tokenQueryLoading) return <TokenDetailsPageSkeleton />\n\n  return (\n    <TokenDetails\n      urlAddress={tokenAddress}\n      chain={chain}\n      tokenQuery={tokenQuery}\n      tokenPriceQuery={tokenPriceQuery}\n      onChangeTimePeriod={setTimePeriod}\n    />\n  )\n}\n"],"mappings":";;AAAA,OAAOA,YAAY,MAAM,gCAAgC;AACzD,SAASC,wBAAwB,QAAQ,yCAAyC;AAClF,SAASC,eAAe,EAAEC,aAAa,QAAQ,kBAAkB;AACjE,SAASC,kBAAkB,EAAEC,aAAa,QAAQ,4CAA4C;AAC9F,SAASC,sBAAsB,EAAEC,UAAU,EAAEC,iBAAiB,EAAEC,qBAAqB,QAAQ,mBAAmB;AAChH,SAASC,OAAO,QAAQ,OAAO;AAC/B,SAASC,eAAe,QAAQ,aAAa;AAC7C,SAASC,OAAO,QAAQ,OAAO;AAC/B,SAASC,SAAS,QAAQ,kBAAkB;AAAA;AAE5C,OAAO,MAAMC,kBAAkB,GAAGH,eAAe,CAAa,wBAAwB,EAAEJ,UAAU,CAACQ,GAAG,CAAC;AAEvG,eAAe,SAASC,gBAAgB,GAAG;EAAA;EACzC,MAAM;IAAEC,YAAY;IAAEC;EAAU,CAAC,GAAGL,SAAS,EAAiD;EAC9F,MAAMM,KAAK,GAAGV,qBAAqB,CAACS,SAAS,CAAC;EAC9C,MAAME,WAAW,GAAGd,sBAAsB,CAACa,KAAK,CAAC;EACjD,MAAME,QAAQ,GAAGJ,YAAY,KAAKf,eAAe;EACjD,MAAM,CAACoB,UAAU,EAAEC,aAAa,CAAC,GAAGb,OAAO,CAACI,kBAAkB,CAAC;EAC/D,MAAM,CAACU,QAAQ,EAAEC,QAAQ,CAAC,GAAGb,OAAO,CAClC,MAAM,CACJ;IAAEc,OAAO,EAAEL,QAAQ,GAAGlB,aAAa,CAACiB,WAAW,CAAC,CAACO,OAAO,CAACD,OAAO,GAAGT,YAAY,aAAZA,YAAY,cAAZA,YAAY,GAAI,EAAE;IAAEE;EAAM,CAAC,EAC9FX,iBAAiB,CAACc,UAAU,CAAC,CAC9B,EACD,CAACH,KAAK,EAAEE,QAAQ,EAAED,WAAW,EAAEE,UAAU,EAAEL,YAAY,CAAC,CACzD;EAED,MAAM;IAAEW,IAAI,EAAEC,UAAU;IAAEC,OAAO,EAAEC;EAAkB,CAAC,GAAG1B,aAAa,CAAC;IACrE2B,SAAS,EAAE;MACTR;IACF;EACF,CAAC,CAAC;EAEF,MAAM;IAAEI,IAAI,EAAEK;EAAgB,CAAC,GAAG7B,kBAAkB,CAAC;IACnD4B,SAAS,EAAE;MACTR,QAAQ;MACRC;IACF;EACF,CAAC,CAAC;EAEF,IAAI,CAACI,UAAU,IAAIE,iBAAiB,EAAE,oBAAO,QAAC,wBAAwB;IAAA;IAAA;IAAA;EAAA,QAAG;EAEzE,oBACE,QAAC,YAAY;IACX,UAAU,EAAEd,YAAa;IACzB,KAAK,EAAEE,KAAM;IACb,UAAU,EAAEU,UAAW;IACvB,eAAe,EAAEI,eAAgB;IACjC,kBAAkB,EAAEV;EAAc;IAAA;IAAA;IAAA;EAAA,QAClC;AAEN;AAAC,GAtCuBP,gBAAgB;EAAA,QACFH,SAAS,EAITH,OAAO,EAScL,aAAa,EAMpCD,kBAAkB;AAAA;AAAA,KApB9BY,gBAAgB;AAAA;AAAA"},"metadata":{},"sourceType":"module"}