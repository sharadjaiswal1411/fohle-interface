{"ast":null,"code":"import _objectSpread from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{ListingStatus}from'nft/types';import create from'zustand';import{devtools}from'zustand/middleware';export var useNFTList=create()(devtools(function(set,get){return{looksRareNonce:0,listingStatus:ListingStatus.DEFINED,listings:[],collectionsRequiringApproval:[],setLooksRareNonce:function setLooksRareNonce(nonce){return set(function(){return{looksRareNonce:nonce};});},getLooksRareNonce:function getLooksRareNonce(){return get().looksRareNonce;},setListingStatus:function setListingStatus(status){return set(function(){return{listingStatus:status};});},setListings:function setListings(listings){return set(function(){var updatedListings=listings.map(function(listing){var _get$listings$find;var oldStatus=(_get$listings$find=get().listings.find(function(oldListing){return oldListing.asset.asset_contract.address===listing.asset.asset_contract.address&&oldListing.asset.tokenId===listing.asset.tokenId&&oldListing.marketplace.name===listing.marketplace.name&&oldListing.price===listing.price;}))===null||_get$listings$find===void 0?void 0:_get$listings$find.status;var status=function status(){switch(oldStatus){case ListingStatus.APPROVED:return ListingStatus.APPROVED;case ListingStatus.FAILED:return listing.status===ListingStatus.SIGNING?ListingStatus.SIGNING:ListingStatus.FAILED;default:return listing.status;}};return _objectSpread(_objectSpread({},listing),{},{status:status()});});return{listings:updatedListings};});},setCollectionsRequiringApproval:function setCollectionsRequiringApproval(collections){return set(function(){return{collectionsRequiringApproval:collections};});}};}));","map":{"version":3,"names":["ListingStatus","create","devtools","useNFTList","set","get","looksRareNonce","listingStatus","DEFINED","listings","collectionsRequiringApproval","setLooksRareNonce","nonce","getLooksRareNonce","setListingStatus","status","setListings","updatedListings","map","listing","oldStatus","find","oldListing","asset","asset_contract","address","tokenId","marketplace","name","price","APPROVED","FAILED","SIGNING","setCollectionsRequiringApproval","collections"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/nft/hooks/useNFTList.ts"],"sourcesContent":["import { CollectionRow, ListingRow, ListingStatus } from 'nft/types'\nimport create from 'zustand'\nimport { devtools } from 'zustand/middleware'\n\ninterface NFTListState {\n  looksRareNonce: number\n  listingStatus: ListingStatus\n  listings: ListingRow[]\n  collectionsRequiringApproval: CollectionRow[]\n  setLooksRareNonce: (nonce: number) => void\n  getLooksRareNonce: () => number\n  setListingStatus: (status: ListingStatus) => void\n  setListings: (listings: ListingRow[]) => void\n  setCollectionsRequiringApproval: (collections: CollectionRow[]) => void\n}\n\nexport const useNFTList = create<NFTListState>()(\n  devtools((set, get) => ({\n    looksRareNonce: 0,\n    listingStatus: ListingStatus.DEFINED,\n    listings: [],\n    collectionsRequiringApproval: [],\n    setLooksRareNonce: (nonce) =>\n      set(() => {\n        return { looksRareNonce: nonce }\n      }),\n    getLooksRareNonce: () => {\n      return get().looksRareNonce\n    },\n    setListingStatus: (status) =>\n      set(() => {\n        return { listingStatus: status }\n      }),\n    setListings: (listings) =>\n      set(() => {\n        const updatedListings = listings.map((listing) => {\n          const oldStatus = get().listings.find(\n            (oldListing) =>\n              oldListing.asset.asset_contract.address === listing.asset.asset_contract.address &&\n              oldListing.asset.tokenId === listing.asset.tokenId &&\n              oldListing.marketplace.name === listing.marketplace.name &&\n              oldListing.price === listing.price\n          )?.status\n          const status = () => {\n            switch (oldStatus) {\n              case ListingStatus.APPROVED:\n                return ListingStatus.APPROVED\n              case ListingStatus.FAILED:\n                return listing.status === ListingStatus.SIGNING ? ListingStatus.SIGNING : ListingStatus.FAILED\n              default:\n                return listing.status\n            }\n          }\n          return {\n            ...listing,\n            status: status(),\n          }\n        })\n        return {\n          listings: updatedListings,\n        }\n      }),\n    setCollectionsRequiringApproval: (collections) =>\n      set(() => {\n        return { collectionsRequiringApproval: collections }\n      }),\n  }))\n)\n"],"mappings":"2KAAA,OAAoCA,aAAa,KAAQ,WAAW,CACpE,MAAOC,OAAM,KAAM,SAAS,CAC5B,OAASC,QAAQ,KAAQ,oBAAoB,CAc7C,MAAO,IAAMC,WAAU,CAAGF,MAAM,EAAgB,CAC9CC,QAAQ,CAAC,SAACE,GAAG,CAAEC,GAAG,QAAM,CACtBC,cAAc,CAAE,CAAC,CACjBC,aAAa,CAAEP,aAAa,CAACQ,OAAO,CACpCC,QAAQ,CAAE,EAAE,CACZC,4BAA4B,CAAE,EAAE,CAChCC,iBAAiB,CAAE,2BAACC,KAAK,QACvBR,IAAG,CAAC,UAAM,CACR,MAAO,CAAEE,cAAc,CAAEM,KAAM,CAAC,CAClC,CAAC,CAAC,GACJC,iBAAiB,CAAE,4BAAM,CACvB,MAAOR,IAAG,EAAE,CAACC,cAAc,CAC7B,CAAC,CACDQ,gBAAgB,CAAE,0BAACC,MAAM,QACvBX,IAAG,CAAC,UAAM,CACR,MAAO,CAAEG,aAAa,CAAEQ,MAAO,CAAC,CAClC,CAAC,CAAC,GACJC,WAAW,CAAE,qBAACP,QAAQ,QACpBL,IAAG,CAAC,UAAM,CACR,GAAMa,gBAAe,CAAGR,QAAQ,CAACS,GAAG,CAAC,SAACC,OAAO,CAAK,wBAChD,GAAMC,UAAS,qBAAGf,GAAG,EAAE,CAACI,QAAQ,CAACY,IAAI,CACnC,SAACC,UAAU,QACTA,WAAU,CAACC,KAAK,CAACC,cAAc,CAACC,OAAO,GAAKN,OAAO,CAACI,KAAK,CAACC,cAAc,CAACC,OAAO,EAChFH,UAAU,CAACC,KAAK,CAACG,OAAO,GAAKP,OAAO,CAACI,KAAK,CAACG,OAAO,EAClDJ,UAAU,CAACK,WAAW,CAACC,IAAI,GAAKT,OAAO,CAACQ,WAAW,CAACC,IAAI,EACxDN,UAAU,CAACO,KAAK,GAAKV,OAAO,CAACU,KAAK,GACrC,6CANiB,mBAMfd,MAAM,CACT,GAAMA,OAAM,CAAG,QAATA,OAAM,EAAS,CACnB,OAAQK,SAAS,EACf,IAAKpB,cAAa,CAAC8B,QAAQ,CACzB,MAAO9B,cAAa,CAAC8B,QAAQ,CAC/B,IAAK9B,cAAa,CAAC+B,MAAM,CACvB,MAAOZ,QAAO,CAACJ,MAAM,GAAKf,aAAa,CAACgC,OAAO,CAAGhC,aAAa,CAACgC,OAAO,CAAGhC,aAAa,CAAC+B,MAAM,CAChG,QACE,MAAOZ,QAAO,CAACJ,MAAM,EAE3B,CAAC,CACD,sCACKI,OAAO,MACVJ,MAAM,CAAEA,MAAM,EAAE,GAEpB,CAAC,CAAC,CACF,MAAO,CACLN,QAAQ,CAAEQ,eACZ,CAAC,CACH,CAAC,CAAC,GACJgB,+BAA+B,CAAE,yCAACC,WAAW,QAC3C9B,IAAG,CAAC,UAAM,CACR,MAAO,CAAEM,4BAA4B,CAAEwB,WAAY,CAAC,CACtD,CAAC,CAAC,EACN,CAAC,EAAC,CAAC,CACJ"},"metadata":{},"sourceType":"module"}