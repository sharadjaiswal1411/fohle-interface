{"ast":null,"code":"import _slicedToArray from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _styled from\"styled-components\";import{fetchTrendingCollections}from'nft/queries';import{TimePeriod}from'nft/types';import{calculateCardIndex}from'nft/utils';import{useCallback,useMemo,useState}from'react';import{useQuery}from'react-query';import{useNavigate}from'react-router-dom';import{opacify}from'theme/utils';import{Carousel,LoadingCarousel}from'./Carousel';import{CarouselCard,LoadingCarouselCard}from'./CarouselCard';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var BannerContainer=_styled.div.withConfig({componentId:\"sc-1cwmkpz-0\"})([\"display:flex;justify-content:center;width:100%;padding-top:22px;position:relative;@media only screen and (min-width:\",\"){padding:32px 16px;}\"],function(_ref){var theme=_ref.theme;return\"\".concat(theme.breakpoint.sm,\"px\");});var AbsoluteFill=_styled.div.withConfig({componentId:\"sc-1cwmkpz-1\"})([\"position:absolute;top:-96px;left:0;right:0;bottom:0;\"]);// Safari has issues with blur / overflow, forcing GPU rendering with `translate3d` fixes it\n// https://stackoverflow.com/a/71353198\nvar BannerBackground=_styled(AbsoluteFill).withConfig({componentId:\"sc-1cwmkpz-2\"})([\"transform:translate3d(0,0,0) scaleY(1.1);background-image:\",\";filter:blur(62px);opacity:\",\";\"],function(props){return\"url(\".concat(props.backgroundImage,\")\");},function(_ref2){var theme=_ref2.theme;return theme.darkMode?0.3:0.2;});var PlainBackground=_styled(AbsoluteFill).withConfig({componentId:\"sc-1cwmkpz-3\"})([\"background:\",\";\"],function(_ref3){var theme=_ref3.theme;return\"linear-gradient(\".concat(opacify(10,theme.userThemeColor),\", transparent)\");});var BannerMainArea=_styled.div.withConfig({componentId:\"sc-1cwmkpz-4\"})([\"display:flex;flex-direction:row;width:100%;height:100%;gap:36px;max-width:1200px;justify-content:space-between;z-index:2;@media only screen and (max-width:\",\"){flex-direction:column;height:100%;gap:14px;margin-top:4px;margin-bottom:6px;}\"],function(_ref4){var theme=_ref4.theme;return\"\".concat(theme.breakpoint.sm,\"px\");});var HeaderContainer=_styled.div.withConfig({componentId:\"sc-1cwmkpz-5\"})([\"display:flex;max-width:500px;font-weight:500;font-size:72px;line-height:88px;align-self:center;flex-shrink:0;padding-bottom:32px;color:\",\";@media only screen and (max-width:\",\"){font-size:48px;line-height:67px;}@media only screen and (max-width:\",\"){font-size:36px;line-height:50px;}@media only screen and (max-width:\",\"){line-height:43px;text-align:center;padding-bottom:16px;br{display:none;}}@media only screen and (max-width:550px){font-size:28px;line-height:34px;padding-bottom:0;br{display:unset;}}\"],function(_ref5){var theme=_ref5.theme;return theme.textPrimary;},function(_ref6){var theme=_ref6.theme;return\"\".concat(theme.breakpoint.lg,\"px\");},function(_ref7){var theme=_ref7.theme;return\"\".concat(theme.breakpoint.md,\"px\");},function(_ref8){var theme=_ref8.theme;return\"\".concat(theme.breakpoint.sm,\"px\");});// Exclude collections that are not available in any of the following - OpenSea, X2Y2 and LooksRare:\nvar EXCLUDED_COLLECTIONS=['0xb47e3cd837ddf8e4c57f05d70ab865de6e193bbb'];var TRENDING_COLLECTION_SIZE=5;var Banner=function Banner(){var navigate=useNavigate();var _useQuery=useQuery(['trendingCollections'],function(){return fetchTrendingCollections({volumeType:'eth',timePeriod:TimePeriod.OneDay,size:TRENDING_COLLECTION_SIZE+EXCLUDED_COLLECTIONS.length});},{refetchOnReconnect:false,refetchOnWindowFocus:false,refetchOnMount:false}),data=_useQuery.data;var collections=useMemo(function(){return data===null||data===void 0?void 0:data.filter(function(collection){return!EXCLUDED_COLLECTIONS.includes(collection.address);}).slice(0,5);},[data]);var _useState=useState(0),_useState2=_slicedToArray(_useState,2),activeCollectionIdx=_useState2[0],setActiveCollectionIdx=_useState2[1];var onToggleNextSlide=useCallback(function(direction){if(!collections)return;setActiveCollectionIdx(function(idx){return calculateCardIndex(idx+direction,collections.length);});},[collections]);var activeCollection=collections===null||collections===void 0?void 0:collections[activeCollectionIdx];return/*#__PURE__*/_jsxs(BannerContainer,{children:[activeCollection?activeCollection.bannerImageUrl?/*#__PURE__*/_jsx(BannerBackground,{backgroundImage:activeCollection.bannerImageUrl}):/*#__PURE__*/_jsx(PlainBackground,{}):null,/*#__PURE__*/_jsxs(BannerMainArea,{children:[/*#__PURE__*/_jsxs(HeaderContainer,{children:[\"Better prices. \",/*#__PURE__*/_jsx(\"br\",{}),\"More listings.\"]}),collections?/*#__PURE__*/_jsx(Carousel,{activeIndex:activeCollectionIdx,toggleNextSlide:onToggleNextSlide,children:collections.map(function(collection){return/*#__PURE__*/_jsx(CarouselCard,{collection:collection,onClick:function onClick(){return navigate(\"/nfts/collection/\".concat(collection.address));}},collection.address);})}):/*#__PURE__*/_jsx(LoadingCarousel,{children:/*#__PURE__*/_jsx(LoadingCarouselCard,{})})]})]});};export default Banner;","map":{"version":3,"names":["fetchTrendingCollections","TimePeriod","calculateCardIndex","useCallback","useMemo","useState","useQuery","useNavigate","opacify","Carousel","LoadingCarousel","CarouselCard","LoadingCarouselCard","BannerContainer","styled","div","theme","breakpoint","sm","AbsoluteFill","BannerBackground","props","backgroundImage","darkMode","PlainBackground","userThemeColor","BannerMainArea","HeaderContainer","textPrimary","lg","md","EXCLUDED_COLLECTIONS","TRENDING_COLLECTION_SIZE","Banner","navigate","volumeType","timePeriod","OneDay","size","length","refetchOnReconnect","refetchOnWindowFocus","refetchOnMount","data","collections","filter","collection","includes","address","slice","activeCollectionIdx","setActiveCollectionIdx","onToggleNextSlide","direction","idx","activeCollection","bannerImageUrl","map"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/nft/components/explore/Banner.tsx"],"sourcesContent":["import { fetchTrendingCollections } from 'nft/queries'\nimport { TimePeriod } from 'nft/types'\nimport { calculateCardIndex } from 'nft/utils'\nimport { useCallback, useMemo, useState } from 'react'\nimport { useQuery } from 'react-query'\nimport { useNavigate } from 'react-router-dom'\nimport styled from 'styled-components/macro'\nimport { opacify } from 'theme/utils'\n\nimport { Carousel, LoadingCarousel } from './Carousel'\nimport { CarouselCard, LoadingCarouselCard } from './CarouselCard'\n\nconst BannerContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  width: 100%;\n  padding-top: 22px;\n  position: relative;\n\n  @media only screen and (min-width: ${({ theme }) => `${theme.breakpoint.sm}px`}) {\n    padding: 32px 16px;\n  }\n`\n\nconst AbsoluteFill = styled.div`\n  position: absolute;\n  top: -96px;\n  left: 0;\n  right: 0;\n  bottom: 0;\n`\n\n// Safari has issues with blur / overflow, forcing GPU rendering with `translate3d` fixes it\n// https://stackoverflow.com/a/71353198\nconst BannerBackground = styled(AbsoluteFill)<{ backgroundImage: string }>`\n  transform: translate3d(0, 0, 0) scaleY(1.1);\n\n  background-image: ${(props) => `url(${props.backgroundImage})`};\n  filter: blur(62px);\n\n  opacity: ${({ theme }) => (theme.darkMode ? 0.3 : 0.2)};\n`\n\nconst PlainBackground = styled(AbsoluteFill)`\n  background: ${({ theme }) => `linear-gradient(${opacify(10, theme.userThemeColor)}, transparent)`};\n`\n\nconst BannerMainArea = styled.div`\n  display: flex;\n  flex-direction: row;\n  width: 100%;\n  height: 100%;\n  gap: 36px;\n  max-width: 1200px;\n  justify-content: space-between;\n  z-index: 2;\n\n  @media only screen and (max-width: ${({ theme }) => `${theme.breakpoint.sm}px`}) {\n    flex-direction: column;\n    height: 100%;\n    gap: 14px;\n    margin-top: 4px;\n    margin-bottom: 6px;\n  }\n`\n\nconst HeaderContainer = styled.div`\n  display: flex;\n  max-width: 500px;\n  font-weight: 500;\n  font-size: 72px;\n  line-height: 88px;\n  align-self: center;\n  flex-shrink: 0;\n  padding-bottom: 32px;\n\n  color: ${({ theme }) => theme.textPrimary};\n\n  @media only screen and (max-width: ${({ theme }) => `${theme.breakpoint.lg}px`}) {\n    font-size: 48px;\n    line-height: 67px;\n  }\n\n  @media only screen and (max-width: ${({ theme }) => `${theme.breakpoint.md}px`}) {\n    font-size: 36px;\n    line-height: 50px;\n  }\n\n  @media only screen and (max-width: ${({ theme }) => `${theme.breakpoint.sm}px`}) {\n    line-height: 43px;\n    text-align: center;\n    padding-bottom: 16px;\n\n    br {\n      display: none;\n    }\n  }\n\n  /* Custom breakpoint to split into two lines on smaller screens */\n  @media only screen and (max-width: 550px) {\n    font-size: 28px;\n    line-height: 34px;\n    padding-bottom: 0;\n\n    br {\n      display: unset;\n    }\n  }\n`\n\n// Exclude collections that are not available in any of the following - OpenSea, X2Y2 and LooksRare:\nconst EXCLUDED_COLLECTIONS = ['0xb47e3cd837ddf8e4c57f05d70ab865de6e193bbb']\nconst TRENDING_COLLECTION_SIZE = 5\n\nconst Banner = () => {\n  const navigate = useNavigate()\n\n  const { data } = useQuery(\n    ['trendingCollections'],\n    () => {\n      return fetchTrendingCollections({\n        volumeType: 'eth',\n        timePeriod: TimePeriod.OneDay,\n        size: TRENDING_COLLECTION_SIZE + EXCLUDED_COLLECTIONS.length,\n      })\n    },\n    {\n      refetchOnReconnect: false,\n      refetchOnWindowFocus: false,\n      refetchOnMount: false,\n    }\n  )\n\n  const collections = useMemo(\n    () => data?.filter((collection) => !EXCLUDED_COLLECTIONS.includes(collection.address)).slice(0, 5),\n    [data]\n  )\n\n  const [activeCollectionIdx, setActiveCollectionIdx] = useState(0)\n  const onToggleNextSlide = useCallback(\n    (direction: number) => {\n      if (!collections) return\n      setActiveCollectionIdx((idx) => calculateCardIndex(idx + direction, collections.length))\n    },\n    [collections]\n  )\n\n  const activeCollection = collections?.[activeCollectionIdx]\n\n  return (\n    <BannerContainer>\n      {activeCollection ? (\n        activeCollection.bannerImageUrl ? (\n          <BannerBackground backgroundImage={activeCollection.bannerImageUrl} />\n        ) : (\n          <PlainBackground />\n        )\n      ) : null}\n      <BannerMainArea>\n        <HeaderContainer>\n          Better prices. <br />\n          More listings.\n        </HeaderContainer>\n        {collections ? (\n          <Carousel activeIndex={activeCollectionIdx} toggleNextSlide={onToggleNextSlide}>\n            {collections.map((collection) => (\n              <CarouselCard\n                key={collection.address}\n                collection={collection}\n                onClick={() => navigate(`/nfts/collection/${collection.address}`)}\n              />\n            ))}\n          </Carousel>\n        ) : (\n          <LoadingCarousel>\n            <LoadingCarouselCard />\n          </LoadingCarousel>\n        )}\n      </BannerMainArea>\n    </BannerContainer>\n  )\n}\n\nexport default Banner\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}