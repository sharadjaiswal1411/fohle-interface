{"ast":null,"code":"import _regeneratorRuntime from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _styled from\"styled-components\";import{ChevronLeftIcon,ChevronRightIcon}from'nft/components/icons';import{calculateCardIndex,calculateFirstCardIndex,calculateRank}from'nft/utils';import{useCallback,useEffect,useRef}from'react';import{a,useSprings}from'react-spring';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CarouselContainer=_styled.div.withConfig({componentId:\"sc-oqttp6-0\"})([\"display:flex;width:100%;justify-content:flex-end;\"]);var CarouselCardContainer=_styled.div.withConfig({componentId:\"sc-oqttp6-1\"})([\"position:relative;width:100%;overflow-x:hidden;max-width:100%;height:390px;@media only screen and (min-width:\",\"){max-width:600px;}\"],function(_ref){var theme=_ref.theme;return\"\".concat(theme.breakpoint.md,\"px\");});var CarouselItemCard=_styled(a.div).withConfig({componentId:\"sc-oqttp6-2\"})([\"display:flex;justify-content:center;padding:4px 12px 32px;position:absolute;will-change:transform;width:calc(100%);height:calc(100%);@media screen and (min-width:\",\"px){padding:4px 32px 32px;}\"],function(_ref2){var theme=_ref2.theme;return theme.breakpoint.md;});var CarouselItemIcon=_styled.div.withConfig({componentId:\"sc-oqttp6-3\"})([\"align-items:center;color:\",\";cursor:pointer;display:none;user-select:none;height:calc(100%);padding:4px 0 32px;@media only screen and (min-width:\",\"){display:flex;}:hover{opacity:\",\";}\"],function(_ref3){var theme=_ref3.theme;return theme.textPrimary;},function(_ref4){var theme=_ref4.theme;return\"\".concat(theme.breakpoint.sm,\"px\");},function(_ref5){var theme=_ref5.theme;return theme.opacity.hover;});var MAX_CARD_WIDTH=800;export var Carousel=function Carousel(_ref6){var children=_ref6.children,activeIndex=_ref6.activeIndex,toggleNextSlide=_ref6.toggleNextSlide;var idx=useCallback(function(x){var l=arguments.length>1&&arguments[1]!==undefined?arguments[1]:children.length;return calculateCardIndex(x,l);},[children]);var getPos=useCallback(function(i,firstVis,firstVisIdx){return calculateFirstCardIndex(i,firstVis,firstVisIdx,idx);},[idx]);var _useSprings=useSprings(children.length,function(i){return{x:(i<children.length-1?i:-1)*MAX_CARD_WIDTH};}),_useSprings2=_slicedToArray(_useSprings,2),springs=_useSprings2[0],set=_useSprings2[1];var prev=useRef([0,1]);var runSprings=useCallback(function(y,vy){var firstVis=idx(Math.floor(y/MAX_CARD_WIDTH)%children.length);var firstVisIdx=vy<0?children.length-2:1;set(function(i){var position=getPos(i,firstVis,firstVisIdx);var prevPosition=getPos(i,prev.current[0],prev.current[1]);var rank=calculateRank(firstVis,firstVisIdx,position,children.length,y);return{x:-y%(MAX_CARD_WIDTH*children.length)+MAX_CARD_WIDTH*rank,immediate:vy<0?prevPosition>position:prevPosition<position,config:{tension:250,friction:30}};});prev.current=[firstVis,firstVisIdx];},[idx,getPos,set,children.length]);var direction=useRef(0);useEffect(function(){runSprings(activeIndex*MAX_CARD_WIDTH,direction.current);},[activeIndex,runSprings]);var toggleSlide=useCallback(function(next){direction.current=next;toggleNextSlide(next);},[toggleNextSlide]);useEffect(function(){var interval=setInterval(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:toggleSlide(1);case 1:case\"end\":return _context.stop();}}},_callee);})),7000);return function(){clearInterval(interval);};},[toggleSlide,activeIndex]);return/*#__PURE__*/_jsxs(CarouselContainer,{children:[/*#__PURE__*/_jsx(CarouselItemIcon,{onClick:function onClick(){return toggleSlide(-1);},children:/*#__PURE__*/_jsx(ChevronLeftIcon,{width:\"16px\",height:\"16px\"})}),/*#__PURE__*/_jsx(CarouselCardContainer,{children:springs.map(function(_ref8,i){var x=_ref8.x;return/*#__PURE__*/_jsx(CarouselItemCard,{style:{x:x},children:children[i]},i);})}),/*#__PURE__*/_jsx(CarouselItemIcon,{onClick:function onClick(){return toggleSlide(1);},children:/*#__PURE__*/_jsx(ChevronRightIcon,{width:\"16px\",height:\"16px\"})})]});};export var LoadingCarousel=function LoadingCarousel(_ref9){var children=_ref9.children;return/*#__PURE__*/_jsx(Carousel,{activeIndex:0,toggleNextSlide:function toggleNextSlide(){return undefined;},children:[children]});};","map":{"version":3,"names":["ChevronLeftIcon","ChevronRightIcon","calculateCardIndex","calculateFirstCardIndex","calculateRank","useCallback","useEffect","useRef","a","useSprings","CarouselContainer","styled","div","CarouselCardContainer","theme","breakpoint","md","CarouselItemCard","CarouselItemIcon","textPrimary","sm","opacity","hover","MAX_CARD_WIDTH","Carousel","children","activeIndex","toggleNextSlide","idx","x","l","length","getPos","i","firstVis","firstVisIdx","springs","set","prev","runSprings","y","vy","Math","floor","position","prevPosition","current","rank","immediate","config","tension","friction","direction","toggleSlide","next","interval","setInterval","clearInterval","map","LoadingCarousel","undefined"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/nft/components/explore/Carousel.tsx"],"sourcesContent":["import { ChevronLeftIcon, ChevronRightIcon } from 'nft/components/icons'\nimport { calculateCardIndex, calculateFirstCardIndex, calculateRank } from 'nft/utils'\nimport { ReactNode, useCallback, useEffect, useRef } from 'react'\nimport { a, useSprings } from 'react-spring'\nimport styled from 'styled-components/macro'\n\nconst CarouselContainer = styled.div`\n  display: flex;\n  width: 100%;\n  justify-content: flex-end;\n`\n\nconst CarouselCardContainer = styled.div`\n  position: relative;\n  width: 100%;\n  overflow-x: hidden;\n  max-width: 100%;\n  height: 390px;\n\n  @media only screen and (min-width: ${({ theme }) => `${theme.breakpoint.md}px`}) {\n    max-width: 600px;\n  }\n`\n\nconst CarouselItemCard = styled(a.div)`\n  display: flex;\n  justify-content: center;\n  padding: 4px 12px 32px;\n  position: absolute;\n  will-change: transform;\n  width: calc(100%);\n  height: calc(100%);\n\n  @media screen and (min-width: ${({ theme }) => theme.breakpoint.md}px) {\n    padding: 4px 32px 32px;\n  }\n`\n\nconst CarouselItemIcon = styled.div`\n  align-items: center;\n  color: ${({ theme }) => theme.textPrimary};\n  cursor: pointer;\n  display: none;\n  user-select: none;\n  height: calc(100%);\n  padding: 4px 0 32px;\n\n  @media only screen and (min-width: ${({ theme }) => `${theme.breakpoint.sm}px`}) {\n    display: flex;\n  }\n\n  :hover {\n    opacity: ${({ theme }) => theme.opacity.hover};\n  }\n`\n\ninterface CarouselProps {\n  children: ReactNode[]\n  activeIndex: number\n  toggleNextSlide: (idx: number) => void\n}\n\nconst MAX_CARD_WIDTH = 800\n\nexport const Carousel = ({ children, activeIndex, toggleNextSlide }: CarouselProps) => {\n  const idx = useCallback((x: number, l = children.length) => calculateCardIndex(x, l), [children])\n  const getPos = useCallback(\n    (i: number, firstVis: number, firstVisIdx: number) => calculateFirstCardIndex(i, firstVis, firstVisIdx, idx),\n    [idx]\n  )\n  const [springs, set] = useSprings(children.length, (i) => ({\n    x: (i < children.length - 1 ? i : -1) * MAX_CARD_WIDTH,\n  }))\n  const prev = useRef([0, 1])\n\n  const runSprings = useCallback(\n    (y: number, vy: number) => {\n      const firstVis = idx(Math.floor(y / MAX_CARD_WIDTH) % children.length)\n      const firstVisIdx = vy < 0 ? children.length - 2 : 1\n      set((i) => {\n        const position = getPos(i, firstVis, firstVisIdx)\n        const prevPosition = getPos(i, prev.current[0], prev.current[1])\n        const rank = calculateRank(firstVis, firstVisIdx, position, children.length, y)\n        return {\n          x: (-y % (MAX_CARD_WIDTH * children.length)) + MAX_CARD_WIDTH * rank,\n          immediate: vy < 0 ? prevPosition > position : prevPosition < position,\n          config: { tension: 250, friction: 30 },\n        }\n      })\n      prev.current = [firstVis, firstVisIdx]\n    },\n    [idx, getPos, set, children.length]\n  )\n\n  const direction = useRef(0)\n\n  useEffect(() => {\n    runSprings(activeIndex * MAX_CARD_WIDTH, direction.current)\n  }, [activeIndex, runSprings])\n\n  const toggleSlide = useCallback(\n    (next: -1 | 1) => {\n      direction.current = next\n      toggleNextSlide(next)\n    },\n    [toggleNextSlide]\n  )\n\n  useEffect(() => {\n    const interval = setInterval(async () => {\n      toggleSlide(1)\n    }, 7_000)\n    return () => {\n      clearInterval(interval)\n    }\n  }, [toggleSlide, activeIndex])\n\n  return (\n    <CarouselContainer>\n      <CarouselItemIcon onClick={() => toggleSlide(-1)}>\n        <ChevronLeftIcon width=\"16px\" height=\"16px\" />\n      </CarouselItemIcon>\n      <CarouselCardContainer>\n        {springs.map(({ x }, i) => (\n          <CarouselItemCard key={i} style={{ x }}>\n            {children[i]}\n          </CarouselItemCard>\n        ))}\n      </CarouselCardContainer>\n      <CarouselItemIcon onClick={() => toggleSlide(1)}>\n        <ChevronRightIcon width=\"16px\" height=\"16px\" />\n      </CarouselItemIcon>\n    </CarouselContainer>\n  )\n}\n\nexport const LoadingCarousel = ({ children }: { children: ReactNode }) => (\n  <Carousel activeIndex={0} toggleNextSlide={() => undefined}>\n    {[children]}\n  </Carousel>\n)\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}