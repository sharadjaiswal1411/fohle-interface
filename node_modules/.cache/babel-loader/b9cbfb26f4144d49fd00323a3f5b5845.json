{"ast":null,"code":"import { useTheme as _useTheme } from \"styled-components\";\nimport _styled from \"styled-components\";\nvar _jsxFileName = \"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/pages/Swap/index.tsx\",\n  _s = $RefreshSig$();\nimport { Trans } from \"@lingui/react\";\nimport { sendAnalyticsEvent, Trace, TraceEvent } from '@uniswap/analytics';\nimport { BrowserEvent, ElementName, EventName, PageName, SectionName } from '@uniswap/analytics-events';\nimport { UNIVERSAL_ROUTER_ADDRESS } from '@uniswap/universal-router-sdk';\nimport { useWeb3React } from '@web3-react/core';\nimport { sendEvent } from 'components/analytics';\nimport { NetworkAlert } from 'components/NetworkAlert/NetworkAlert';\nimport PriceImpactWarning from 'components/swap/PriceImpactWarning';\nimport SwapDetailsDropdown from 'components/swap/SwapDetailsDropdown';\nimport UnsupportedCurrencyFooter from 'components/swap/UnsupportedCurrencyFooter';\nimport TokenSafetyModal from 'components/TokenSafety/TokenSafetyModal';\nimport { MouseoverTooltip } from 'components/Tooltip';\nimport { isSupportedChain } from 'constants/chains';\nimport { usePermit2Enabled } from 'featureFlags/flags/permit2';\nimport usePermit, { PermitState } from 'hooks/usePermit2';\nimport { useSwapCallback } from 'hooks/useSwapCallback';\nimport useTransactionDeadline from 'hooks/useTransactionDeadline';\nimport JSBI from 'jsbi';\nimport { formatSwapQuoteReceivedEventProperties } from 'lib/utils/analytics';\nimport { useCallback, useEffect, useMemo, useState } from 'react';\nimport { lazy } from 'react';\nimport { AlertTriangle, ArrowDown, CheckCircle, HelpCircle, Info } from 'react-feather';\nimport { useNavigate } from 'react-router-dom';\nimport { Text } from 'rebass';\nimport { useToggleWalletModal } from 'state/application/hooks';\nimport { TradeState } from 'state/routing/types';\nimport { useTransactionAdder } from 'state/transactions/hooks';\nimport { currencyAmountToPreciseFloat, formatTransactionAmount } from 'utils/formatNumbers';\nimport AddressInputPanel from '../../components/AddressInputPanel';\nimport { ButtonConfirmed, ButtonError, ButtonLight, ButtonPrimary, ButtonYellow } from '../../components/Button';\nimport { GrayCard } from '../../components/Card';\nimport { AutoColumn } from '../../components/Column';\nimport SwapCurrencyInputPanel from '../../components/CurrencyInputPanel/SwapCurrencyInputPanel';\nimport Loader from '../../components/Loader';\nimport { AutoRow } from '../../components/Row';\nimport confirmPriceImpactWithoutFee from '../../components/swap/confirmPriceImpactWithoutFee';\nimport ConfirmSwapModal from '../../components/swap/ConfirmSwapModal';\nimport { ArrowWrapper, ChartWrapper, PageWrapper, SwapCallbackError, SwapPanel, SwapWrapper, SwapWrapperContent } from '../../components/swap/styleds';\nimport SwapHeader from '../../components/swap/SwapHeader';\nimport { SwitchLocaleLink } from '../../components/SwitchLocaleLink';\nimport { TOKEN_SHORTHANDS } from '../../constants/tokens';\nimport { useAllTokens, useCurrency } from '../../hooks/Tokens';\nimport { ApprovalState, useApproveCallbackFromTrade } from '../../hooks/useApproveCallback';\nimport useENSAddress from '../../hooks/useENSAddress';\nimport { useERC20PermitFromTrade, UseERC20PermitState } from '../../hooks/useERC20Permit';\nimport useIsArgentWallet from '../../hooks/useIsArgentWallet';\nimport { useIsSwapUnsupported } from '../../hooks/useIsSwapUnsupported';\nimport { useStablecoinValue } from '../../hooks/useStablecoinPrice';\nimport useWrapCallback, { WrapErrorText, WrapType } from '../../hooks/useWrapCallback';\nimport { Field } from '../../state/swap/actions';\nimport { useDefaultsFromURLSearch, useDerivedSwapInfo, useSwapActionHandlers, useSwapState } from '../../state/swap/hooks';\nimport { useExpertModeManager } from '../../state/user/hooks';\nimport { LinkStyledButton, ThemedText } from '../../theme';\nimport { computeFiatValuePriceImpact } from '../../utils/computeFiatValuePriceImpact';\nimport { maxAmountSpend } from '../../utils/maxAmountSpend';\nimport { computeRealizedPriceImpact, warningSeverity } from '../../utils/prices';\nimport { supportedChainId } from '../../utils/supportedChainId';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst LiveChart = /*#__PURE__*/lazy(_c = () => import('components/LiveChart'));\n_c2 = LiveChart;\nconst ArrowContainer = _styled.div.withConfig({\n  displayName: \"Swap__ArrowContainer\",\n  componentId: \"sc-1es900k-0\"\n})([\"display:inline-block;display:inline-flex;align-items:center;justify-content:center;width:100%;height:100%;\"]);\nconst SwapSection = _styled.div.withConfig({\n  displayName: \"Swap__SwapSection\",\n  componentId: \"sc-1es900k-1\"\n})([\"position:relative;background-color:\", \";border-radius:12px;padding:16px;color:\", \";font-size:14px;line-height:20px;font-weight:500;&:before{box-sizing:border-box;background-size:100%;border-radius:inherit;position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;content:'';border:1px solid \", \";}&:hover:before{border-color:\", \";}&:focus-within:before{border-color:\", \";}\"], _ref => {\n  let {\n    theme\n  } = _ref;\n  return theme.backgroundModule;\n}, _ref2 => {\n  let {\n    theme\n  } = _ref2;\n  return theme.textSecondary;\n}, _ref3 => {\n  let {\n    theme\n  } = _ref3;\n  return theme.backgroundModule;\n}, _ref4 => {\n  let {\n    theme\n  } = _ref4;\n  return theme.stateOverlayHover;\n}, _ref5 => {\n  let {\n    theme\n  } = _ref5;\n  return theme.stateOverlayPressed;\n});\nconst OutputSwapSection = _styled(SwapSection).withConfig({\n  displayName: \"Swap__OutputSwapSection\",\n  componentId: \"sc-1es900k-2\"\n})([\"border-bottom:\", \";border-bottom-left-radius:\", \";border-bottom-right-radius:\", \";\"], _ref6 => {\n  let {\n    theme\n  } = _ref6;\n  return `1px solid ${theme.backgroundSurface}`;\n}, _ref7 => {\n  let {\n    showDetailsDropdown\n  } = _ref7;\n  return showDetailsDropdown && '0';\n}, _ref8 => {\n  let {\n    showDetailsDropdown\n  } = _ref8;\n  return showDetailsDropdown && '0';\n});\nconst DetailsSwapSection = _styled(SwapSection).withConfig({\n  displayName: \"Swap__DetailsSwapSection\",\n  componentId: \"sc-1es900k-3\"\n})([\"padding:0;border-top-left-radius:0;border-top-right-radius:0;\"]);\nexport function getIsValidSwapQuote(trade, tradeState, swapInputError) {\n  return !!swapInputError && !!trade && (tradeState === TradeState.VALID || tradeState === TradeState.SYNCING);\n}\nfunction largerPercentValue(a, b) {\n  if (a && b) {\n    return a.greaterThan(b) ? a : b;\n  } else if (a) {\n    return a;\n  } else if (b) {\n    return b;\n  }\n  return undefined;\n}\nconst TRADE_STRING = 'SwapRouter';\nexport default function Swap(_ref9) {\n  _s();\n  var _loadedUrlParams$Fiel, _loadedUrlParams$Fiel2, _parsedAmounts$indepe3, _trade$inputAmount2, _parsedAmounts$Field$, _trade$inputAmount4, _trade$inputAmount4$c, _trade$outputAmount2, _trade$outputAmount2$, _importTokensNotInDef, _importTokensNotInDef2, _currencies$Field$INP, _currencies$Field$OUT, _currencies$Field$INP2, _currencies$Field$INP3, _currencies$Field$INP4, _currencies$Field$INP5;\n  let {\n    className\n  } = _ref9;\n  const navigate = useNavigate();\n  const {\n    account,\n    chainId\n  } = useWeb3React();\n  const loadedUrlParams = useDefaultsFromURLSearch();\n  const [newSwapQuoteNeedsLogging, setNewSwapQuoteNeedsLogging] = useState(true);\n  const [fetchingSwapQuoteStartTime, setFetchingSwapQuoteStartTime] = useState();\n\n  // token warning stuff\n  const [loadedInputCurrency, loadedOutputCurrency] = [useCurrency(loadedUrlParams === null || loadedUrlParams === void 0 ? void 0 : (_loadedUrlParams$Fiel = loadedUrlParams[Field.INPUT]) === null || _loadedUrlParams$Fiel === void 0 ? void 0 : _loadedUrlParams$Fiel.currencyId), useCurrency(loadedUrlParams === null || loadedUrlParams === void 0 ? void 0 : (_loadedUrlParams$Fiel2 = loadedUrlParams[Field.OUTPUT]) === null || _loadedUrlParams$Fiel2 === void 0 ? void 0 : _loadedUrlParams$Fiel2.currencyId)];\n  console.log('loadedOutputCurrency', {\n    loadedOutputCurrency,\n    loadedInputCurrency\n  });\n  const [dismissTokenWarning, setDismissTokenWarning] = useState(false);\n  const urlLoadedTokens = useMemo(() => {\n    var _filter, _ref10;\n    return (_filter = (_ref10 = [loadedInputCurrency, loadedOutputCurrency]) === null || _ref10 === void 0 ? void 0 : _ref10.filter(c => {\n      var _c$isToken;\n      return (_c$isToken = c === null || c === void 0 ? void 0 : c.isToken) !== null && _c$isToken !== void 0 ? _c$isToken : false;\n    })) !== null && _filter !== void 0 ? _filter : [];\n  }, [loadedInputCurrency, loadedOutputCurrency]);\n  const handleConfirmTokenWarning = useCallback(() => {\n    setDismissTokenWarning(true);\n  }, []);\n\n  // dismiss warning if all imported tokens are in active lists\n  const defaultTokens = useAllTokens();\n  const importTokensNotInDefault = useMemo(() => urlLoadedTokens && urlLoadedTokens.filter(token => {\n    return !(token.address in defaultTokens);\n  }).filter(token => {\n    // Any token addresses that are loaded from the shorthands map do not need to show the import URL\n    const supported = supportedChainId(chainId);\n    if (!supported) return true;\n    return !Object.keys(TOKEN_SHORTHANDS).some(shorthand => {\n      const shorthandTokenAddress = TOKEN_SHORTHANDS[shorthand][supported];\n      return shorthandTokenAddress && shorthandTokenAddress === token.address;\n    });\n  }), [chainId, defaultTokens, urlLoadedTokens]);\n  const theme = _useTheme();\n\n  // toggle wallet when disconnected\n  const toggleWalletModal = useToggleWalletModal();\n\n  // for expert mode\n  const [isExpertMode] = useExpertModeManager();\n  // swap state\n  const {\n    independentField,\n    typedValue,\n    recipient\n  } = useSwapState();\n  const {\n    trade: {\n      state: tradeState,\n      trade\n    },\n    allowedSlippage,\n    currencyBalances,\n    parsedAmount,\n    currencies,\n    inputError: swapInputError\n  } = useDerivedSwapInfo();\n  const {\n    wrapType,\n    execute: onWrap,\n    inputError: wrapInputError\n  } = useWrapCallback(currencies[Field.INPUT], currencies[Field.OUTPUT], typedValue);\n  const showWrap = wrapType !== WrapType.NOT_APPLICABLE;\n  const {\n    address: recipientAddress\n  } = useENSAddress(recipient);\n  const parsedAmounts = useMemo(() => showWrap ? {\n    [Field.INPUT]: parsedAmount,\n    [Field.OUTPUT]: parsedAmount\n  } : {\n    [Field.INPUT]: independentField === Field.INPUT ? parsedAmount : trade === null || trade === void 0 ? void 0 : trade.inputAmount,\n    [Field.OUTPUT]: independentField === Field.OUTPUT ? parsedAmount : trade === null || trade === void 0 ? void 0 : trade.outputAmount\n  }, [independentField, parsedAmount, showWrap, trade]);\n  const [routeNotFound, routeIsLoading, routeIsSyncing] = useMemo(() => [!(trade === null || trade === void 0 ? void 0 : trade.swaps), TradeState.LOADING === tradeState, TradeState.SYNCING === tradeState], [trade, tradeState]);\n  const fiatValueInput = useStablecoinValue(parsedAmounts[Field.INPUT]);\n  const fiatValueOutput = useStablecoinValue(parsedAmounts[Field.OUTPUT]);\n  const stablecoinPriceImpact = useMemo(() => routeIsSyncing ? undefined : computeFiatValuePriceImpact(fiatValueInput, fiatValueOutput), [fiatValueInput, fiatValueOutput, routeIsSyncing]);\n  const {\n    onSwitchTokens,\n    onCurrencySelection,\n    onUserInput,\n    onChangeRecipient\n  } = useSwapActionHandlers();\n  const isValid = !swapInputError;\n  const dependentField = independentField === Field.INPUT ? Field.OUTPUT : Field.INPUT;\n  const handleTypeInput = useCallback(value => {\n    onUserInput(Field.INPUT, value);\n  }, [onUserInput]);\n  const handleTypeOutput = useCallback(value => {\n    onUserInput(Field.OUTPUT, value);\n  }, [onUserInput]);\n\n  // reset if they close warning without tokens in params\n  const handleDismissTokenWarning = useCallback(() => {\n    setDismissTokenWarning(true);\n    navigate('/swap/');\n  }, [navigate]);\n\n  // modal and loading\n  const [{\n    showConfirm,\n    tradeToConfirm,\n    swapErrorMessage,\n    attemptingTxn,\n    txHash\n  }, setSwapState] = useState({\n    showConfirm: false,\n    tradeToConfirm: undefined,\n    attemptingTxn: false,\n    swapErrorMessage: undefined,\n    txHash: undefined\n  });\n  const formattedAmounts = useMemo(() => {\n    var _parsedAmounts$indepe, _parsedAmounts$indepe2;\n    return {\n      [independentField]: typedValue,\n      [dependentField]: showWrap ? (_parsedAmounts$indepe = (_parsedAmounts$indepe2 = parsedAmounts[independentField]) === null || _parsedAmounts$indepe2 === void 0 ? void 0 : _parsedAmounts$indepe2.toExact()) !== null && _parsedAmounts$indepe !== void 0 ? _parsedAmounts$indepe : '' : formatTransactionAmount(currencyAmountToPreciseFloat(parsedAmounts[dependentField]))\n    };\n  }, [dependentField, independentField, parsedAmounts, showWrap, typedValue]);\n  const userHasSpecifiedInputOutput = Boolean(currencies[Field.INPUT] && currencies[Field.OUTPUT] && ((_parsedAmounts$indepe3 = parsedAmounts[independentField]) === null || _parsedAmounts$indepe3 === void 0 ? void 0 : _parsedAmounts$indepe3.greaterThan(JSBI.BigInt(0))));\n  const permit2Enabled = usePermit2Enabled();\n  const maximumAmountIn = useMemo(() => {\n    const maximumAmountIn = trade === null || trade === void 0 ? void 0 : trade.maximumAmountIn(allowedSlippage);\n    return (maximumAmountIn === null || maximumAmountIn === void 0 ? void 0 : maximumAmountIn.currency.isToken) ? maximumAmountIn : undefined;\n  }, [allowedSlippage, trade]);\n  const permit = usePermit(permit2Enabled ? maximumAmountIn : undefined, permit2Enabled && chainId ? UNIVERSAL_ROUTER_ADDRESS(chainId) : undefined);\n  const isApprovalLoading = permit.state === PermitState.APPROVAL_LOADING;\n  const [isPermitPending, setIsPermitPending] = useState(false);\n  const [isPermitFailed, setIsPermitFailed] = useState(false);\n  const addTransaction = useTransactionAdder();\n  const updatePermit = useCallback(async () => {\n    setIsPermitPending(true);\n    try {\n      var _permit$callback;\n      const approval = await ((_permit$callback = permit.callback) === null || _permit$callback === void 0 ? void 0 : _permit$callback.call(permit));\n      if (approval) {\n        sendAnalyticsEvent(EventName.APPROVE_TOKEN_TXN_SUBMITTED, {\n          chain_id: chainId,\n          token_symbol: maximumAmountIn === null || maximumAmountIn === void 0 ? void 0 : maximumAmountIn.currency.symbol,\n          token_address: maximumAmountIn === null || maximumAmountIn === void 0 ? void 0 : maximumAmountIn.currency.address\n        });\n        const {\n          response,\n          info\n        } = approval;\n        addTransaction(response, info);\n      }\n      setIsPermitFailed(false);\n    } catch (e) {\n      console.error(e);\n      setIsPermitFailed(true);\n    } finally {\n      setIsPermitPending(false);\n    }\n  }, [addTransaction, chainId, maximumAmountIn === null || maximumAmountIn === void 0 ? void 0 : maximumAmountIn.currency.address, maximumAmountIn === null || maximumAmountIn === void 0 ? void 0 : maximumAmountIn.currency.symbol, permit]);\n\n  // check whether the user has approved the router on the input token\n  const [approvalState, approveCallback] = useApproveCallbackFromTrade(permit2Enabled ? undefined : trade, allowedSlippage);\n  const transactionDeadline = useTransactionDeadline();\n  const {\n    state: signatureState,\n    signatureData,\n    gatherPermitSignature\n  } = useERC20PermitFromTrade(permit2Enabled ? undefined : trade, allowedSlippage, transactionDeadline);\n  const [approvalPending, setApprovalPending] = useState(false);\n  const handleApprove = useCallback(async () => {\n    setApprovalPending(true);\n    try {\n      if (signatureState === UseERC20PermitState.NOT_SIGNED && gatherPermitSignature) {\n        try {\n          await gatherPermitSignature();\n        } catch (error) {\n          // try to approve if gatherPermitSignature failed for any reason other than the user rejecting it\n          if ((error === null || error === void 0 ? void 0 : error.code) !== 4001) {\n            await approveCallback();\n          }\n        }\n      } else {\n        var _trade$inputAmount;\n        await approveCallback();\n        sendEvent({\n          category: 'Swap',\n          action: 'Approve',\n          label: [TRADE_STRING, trade === null || trade === void 0 ? void 0 : (_trade$inputAmount = trade.inputAmount) === null || _trade$inputAmount === void 0 ? void 0 : _trade$inputAmount.currency.symbol].join('/')\n        });\n      }\n    } finally {\n      setApprovalPending(false);\n    }\n  }, [signatureState, gatherPermitSignature, approveCallback, trade === null || trade === void 0 ? void 0 : (_trade$inputAmount2 = trade.inputAmount) === null || _trade$inputAmount2 === void 0 ? void 0 : _trade$inputAmount2.currency.symbol]);\n\n  // check if user has gone through approval process, used to show two step buttons, reset on token change\n  const [approvalSubmitted, setApprovalSubmitted] = useState(false);\n\n  // mark when a user has submitted an approval, reset onTokenSelection for input field\n  useEffect(() => {\n    if (approvalState === ApprovalState.PENDING) {\n      setApprovalSubmitted(true);\n    }\n  }, [approvalState, approvalSubmitted]);\n  const handleRotateClick = useCallback(() => {\n    setApprovalSubmitted(false); // reset 2 step UI for approvals\n    onSwitchTokens();\n  }, [onSwitchTokens]);\n  const maxInputAmount = useMemo(() => maxAmountSpend(currencyBalances[Field.INPUT]), [currencyBalances]);\n  const showMaxButton = Boolean((maxInputAmount === null || maxInputAmount === void 0 ? void 0 : maxInputAmount.greaterThan(0)) && !((_parsedAmounts$Field$ = parsedAmounts[Field.INPUT]) === null || _parsedAmounts$Field$ === void 0 ? void 0 : _parsedAmounts$Field$.equalTo(maxInputAmount)));\n\n  // the callback to execute the swap\n  const {\n    callback: swapCallback,\n    error: swapCallbackError\n  } = useSwapCallback(trade, allowedSlippage, recipient, signatureData, permit);\n  const handleSwap = useCallback(() => {\n    if (!swapCallback) {\n      return;\n    }\n    if (stablecoinPriceImpact && !confirmPriceImpactWithoutFee(stablecoinPriceImpact)) {\n      return;\n    }\n    setSwapState({\n      attemptingTxn: true,\n      tradeToConfirm,\n      showConfirm,\n      swapErrorMessage: undefined,\n      txHash: undefined\n    });\n    swapCallback().then(hash => {\n      var _trade$inputAmount3, _trade$inputAmount3$c, _trade$outputAmount, _trade$outputAmount$c;\n      setSwapState({\n        attemptingTxn: false,\n        tradeToConfirm,\n        showConfirm,\n        swapErrorMessage: undefined,\n        txHash: hash\n      });\n      sendEvent({\n        category: 'Swap',\n        action: 'transaction hash',\n        label: hash\n      });\n      sendEvent({\n        category: 'Swap',\n        action: recipient === null ? 'Swap w/o Send' : (recipientAddress !== null && recipientAddress !== void 0 ? recipientAddress : recipient) === account ? 'Swap w/o Send + recipient' : 'Swap w/ Send',\n        label: [TRADE_STRING, trade === null || trade === void 0 ? void 0 : (_trade$inputAmount3 = trade.inputAmount) === null || _trade$inputAmount3 === void 0 ? void 0 : (_trade$inputAmount3$c = _trade$inputAmount3.currency) === null || _trade$inputAmount3$c === void 0 ? void 0 : _trade$inputAmount3$c.symbol, trade === null || trade === void 0 ? void 0 : (_trade$outputAmount = trade.outputAmount) === null || _trade$outputAmount === void 0 ? void 0 : (_trade$outputAmount$c = _trade$outputAmount.currency) === null || _trade$outputAmount$c === void 0 ? void 0 : _trade$outputAmount$c.symbol, 'MH'].join('/')\n      });\n    }).catch(error => {\n      setSwapState({\n        attemptingTxn: false,\n        tradeToConfirm,\n        showConfirm,\n        swapErrorMessage: error.message,\n        txHash: undefined\n      });\n    });\n  }, [swapCallback, stablecoinPriceImpact, tradeToConfirm, showConfirm, recipient, recipientAddress, account, trade === null || trade === void 0 ? void 0 : (_trade$inputAmount4 = trade.inputAmount) === null || _trade$inputAmount4 === void 0 ? void 0 : (_trade$inputAmount4$c = _trade$inputAmount4.currency) === null || _trade$inputAmount4$c === void 0 ? void 0 : _trade$inputAmount4$c.symbol, trade === null || trade === void 0 ? void 0 : (_trade$outputAmount2 = trade.outputAmount) === null || _trade$outputAmount2 === void 0 ? void 0 : (_trade$outputAmount2$ = _trade$outputAmount2.currency) === null || _trade$outputAmount2$ === void 0 ? void 0 : _trade$outputAmount2$.symbol]);\n\n  // errors\n  const [swapQuoteReceivedDate, setSwapQuoteReceivedDate] = useState();\n\n  // warnings on the greater of fiat value price impact and execution price impact\n  const {\n    priceImpactSeverity,\n    largerPriceImpact\n  } = useMemo(() => {\n    const marketPriceImpact = (trade === null || trade === void 0 ? void 0 : trade.priceImpact) ? computeRealizedPriceImpact(trade) : undefined;\n    const largerPriceImpact = largerPercentValue(marketPriceImpact, stablecoinPriceImpact);\n    return {\n      priceImpactSeverity: warningSeverity(largerPriceImpact),\n      largerPriceImpact\n    };\n  }, [stablecoinPriceImpact, trade]);\n  const isArgentWallet = useIsArgentWallet();\n\n  // show approve flow when: no error on inputs, not approved or pending, or approved in current session\n  // never show if price impact is above threshold in non expert mode\n  const showApproveFlow = !permit2Enabled && !isArgentWallet && !swapInputError && (approvalState === ApprovalState.NOT_APPROVED || approvalState === ApprovalState.PENDING || approvalSubmitted && approvalState === ApprovalState.APPROVED) && !(priceImpactSeverity > 3 && !isExpertMode);\n  const handleConfirmDismiss = useCallback(() => {\n    setSwapState({\n      showConfirm: false,\n      tradeToConfirm,\n      attemptingTxn,\n      swapErrorMessage,\n      txHash\n    });\n    // if there was a tx hash, we want to clear the input\n    if (txHash) {\n      onUserInput(Field.INPUT, '');\n    }\n  }, [attemptingTxn, onUserInput, swapErrorMessage, tradeToConfirm, txHash]);\n  const handleAcceptChanges = useCallback(() => {\n    setSwapState({\n      tradeToConfirm: trade,\n      swapErrorMessage,\n      txHash,\n      attemptingTxn,\n      showConfirm\n    });\n  }, [attemptingTxn, showConfirm, swapErrorMessage, trade, txHash]);\n  const handleInputSelect = useCallback(inputCurrency => {\n    setApprovalSubmitted(false); // reset 2 step UI for approvals\n    onCurrencySelection(Field.INPUT, inputCurrency);\n  }, [onCurrencySelection]);\n  const handleMaxInput = useCallback(() => {\n    maxInputAmount && onUserInput(Field.INPUT, maxInputAmount.toExact());\n    sendEvent({\n      category: 'Swap',\n      action: 'Max'\n    });\n  }, [maxInputAmount, onUserInput]);\n  const handleOutputSelect = useCallback(outputCurrency => onCurrencySelection(Field.OUTPUT, outputCurrency), [onCurrencySelection]);\n  const swapIsUnsupported = useIsSwapUnsupported(currencies[Field.INPUT], currencies[Field.OUTPUT]);\n  const priceImpactTooHigh = priceImpactSeverity > 3 && !isExpertMode;\n  const showPriceImpactWarning = largerPriceImpact && priceImpactSeverity > 3;\n\n  // Handle time based logging events and event properties.\n  useEffect(() => {\n    const now = new Date();\n    // If a trade exists, and we need to log the receipt of this new swap quote:\n    if (newSwapQuoteNeedsLogging && !!trade) {\n      var _trade$gasUseEstimate;\n      // Set the current datetime as the time of receipt of latest swap quote.\n      setSwapQuoteReceivedDate(now);\n      // Log swap quote.\n      sendAnalyticsEvent(EventName.SWAP_QUOTE_RECEIVED, formatSwapQuoteReceivedEventProperties(trade, (_trade$gasUseEstimate = trade.gasUseEstimateUSD) !== null && _trade$gasUseEstimate !== void 0 ? _trade$gasUseEstimate : undefined, fetchingSwapQuoteStartTime));\n      // Latest swap quote has just been logged, so we don't need to log the current trade anymore\n      // unless user inputs change again and a new trade is in the process of being generated.\n      setNewSwapQuoteNeedsLogging(false);\n      // New quote is not being fetched, so set start time of quote fetch to undefined.\n      setFetchingSwapQuoteStartTime(undefined);\n    }\n    // If another swap quote is being loaded based on changed user inputs:\n    if (routeIsLoading) {\n      setNewSwapQuoteNeedsLogging(true);\n      if (!fetchingSwapQuoteStartTime) setFetchingSwapQuoteStartTime(now);\n    }\n  }, [newSwapQuoteNeedsLogging, routeIsSyncing, routeIsLoading, fetchingSwapQuoteStartTime, trade, setSwapQuoteReceivedDate]);\n  const approveTokenButtonDisabled = approvalState !== ApprovalState.NOT_APPROVED || approvalSubmitted || signatureState === UseERC20PermitState.SIGNED;\n  const showDetailsDropdown = Boolean(!showWrap && userHasSpecifiedInputOutput && (trade || routeIsLoading || routeIsSyncing));\n  return /*#__PURE__*/_jsxDEV(Trace, {\n    page: PageName.SWAP_PAGE,\n    shouldLogImpression: true,\n    children: /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(TokenSafetyModal, {\n        isOpen: importTokensNotInDefault.length > 0 && !dismissTokenWarning,\n        tokenAddress: (_importTokensNotInDef = importTokensNotInDefault[0]) === null || _importTokensNotInDef === void 0 ? void 0 : _importTokensNotInDef.address,\n        secondTokenAddress: (_importTokensNotInDef2 = importTokensNotInDefault[1]) === null || _importTokensNotInDef2 === void 0 ? void 0 : _importTokensNotInDef2.address,\n        onContinue: handleConfirmTokenWarning,\n        onCancel: handleDismissTokenWarning,\n        showCancel: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 563,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(PageWrapper, {\n        children: /*#__PURE__*/_jsxDEV(SwapPanel, {\n          children: [/*#__PURE__*/_jsxDEV(SwapWrapper, {\n            className: className,\n            id: \"swap-page\",\n            children: /*#__PURE__*/_jsxDEV(SwapWrapperContent, {\n              children: [/*#__PURE__*/_jsxDEV(SwapHeader, {\n                allowedSlippage: allowedSlippage\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 575,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(ConfirmSwapModal, {\n                isOpen: showConfirm,\n                trade: trade,\n                originalTrade: tradeToConfirm,\n                onAcceptChanges: handleAcceptChanges,\n                attemptingTxn: attemptingTxn,\n                txHash: txHash,\n                recipient: recipient,\n                allowedSlippage: allowedSlippage,\n                onConfirm: handleSwap,\n                swapErrorMessage: swapErrorMessage,\n                onDismiss: handleConfirmDismiss,\n                swapQuoteReceivedDate: swapQuoteReceivedDate,\n                fiatValueInput: fiatValueInput,\n                fiatValueOutput: fiatValueOutput\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 576,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'relative'\n                },\n                children: [/*#__PURE__*/_jsxDEV(SwapSection, {\n                  children: /*#__PURE__*/_jsxDEV(Trace, {\n                    section: SectionName.CURRENCY_INPUT_PANEL,\n                    children: /*#__PURE__*/_jsxDEV(SwapCurrencyInputPanel, {\n                      label: independentField === Field.OUTPUT && !showWrap ? /*#__PURE__*/_jsxDEV(Trans, {\n                        id: \"From (at most)\"\n                      }, void 0, false, void 0, this) : /*#__PURE__*/_jsxDEV(Trans, {\n                        id: \"From\"\n                      }, void 0, false, void 0, this),\n                      value: formattedAmounts[Field.INPUT],\n                      showMaxButton: showMaxButton,\n                      currency: (_currencies$Field$INP = currencies[Field.INPUT]) !== null && _currencies$Field$INP !== void 0 ? _currencies$Field$INP : null,\n                      onUserInput: handleTypeInput,\n                      onMax: handleMaxInput,\n                      fiatValue: fiatValueInput !== null && fiatValueInput !== void 0 ? fiatValueInput : undefined,\n                      onCurrencySelect: handleInputSelect,\n                      otherCurrency: currencies[Field.OUTPUT],\n                      showCommonBases: true,\n                      id: SectionName.CURRENCY_INPUT_PANEL,\n                      loading: independentField === Field.OUTPUT && routeIsSyncing\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 596,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 595,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 594,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(ArrowWrapper, {\n                  clickable: isSupportedChain(chainId),\n                  children: /*#__PURE__*/_jsxDEV(TraceEvent, {\n                    events: [BrowserEvent.onClick],\n                    name: EventName.SWAP_TOKENS_REVERSED,\n                    element: ElementName.SWAP_TOKENS_REVERSE_ARROW_BUTTON,\n                    children: /*#__PURE__*/_jsxDEV(ArrowContainer, {\n                      onClick: () => {\n                        setApprovalSubmitted(false); // reset 2 step UI for approvals\n                        onSwitchTokens();\n                      },\n                      color: theme.textPrimary,\n                      children: /*#__PURE__*/_jsxDEV(ArrowDown, {\n                        size: \"16\",\n                        color: currencies[Field.INPUT] && currencies[Field.OUTPUT] ? theme.textPrimary : theme.textTertiary\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 631,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 624,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 619,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 618,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 593,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(AutoColumn, {\n                gap: \"md\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(OutputSwapSection, {\n                    showDetailsDropdown: showDetailsDropdown,\n                    children: [/*#__PURE__*/_jsxDEV(Trace, {\n                      section: SectionName.CURRENCY_OUTPUT_PANEL,\n                      children: /*#__PURE__*/_jsxDEV(SwapCurrencyInputPanel, {\n                        value: formattedAmounts[Field.OUTPUT],\n                        onUserInput: handleTypeOutput,\n                        label: independentField === Field.INPUT && !showWrap ? /*#__PURE__*/_jsxDEV(Trans, {\n                          id: \"To (at least)\"\n                        }, void 0, false, void 0, this) : /*#__PURE__*/_jsxDEV(Trans, {\n                          id: \"To\"\n                        }, void 0, false, void 0, this),\n                        showMaxButton: false,\n                        hideBalance: false,\n                        fiatValue: fiatValueOutput !== null && fiatValueOutput !== void 0 ? fiatValueOutput : undefined,\n                        priceImpact: stablecoinPriceImpact,\n                        currency: (_currencies$Field$OUT = currencies[Field.OUTPUT]) !== null && _currencies$Field$OUT !== void 0 ? _currencies$Field$OUT : null,\n                        onCurrencySelect: handleOutputSelect,\n                        otherCurrency: currencies[Field.INPUT],\n                        showCommonBases: true,\n                        id: SectionName.CURRENCY_OUTPUT_PANEL,\n                        loading: independentField === Field.INPUT && routeIsSyncing\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 645,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 644,\n                      columnNumber: 23\n                    }, this), recipient !== null && !showWrap ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(AutoRow, {\n                        justify: \"space-between\",\n                        style: {\n                          padding: '0 1rem'\n                        },\n                        children: [/*#__PURE__*/_jsxDEV(ArrowWrapper, {\n                          clickable: false,\n                          children: /*#__PURE__*/_jsxDEV(ArrowDown, {\n                            size: \"16\",\n                            color: theme.textSecondary\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 672,\n                            columnNumber: 31\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 671,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(LinkStyledButton, {\n                          id: \"remove-recipient-button\",\n                          onClick: () => onChangeRecipient(null),\n                          children: /*#__PURE__*/_jsxDEV(Trans, {\n                            id: \"- Remove recipient\"\n                          }, void 0, false, void 0, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 674,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 670,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(AddressInputPanel, {\n                        id: \"recipient\",\n                        value: recipient,\n                        onChange: onChangeRecipient\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 678,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true) : null]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 643,\n                    columnNumber: 21\n                  }, this), showDetailsDropdown && /*#__PURE__*/_jsxDEV(DetailsSwapSection, {\n                    children: /*#__PURE__*/_jsxDEV(SwapDetailsDropdown, {\n                      trade: trade,\n                      syncing: routeIsSyncing,\n                      loading: routeIsLoading,\n                      allowedSlippage: allowedSlippage\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 684,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 683,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 642,\n                  columnNumber: 19\n                }, this), showPriceImpactWarning && /*#__PURE__*/_jsxDEV(PriceImpactWarning, {\n                  priceImpact: largerPriceImpact\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 693,\n                  columnNumber: 46\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [swapIsUnsupported ? /*#__PURE__*/_jsxDEV(ButtonPrimary, {\n                    disabled: true,\n                    children: /*#__PURE__*/_jsxDEV(ThemedText.DeprecatedMain, {\n                      mb: \"4px\",\n                      children: /*#__PURE__*/_jsxDEV(Trans, {\n                        id: \"Unsupported Asset\"\n                      }, void 0, false, void 0, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 697,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 696,\n                    columnNumber: 23\n                  }, this) : !account ? /*#__PURE__*/_jsxDEV(TraceEvent, {\n                    events: [BrowserEvent.onClick],\n                    name: EventName.CONNECT_WALLET_BUTTON_CLICKED,\n                    properties: {\n                      received_swap_quote: getIsValidSwapQuote(trade, tradeState, swapInputError)\n                    },\n                    element: ElementName.CONNECT_WALLET_BUTTON,\n                    children: /*#__PURE__*/_jsxDEV(ButtonLight, {\n                      onClick: toggleWalletModal,\n                      fontWeight: 600,\n                      children: /*#__PURE__*/_jsxDEV(Trans, {\n                        id: \"Connect Wallet\"\n                      }, void 0, false, void 0, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 708,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 702,\n                    columnNumber: 23\n                  }, this) : showWrap ? /*#__PURE__*/_jsxDEV(ButtonPrimary, {\n                    disabled: Boolean(wrapInputError),\n                    onClick: onWrap,\n                    fontWeight: 600,\n                    children: wrapInputError ? /*#__PURE__*/_jsxDEV(WrapErrorText, {\n                      wrapInputError: wrapInputError\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 715,\n                      columnNumber: 27\n                    }, this) : wrapType === WrapType.WRAP ? /*#__PURE__*/_jsxDEV(Trans, {\n                      id: \"Wrap\"\n                    }, void 0, false, void 0, this) : wrapType === WrapType.UNWRAP ? /*#__PURE__*/_jsxDEV(Trans, {\n                      id: \"Unwrap\"\n                    }, void 0, false, void 0, this) : null\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 713,\n                    columnNumber: 23\n                  }, this) : routeNotFound && userHasSpecifiedInputOutput && !routeIsLoading && !routeIsSyncing ? /*#__PURE__*/_jsxDEV(GrayCard, {\n                    style: {\n                      textAlign: 'center'\n                    },\n                    children: /*#__PURE__*/_jsxDEV(ThemedText.DeprecatedMain, {\n                      mb: \"4px\",\n                      children: /*#__PURE__*/_jsxDEV(Trans, {\n                        id: \"Insufficient liquidity for this trade.\"\n                      }, void 0, false, void 0, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 724,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 723,\n                    columnNumber: 23\n                  }, this) : showApproveFlow ? /*#__PURE__*/_jsxDEV(AutoRow, {\n                    style: {\n                      flexWrap: 'nowrap',\n                      width: '100%'\n                    },\n                    children: /*#__PURE__*/_jsxDEV(AutoColumn, {\n                      style: {\n                        width: '100%'\n                      },\n                      gap: \"12px\",\n                      children: [/*#__PURE__*/_jsxDEV(ButtonConfirmed, {\n                        fontWeight: 600,\n                        onClick: handleApprove,\n                        disabled: approveTokenButtonDisabled,\n                        width: \"100%\",\n                        altDisabledStyle: approvalState === ApprovalState.PENDING // show solid button while waiting\n                        ,\n                        confirmed: approvalState === ApprovalState.APPROVED || signatureState === UseERC20PermitState.SIGNED,\n                        children: /*#__PURE__*/_jsxDEV(AutoRow, {\n                          justify: \"space-between\",\n                          style: {\n                            flexWrap: 'nowrap'\n                          },\n                          height: \"20px\",\n                          children: [approvalState === ApprovalState.APPROVED || signatureState === UseERC20PermitState.SIGNED ? /*#__PURE__*/_jsxDEV(ThemedText.SubHeader, {\n                            width: \"100%\",\n                            textAlign: \"center\",\n                            color: \"textSecondary\",\n                            children: /*#__PURE__*/_jsxDEV(Trans, {\n                              id: \"You can now trade {0}\",\n                              values: {\n                                0: (_currencies$Field$INP2 = currencies[Field.INPUT]) === null || _currencies$Field$INP2 === void 0 ? void 0 : _currencies$Field$INP2.symbol\n                              }\n                            }, void 0, false, void 0, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 745,\n                            columnNumber: 33\n                          }, this) : /*#__PURE__*/_jsxDEV(ThemedText.SubHeader, {\n                            width: \"100%\",\n                            textAlign: \"center\",\n                            color: \"white\",\n                            children: /*#__PURE__*/_jsxDEV(Trans, {\n                              id: \"Allow the Uniswap Protocol to use your {0}\",\n                              values: {\n                                0: (_currencies$Field$INP3 = currencies[Field.INPUT]) === null || _currencies$Field$INP3 === void 0 ? void 0 : _currencies$Field$INP3.symbol\n                              }\n                            }, void 0, false, void 0, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 749,\n                            columnNumber: 33\n                          }, this), approvalPending || approvalState === ApprovalState.PENDING ? /*#__PURE__*/_jsxDEV(Loader, {\n                            stroke: theme.white\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 757,\n                            columnNumber: 33\n                          }, this) : approvalSubmitted && approvalState === ApprovalState.APPROVED || signatureState === UseERC20PermitState.SIGNED ? /*#__PURE__*/_jsxDEV(CheckCircle, {\n                            size: \"20\",\n                            color: theme.accentSuccess\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 760,\n                            columnNumber: 33\n                          }, this) : /*#__PURE__*/_jsxDEV(MouseoverTooltip, {\n                            text: /*#__PURE__*/_jsxDEV(Trans, {\n                              id: \"You must give the Uniswap smart contracts permission to use your {0}. You only have to do this once per token.\",\n                              values: {\n                                0: (_currencies$Field$INP4 = currencies[Field.INPUT]) === null || _currencies$Field$INP4 === void 0 ? void 0 : _currencies$Field$INP4.symbol\n                              }\n                            }, void 0, false, void 0, this),\n                            children: /*#__PURE__*/_jsxDEV(HelpCircle, {\n                              size: \"20\",\n                              color: theme.white,\n                              style: {\n                                marginLeft: '8px'\n                              }\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 770,\n                              columnNumber: 35\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 762,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 741,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 731,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(ButtonError, {\n                        onClick: () => {\n                          if (isExpertMode) {\n                            handleSwap();\n                          } else {\n                            setSwapState({\n                              tradeToConfirm: trade,\n                              attemptingTxn: false,\n                              swapErrorMessage: undefined,\n                              showConfirm: true,\n                              txHash: undefined\n                            });\n                          }\n                        },\n                        width: \"100%\",\n                        id: \"swap-button\",\n                        disabled: !isValid || routeIsSyncing || routeIsLoading || approvalState !== ApprovalState.APPROVED && signatureState !== UseERC20PermitState.SIGNED || priceImpactTooHigh,\n                        error: isValid && priceImpactSeverity > 2,\n                        children: /*#__PURE__*/_jsxDEV(Text, {\n                          fontSize: 16,\n                          fontWeight: 600,\n                          children: priceImpactTooHigh ? /*#__PURE__*/_jsxDEV(Trans, {\n                            id: \"High Price Impact\"\n                          }, void 0, false, void 0, this) : trade && priceImpactSeverity > 2 ? /*#__PURE__*/_jsxDEV(Trans, {\n                            id: \"Swap Anyway\"\n                          }, void 0, false, void 0, this) : /*#__PURE__*/_jsxDEV(Trans, {\n                            id: \"Swap\"\n                          }, void 0, false, void 0, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 801,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 775,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 730,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 729,\n                    columnNumber: 23\n                  }, this) : isValid && (permit.state === PermitState.APPROVAL_OR_PERMIT_NEEDED || permit.state === PermitState.APPROVAL_LOADING) ? /*#__PURE__*/_jsxDEV(ButtonYellow, {\n                    onClick: updatePermit,\n                    disabled: isPermitPending || isApprovalLoading,\n                    style: {\n                      gap: 14\n                    },\n                    children: isPermitPending ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(Loader, {\n                        size: \"20px\",\n                        stroke: theme.accentWarning\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 823,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(ThemedText.SubHeader, {\n                        color: \"accentWarning\",\n                        children: /*#__PURE__*/_jsxDEV(Trans, {\n                          id: \"Approve in your wallet\"\n                        }, void 0, false, void 0, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 824,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true) : isPermitFailed ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(AlertTriangle, {\n                        size: 20,\n                        stroke: theme.accentWarning\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 830,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(ThemedText.SubHeader, {\n                        color: \"accentWarning\",\n                        children: /*#__PURE__*/_jsxDEV(Trans, {\n                          id: \"Approval failed. Try again.\"\n                        }, void 0, false, void 0, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 831,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true) : isApprovalLoading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(Loader, {\n                        size: \"20px\",\n                        stroke: theme.accentWarning\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 837,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(ThemedText.SubHeader, {\n                        color: \"accentWarning\",\n                        children: /*#__PURE__*/_jsxDEV(Trans, {\n                          id: \"Approval pending\"\n                        }, void 0, false, void 0, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 838,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          height: 20\n                        },\n                        children: /*#__PURE__*/_jsxDEV(MouseoverTooltip, {\n                          text: /*#__PURE__*/_jsxDEV(Trans, {\n                            id: \"Permission is required for Uniswap to swap each token. This will expire after one month for your security.\"\n                          }, void 0, false, void 0, this),\n                          children: /*#__PURE__*/_jsxDEV(Info, {\n                            size: 20,\n                            color: theme.accentWarning\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 853,\n                            columnNumber: 33\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 845,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 844,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(ThemedText.SubHeader, {\n                        color: \"accentWarning\",\n                        children: /*#__PURE__*/_jsxDEV(Trans, {\n                          id: \"Approve use of {0}\",\n                          values: {\n                            0: (_currencies$Field$INP5 = currencies[Field.INPUT]) === null || _currencies$Field$INP5 === void 0 ? void 0 : _currencies$Field$INP5.symbol\n                          }\n                        }, void 0, false, void 0, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 856,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 816,\n                    columnNumber: 23\n                  }, this) : /*#__PURE__*/_jsxDEV(ButtonError, {\n                    onClick: () => {\n                      if (isExpertMode) {\n                        handleSwap();\n                      } else {\n                        setSwapState({\n                          tradeToConfirm: trade,\n                          attemptingTxn: false,\n                          swapErrorMessage: undefined,\n                          showConfirm: true,\n                          txHash: undefined\n                        });\n                      }\n                    },\n                    id: \"swap-button\",\n                    disabled: !isValid || routeIsSyncing || routeIsLoading || priceImpactTooHigh || (permit2Enabled ? permit.state === PermitState.LOADING : Boolean(swapCallbackError)),\n                    error: isValid && priceImpactSeverity > 2 && (permit2Enabled || !swapCallbackError),\n                    children: /*#__PURE__*/_jsxDEV(Text, {\n                      fontSize: 20,\n                      fontWeight: 600,\n                      children: swapInputError ? swapInputError : routeIsSyncing || routeIsLoading ? /*#__PURE__*/_jsxDEV(Trans, {\n                        id: \"Swap\"\n                      }, void 0, false, void 0, this) : priceImpactTooHigh ? /*#__PURE__*/_jsxDEV(Trans, {\n                        id: \"Price Impact Too High\"\n                      }, void 0, false, void 0, this) : priceImpactSeverity > 2 ? /*#__PURE__*/_jsxDEV(Trans, {\n                        id: \"Swap Anyway\"\n                      }, void 0, false, void 0, this) : /*#__PURE__*/_jsxDEV(Trans, {\n                        id: \"Swap\"\n                      }, void 0, false, void 0, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 887,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 863,\n                    columnNumber: 23\n                  }, this), isExpertMode && swapErrorMessage ? /*#__PURE__*/_jsxDEV(SwapCallbackError, {\n                    error: swapErrorMessage\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 902,\n                    columnNumber: 57\n                  }, this) : null, /*#__PURE__*/_jsxDEV(NetworkAlert, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 904,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 694,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 641,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 574,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 573,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ChartWrapper, {\n            className: className,\n            children: /*#__PURE__*/_jsxDEV(LiveChart, {\n              onRotateClick: handleRotateClick,\n              currencies: currencies\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 910,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 909,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 572,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 571,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SwitchLocaleLink, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 914,\n        columnNumber: 9\n      }, this), !swapIsUnsupported ? null : /*#__PURE__*/_jsxDEV(UnsupportedCurrencyFooter, {\n        show: swapIsUnsupported,\n        currencies: [currencies[Field.INPUT], currencies[Field.OUTPUT]]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 916,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 561,\n    columnNumber: 5\n  }, this);\n}\n_s(Swap, \"d9eehsRownqpkL+38KCCbFenGy8=\", false, function () {\n  return [useNavigate, useWeb3React, useDefaultsFromURLSearch, useCurrency, useCurrency, useAllTokens, _useTheme, useToggleWalletModal, useExpertModeManager, useSwapState, useDerivedSwapInfo, useWrapCallback, useENSAddress, useStablecoinValue, useStablecoinValue, useSwapActionHandlers, usePermit2Enabled, usePermit, useTransactionAdder, useApproveCallbackFromTrade, useTransactionDeadline, useERC20PermitFromTrade, useSwapCallback, useIsArgentWallet, useIsSwapUnsupported];\n});\n_c3 = Swap;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"LiveChart$lazy\");\n$RefreshReg$(_c2, \"LiveChart\");\n$RefreshReg$(_c3, \"Swap\");","map":{"version":3,"names":["sendAnalyticsEvent","Trace","TraceEvent","BrowserEvent","ElementName","EventName","PageName","SectionName","UNIVERSAL_ROUTER_ADDRESS","useWeb3React","sendEvent","NetworkAlert","PriceImpactWarning","SwapDetailsDropdown","UnsupportedCurrencyFooter","TokenSafetyModal","MouseoverTooltip","isSupportedChain","usePermit2Enabled","usePermit","PermitState","useSwapCallback","useTransactionDeadline","JSBI","formatSwapQuoteReceivedEventProperties","useCallback","useEffect","useMemo","useState","lazy","AlertTriangle","ArrowDown","CheckCircle","HelpCircle","Info","useNavigate","Text","useToggleWalletModal","TradeState","useTransactionAdder","currencyAmountToPreciseFloat","formatTransactionAmount","AddressInputPanel","ButtonConfirmed","ButtonError","ButtonLight","ButtonPrimary","ButtonYellow","GrayCard","AutoColumn","SwapCurrencyInputPanel","Loader","AutoRow","confirmPriceImpactWithoutFee","ConfirmSwapModal","ArrowWrapper","ChartWrapper","PageWrapper","SwapCallbackError","SwapPanel","SwapWrapper","SwapWrapperContent","SwapHeader","SwitchLocaleLink","TOKEN_SHORTHANDS","useAllTokens","useCurrency","ApprovalState","useApproveCallbackFromTrade","useENSAddress","useERC20PermitFromTrade","UseERC20PermitState","useIsArgentWallet","useIsSwapUnsupported","useStablecoinValue","useWrapCallback","WrapErrorText","WrapType","Field","useDefaultsFromURLSearch","useDerivedSwapInfo","useSwapActionHandlers","useSwapState","useExpertModeManager","LinkStyledButton","ThemedText","computeFiatValuePriceImpact","maxAmountSpend","computeRealizedPriceImpact","warningSeverity","supportedChainId","LiveChart","ArrowContainer","styled","div","SwapSection","theme","backgroundModule","textSecondary","stateOverlayHover","stateOverlayPressed","OutputSwapSection","backgroundSurface","showDetailsDropdown","DetailsSwapSection","getIsValidSwapQuote","trade","tradeState","swapInputError","VALID","SYNCING","largerPercentValue","a","b","greaterThan","undefined","TRADE_STRING","Swap","className","navigate","account","chainId","loadedUrlParams","newSwapQuoteNeedsLogging","setNewSwapQuoteNeedsLogging","fetchingSwapQuoteStartTime","setFetchingSwapQuoteStartTime","loadedInputCurrency","loadedOutputCurrency","INPUT","currencyId","OUTPUT","console","log","dismissTokenWarning","setDismissTokenWarning","urlLoadedTokens","filter","c","isToken","handleConfirmTokenWarning","defaultTokens","importTokensNotInDefault","token","address","supported","Object","keys","some","shorthand","shorthandTokenAddress","useTheme","toggleWalletModal","isExpertMode","independentField","typedValue","recipient","state","allowedSlippage","currencyBalances","parsedAmount","currencies","inputError","wrapType","execute","onWrap","wrapInputError","showWrap","NOT_APPLICABLE","recipientAddress","parsedAmounts","inputAmount","outputAmount","routeNotFound","routeIsLoading","routeIsSyncing","swaps","LOADING","fiatValueInput","fiatValueOutput","stablecoinPriceImpact","onSwitchTokens","onCurrencySelection","onUserInput","onChangeRecipient","isValid","dependentField","handleTypeInput","value","handleTypeOutput","handleDismissTokenWarning","showConfirm","tradeToConfirm","swapErrorMessage","attemptingTxn","txHash","setSwapState","formattedAmounts","toExact","userHasSpecifiedInputOutput","Boolean","BigInt","permit2Enabled","maximumAmountIn","currency","permit","isApprovalLoading","APPROVAL_LOADING","isPermitPending","setIsPermitPending","isPermitFailed","setIsPermitFailed","addTransaction","updatePermit","approval","callback","APPROVE_TOKEN_TXN_SUBMITTED","chain_id","token_symbol","symbol","token_address","response","info","e","error","approvalState","approveCallback","transactionDeadline","signatureState","signatureData","gatherPermitSignature","approvalPending","setApprovalPending","handleApprove","NOT_SIGNED","code","category","action","label","join","approvalSubmitted","setApprovalSubmitted","PENDING","handleRotateClick","maxInputAmount","showMaxButton","equalTo","swapCallback","swapCallbackError","handleSwap","then","hash","catch","message","swapQuoteReceivedDate","setSwapQuoteReceivedDate","priceImpactSeverity","largerPriceImpact","marketPriceImpact","priceImpact","isArgentWallet","showApproveFlow","NOT_APPROVED","APPROVED","handleConfirmDismiss","handleAcceptChanges","handleInputSelect","inputCurrency","handleMaxInput","handleOutputSelect","outputCurrency","swapIsUnsupported","priceImpactTooHigh","showPriceImpactWarning","now","Date","SWAP_QUOTE_RECEIVED","gasUseEstimateUSD","approveTokenButtonDisabled","SIGNED","SWAP_PAGE","length","display","CURRENCY_INPUT_PANEL","onClick","SWAP_TOKENS_REVERSED","SWAP_TOKENS_REVERSE_ARROW_BUTTON","textPrimary","textTertiary","CURRENCY_OUTPUT_PANEL","padding","CONNECT_WALLET_BUTTON_CLICKED","received_swap_quote","CONNECT_WALLET_BUTTON","WRAP","UNWRAP","textAlign","flexWrap","width","white","accentSuccess","marginLeft","APPROVAL_OR_PERMIT_NEEDED","gap","accentWarning","height"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/pages/Swap/index.tsx"],"sourcesContent":["import { Trans } from '@lingui/macro'\nimport { sendAnalyticsEvent, Trace, TraceEvent } from '@uniswap/analytics'\nimport { BrowserEvent, ElementName, EventName, PageName, SectionName } from '@uniswap/analytics-events'\nimport { Trade } from '@uniswap/router-sdk'\nimport { Currency, CurrencyAmount, Percent, Token, TradeType } from '@uniswap/sdk-core'\nimport { UNIVERSAL_ROUTER_ADDRESS } from '@uniswap/universal-router-sdk'\nimport { useWeb3React } from '@web3-react/core'\nimport { sendEvent } from 'components/analytics'\nimport { NetworkAlert } from 'components/NetworkAlert/NetworkAlert'\nimport PriceImpactWarning from 'components/swap/PriceImpactWarning'\nimport SwapDetailsDropdown from 'components/swap/SwapDetailsDropdown'\nimport UnsupportedCurrencyFooter from 'components/swap/UnsupportedCurrencyFooter'\nimport TokenSafetyModal from 'components/TokenSafety/TokenSafetyModal'\nimport { MouseoverTooltip } from 'components/Tooltip'\nimport { isSupportedChain } from 'constants/chains'\nimport { usePermit2Enabled } from 'featureFlags/flags/permit2'\nimport usePermit, { PermitState } from 'hooks/usePermit2'\nimport { useSwapCallback } from 'hooks/useSwapCallback'\nimport useTransactionDeadline from 'hooks/useTransactionDeadline'\nimport JSBI from 'jsbi'\nimport { formatSwapQuoteReceivedEventProperties } from 'lib/utils/analytics'\nimport { useCallback, useEffect, useMemo, useState } from 'react'\nimport { lazy, ReactNode } from 'react'\nimport { AlertTriangle, ArrowDown, CheckCircle, HelpCircle, Info } from 'react-feather'\nimport { useNavigate } from 'react-router-dom'\nimport { Text } from 'rebass'\nimport { useToggleWalletModal } from 'state/application/hooks'\nimport { InterfaceTrade } from 'state/routing/types'\nimport { TradeState } from 'state/routing/types'\nimport { useTransactionAdder } from 'state/transactions/hooks'\nimport styled, { useTheme } from 'styled-components/macro'\nimport { currencyAmountToPreciseFloat, formatTransactionAmount } from 'utils/formatNumbers'\n\nimport AddressInputPanel from '../../components/AddressInputPanel'\nimport { ButtonConfirmed, ButtonError, ButtonLight, ButtonPrimary, ButtonYellow } from '../../components/Button'\nimport { GrayCard } from '../../components/Card'\nimport { AutoColumn } from '../../components/Column'\nimport SwapCurrencyInputPanel from '../../components/CurrencyInputPanel/SwapCurrencyInputPanel'\nimport Loader from '../../components/Loader'\nimport { AutoRow } from '../../components/Row'\nimport confirmPriceImpactWithoutFee from '../../components/swap/confirmPriceImpactWithoutFee'\nimport ConfirmSwapModal from '../../components/swap/ConfirmSwapModal'\nimport {\n  ArrowWrapper,\n  ChartWrapper,\n  PageWrapper,\n  SwapCallbackError,\n  SwapPanel,\n  SwapWrapper,\n  SwapWrapperContent,\n} from '../../components/swap/styleds'\nimport SwapHeader from '../../components/swap/SwapHeader'\nimport { SwitchLocaleLink } from '../../components/SwitchLocaleLink'\nimport { TOKEN_SHORTHANDS } from '../../constants/tokens'\nimport { useAllTokens, useCurrency } from '../../hooks/Tokens'\nimport { ApprovalState, useApproveCallbackFromTrade } from '../../hooks/useApproveCallback'\nimport useENSAddress from '../../hooks/useENSAddress'\nimport { useERC20PermitFromTrade, UseERC20PermitState } from '../../hooks/useERC20Permit'\nimport useIsArgentWallet from '../../hooks/useIsArgentWallet'\nimport { useIsSwapUnsupported } from '../../hooks/useIsSwapUnsupported'\nimport { useStablecoinValue } from '../../hooks/useStablecoinPrice'\nimport useWrapCallback, { WrapErrorText, WrapType } from '../../hooks/useWrapCallback'\nimport { Field } from '../../state/swap/actions'\nimport {\n  useDefaultsFromURLSearch,\n  useDerivedSwapInfo,\n  useSwapActionHandlers,\n  useSwapState,\n} from '../../state/swap/hooks'\nimport { useExpertModeManager } from '../../state/user/hooks'\nimport { LinkStyledButton, ThemedText } from '../../theme'\nimport { computeFiatValuePriceImpact } from '../../utils/computeFiatValuePriceImpact'\nimport { maxAmountSpend } from '../../utils/maxAmountSpend'\nimport { computeRealizedPriceImpact, warningSeverity } from '../../utils/prices'\nimport { supportedChainId } from '../../utils/supportedChainId'\n\nconst LiveChart = lazy(() => import('components/LiveChart'))\n\nconst ArrowContainer = styled.div`\n  display: inline-block;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n\n  width: 100%;\n  height: 100%;\n`\n\nconst SwapSection = styled.div`\n  position: relative;\n  background-color: ${({ theme }) => theme.backgroundModule};\n  border-radius: 12px;\n  padding: 16px;\n  color: ${({ theme }) => theme.textSecondary};\n  font-size: 14px;\n  line-height: 20px;\n  font-weight: 500;\n\n  &:before {\n    box-sizing: border-box;\n    background-size: 100%;\n    border-radius: inherit;\n\n    position: absolute;\n    top: 0;\n    left: 0;\n\n    width: 100%;\n    height: 100%;\n    pointer-events: none;\n    content: '';\n    border: 1px solid ${({ theme }) => theme.backgroundModule};\n  }\n\n  &:hover:before {\n    border-color: ${({ theme }) => theme.stateOverlayHover};\n  }\n\n  &:focus-within:before {\n    border-color: ${({ theme }) => theme.stateOverlayPressed};\n  }\n`\n\nconst OutputSwapSection = styled(SwapSection)<{ showDetailsDropdown: boolean }>`\n  border-bottom: ${({ theme }) => `1px solid ${theme.backgroundSurface}`};\n  border-bottom-left-radius: ${({ showDetailsDropdown }) => showDetailsDropdown && '0'};\n  border-bottom-right-radius: ${({ showDetailsDropdown }) => showDetailsDropdown && '0'};\n`\n\nconst DetailsSwapSection = styled(SwapSection)`\n  padding: 0;\n  border-top-left-radius: 0;\n  border-top-right-radius: 0;\n`\n\nexport function getIsValidSwapQuote(\n  trade: InterfaceTrade<Currency, Currency, TradeType> | undefined,\n  tradeState: TradeState,\n  swapInputError?: ReactNode\n): boolean {\n  return !!swapInputError && !!trade && (tradeState === TradeState.VALID || tradeState === TradeState.SYNCING)\n}\n\nfunction largerPercentValue(a?: Percent, b?: Percent) {\n  if (a && b) {\n    return a.greaterThan(b) ? a : b\n  } else if (a) {\n    return a\n  } else if (b) {\n    return b\n  }\n  return undefined\n}\n\nconst TRADE_STRING = 'SwapRouter'\n\nexport default function Swap({ className }: { className?: string }) {\n  const navigate = useNavigate()\n  const { account, chainId } = useWeb3React()\n  const loadedUrlParams = useDefaultsFromURLSearch()\n  const [newSwapQuoteNeedsLogging, setNewSwapQuoteNeedsLogging] = useState(true)\n  const [fetchingSwapQuoteStartTime, setFetchingSwapQuoteStartTime] = useState<Date | undefined>()\n\n  // token warning stuff\n  const [loadedInputCurrency, loadedOutputCurrency] = [\n    useCurrency(loadedUrlParams?.[Field.INPUT]?.currencyId),\n    useCurrency(loadedUrlParams?.[Field.OUTPUT]?.currencyId),\n  ]\n\n  console.log('loadedOutputCurrency', { loadedOutputCurrency, loadedInputCurrency })\n\n  const [dismissTokenWarning, setDismissTokenWarning] = useState<boolean>(false)\n  const urlLoadedTokens: Token[] = useMemo(\n    () => [loadedInputCurrency, loadedOutputCurrency]?.filter((c): c is Token => c?.isToken ?? false) ?? [],\n    [loadedInputCurrency, loadedOutputCurrency]\n  )\n  const handleConfirmTokenWarning = useCallback(() => {\n    setDismissTokenWarning(true)\n  }, [])\n\n  // dismiss warning if all imported tokens are in active lists\n  const defaultTokens = useAllTokens()\n  const importTokensNotInDefault = useMemo(\n    () =>\n      urlLoadedTokens &&\n      urlLoadedTokens\n        .filter((token: Token) => {\n          return !(token.address in defaultTokens)\n        })\n        .filter((token: Token) => {\n          // Any token addresses that are loaded from the shorthands map do not need to show the import URL\n          const supported = supportedChainId(chainId)\n          if (!supported) return true\n          return !Object.keys(TOKEN_SHORTHANDS).some((shorthand) => {\n            const shorthandTokenAddress = TOKEN_SHORTHANDS[shorthand][supported]\n            return shorthandTokenAddress && shorthandTokenAddress === token.address\n          })\n        }),\n    [chainId, defaultTokens, urlLoadedTokens]\n  )\n\n  const theme = useTheme()\n\n  // toggle wallet when disconnected\n  const toggleWalletModal = useToggleWalletModal()\n\n  // for expert mode\n  const [isExpertMode] = useExpertModeManager()\n  // swap state\n  const { independentField, typedValue, recipient } = useSwapState()\n  const {\n    trade: { state: tradeState, trade },\n    allowedSlippage,\n    currencyBalances,\n    parsedAmount,\n    currencies,\n    inputError: swapInputError,\n  } = useDerivedSwapInfo()\n\n  const {\n    wrapType,\n    execute: onWrap,\n    inputError: wrapInputError,\n  } = useWrapCallback(currencies[Field.INPUT], currencies[Field.OUTPUT], typedValue)\n  const showWrap: boolean = wrapType !== WrapType.NOT_APPLICABLE\n  const { address: recipientAddress } = useENSAddress(recipient)\n\n  const parsedAmounts = useMemo(\n    () =>\n      showWrap\n        ? {\n            [Field.INPUT]: parsedAmount,\n            [Field.OUTPUT]: parsedAmount,\n          }\n        : {\n            [Field.INPUT]: independentField === Field.INPUT ? parsedAmount : trade?.inputAmount,\n            [Field.OUTPUT]: independentField === Field.OUTPUT ? parsedAmount : trade?.outputAmount,\n          },\n    [independentField, parsedAmount, showWrap, trade]\n  )\n\n  const [routeNotFound, routeIsLoading, routeIsSyncing] = useMemo(\n    () => [!trade?.swaps, TradeState.LOADING === tradeState, TradeState.SYNCING === tradeState],\n    [trade, tradeState]\n  )\n\n  const fiatValueInput = useStablecoinValue(parsedAmounts[Field.INPUT])\n  const fiatValueOutput = useStablecoinValue(parsedAmounts[Field.OUTPUT])\n  const stablecoinPriceImpact = useMemo(\n    () => (routeIsSyncing ? undefined : computeFiatValuePriceImpact(fiatValueInput, fiatValueOutput)),\n    [fiatValueInput, fiatValueOutput, routeIsSyncing]\n  )\n\n  const { onSwitchTokens, onCurrencySelection, onUserInput, onChangeRecipient } = useSwapActionHandlers()\n  const isValid = !swapInputError\n  const dependentField: Field = independentField === Field.INPUT ? Field.OUTPUT : Field.INPUT\n\n  const handleTypeInput = useCallback(\n    (value: string) => {\n      onUserInput(Field.INPUT, value)\n    },\n    [onUserInput]\n  )\n  const handleTypeOutput = useCallback(\n    (value: string) => {\n      onUserInput(Field.OUTPUT, value)\n    },\n    [onUserInput]\n  )\n\n  // reset if they close warning without tokens in params\n  const handleDismissTokenWarning = useCallback(() => {\n    setDismissTokenWarning(true)\n    navigate('/swap/')\n  }, [navigate])\n\n  // modal and loading\n  const [{ showConfirm, tradeToConfirm, swapErrorMessage, attemptingTxn, txHash }, setSwapState] = useState<{\n    showConfirm: boolean\n    tradeToConfirm: Trade<Currency, Currency, TradeType> | undefined\n    attemptingTxn: boolean\n    swapErrorMessage: string | undefined\n    txHash: string | undefined\n  }>({\n    showConfirm: false,\n    tradeToConfirm: undefined,\n    attemptingTxn: false,\n    swapErrorMessage: undefined,\n    txHash: undefined,\n  })\n\n  const formattedAmounts = useMemo(\n    () => ({\n      [independentField]: typedValue,\n      [dependentField]: showWrap\n        ? parsedAmounts[independentField]?.toExact() ?? ''\n        : formatTransactionAmount(currencyAmountToPreciseFloat(parsedAmounts[dependentField])),\n    }),\n    [dependentField, independentField, parsedAmounts, showWrap, typedValue]\n  )\n\n  const userHasSpecifiedInputOutput = Boolean(\n    currencies[Field.INPUT] && currencies[Field.OUTPUT] && parsedAmounts[independentField]?.greaterThan(JSBI.BigInt(0))\n  )\n\n  const permit2Enabled = usePermit2Enabled()\n  const maximumAmountIn = useMemo(() => {\n    const maximumAmountIn = trade?.maximumAmountIn(allowedSlippage)\n    return maximumAmountIn?.currency.isToken ? (maximumAmountIn as CurrencyAmount<Token>) : undefined\n  }, [allowedSlippage, trade])\n  const permit = usePermit(\n    permit2Enabled ? maximumAmountIn : undefined,\n    permit2Enabled && chainId ? UNIVERSAL_ROUTER_ADDRESS(chainId) : undefined\n  )\n  const isApprovalLoading = permit.state === PermitState.APPROVAL_LOADING\n  const [isPermitPending, setIsPermitPending] = useState(false)\n  const [isPermitFailed, setIsPermitFailed] = useState(false)\n  const addTransaction = useTransactionAdder()\n  const updatePermit = useCallback(async () => {\n    setIsPermitPending(true)\n    try {\n      const approval = await permit.callback?.()\n      if (approval) {\n        sendAnalyticsEvent(EventName.APPROVE_TOKEN_TXN_SUBMITTED, {\n          chain_id: chainId,\n          token_symbol: maximumAmountIn?.currency.symbol,\n          token_address: maximumAmountIn?.currency.address,\n        })\n\n        const { response, info } = approval\n        addTransaction(response, info)\n      }\n      setIsPermitFailed(false)\n    } catch (e) {\n      console.error(e)\n      setIsPermitFailed(true)\n    } finally {\n      setIsPermitPending(false)\n    }\n  }, [addTransaction, chainId, maximumAmountIn?.currency.address, maximumAmountIn?.currency.symbol, permit])\n\n  // check whether the user has approved the router on the input token\n  const [approvalState, approveCallback] = useApproveCallbackFromTrade(\n    permit2Enabled ? undefined : trade,\n    allowedSlippage\n  )\n  const transactionDeadline = useTransactionDeadline()\n  const {\n    state: signatureState,\n    signatureData,\n    gatherPermitSignature,\n  } = useERC20PermitFromTrade(permit2Enabled ? undefined : trade, allowedSlippage, transactionDeadline)\n\n  const [approvalPending, setApprovalPending] = useState<boolean>(false)\n  const handleApprove = useCallback(async () => {\n    setApprovalPending(true)\n    try {\n      if (signatureState === UseERC20PermitState.NOT_SIGNED && gatherPermitSignature) {\n        try {\n          await gatherPermitSignature()\n        } catch (error) {\n          // try to approve if gatherPermitSignature failed for any reason other than the user rejecting it\n          if (error?.code !== 4001) {\n            await approveCallback()\n          }\n        }\n      } else {\n        await approveCallback()\n\n        sendEvent({\n          category: 'Swap',\n          action: 'Approve',\n          label: [TRADE_STRING, trade?.inputAmount?.currency.symbol].join('/'),\n        })\n      }\n    } finally {\n      setApprovalPending(false)\n    }\n  }, [signatureState, gatherPermitSignature, approveCallback, trade?.inputAmount?.currency.symbol])\n\n  // check if user has gone through approval process, used to show two step buttons, reset on token change\n  const [approvalSubmitted, setApprovalSubmitted] = useState<boolean>(false)\n\n  // mark when a user has submitted an approval, reset onTokenSelection for input field\n  useEffect(() => {\n    if (approvalState === ApprovalState.PENDING) {\n      setApprovalSubmitted(true)\n    }\n  }, [approvalState, approvalSubmitted])\n\n  const handleRotateClick = useCallback(() => {\n    setApprovalSubmitted(false) // reset 2 step UI for approvals\n    onSwitchTokens()\n  }, [onSwitchTokens])\n  const maxInputAmount: CurrencyAmount<Currency> | undefined = useMemo(\n    () => maxAmountSpend(currencyBalances[Field.INPUT]),\n    [currencyBalances]\n  )\n  const showMaxButton = Boolean(maxInputAmount?.greaterThan(0) && !parsedAmounts[Field.INPUT]?.equalTo(maxInputAmount))\n\n  // the callback to execute the swap\n  const { callback: swapCallback, error: swapCallbackError } = useSwapCallback(\n    trade,\n    allowedSlippage,\n    recipient,\n    signatureData,\n    permit\n  )\n\n  const handleSwap = useCallback(() => {\n    if (!swapCallback) {\n      return\n    }\n    if (stablecoinPriceImpact && !confirmPriceImpactWithoutFee(stablecoinPriceImpact)) {\n      return\n    }\n    setSwapState({ attemptingTxn: true, tradeToConfirm, showConfirm, swapErrorMessage: undefined, txHash: undefined })\n    swapCallback()\n      .then((hash) => {\n        setSwapState({ attemptingTxn: false, tradeToConfirm, showConfirm, swapErrorMessage: undefined, txHash: hash })\n        sendEvent({\n          category: 'Swap',\n          action: 'transaction hash',\n          label: hash,\n        })\n        sendEvent({\n          category: 'Swap',\n          action:\n            recipient === null\n              ? 'Swap w/o Send'\n              : (recipientAddress ?? recipient) === account\n              ? 'Swap w/o Send + recipient'\n              : 'Swap w/ Send',\n          label: [TRADE_STRING, trade?.inputAmount?.currency?.symbol, trade?.outputAmount?.currency?.symbol, 'MH'].join(\n            '/'\n          ),\n        })\n      })\n      .catch((error) => {\n        setSwapState({\n          attemptingTxn: false,\n          tradeToConfirm,\n          showConfirm,\n          swapErrorMessage: error.message,\n          txHash: undefined,\n        })\n      })\n  }, [\n    swapCallback,\n    stablecoinPriceImpact,\n    tradeToConfirm,\n    showConfirm,\n    recipient,\n    recipientAddress,\n    account,\n    trade?.inputAmount?.currency?.symbol,\n    trade?.outputAmount?.currency?.symbol,\n  ])\n\n  // errors\n  const [swapQuoteReceivedDate, setSwapQuoteReceivedDate] = useState<Date | undefined>()\n\n  // warnings on the greater of fiat value price impact and execution price impact\n  const { priceImpactSeverity, largerPriceImpact } = useMemo(() => {\n    const marketPriceImpact = trade?.priceImpact ? computeRealizedPriceImpact(trade) : undefined\n    const largerPriceImpact = largerPercentValue(marketPriceImpact, stablecoinPriceImpact)\n    return { priceImpactSeverity: warningSeverity(largerPriceImpact), largerPriceImpact }\n  }, [stablecoinPriceImpact, trade])\n\n  const isArgentWallet = useIsArgentWallet()\n\n  // show approve flow when: no error on inputs, not approved or pending, or approved in current session\n  // never show if price impact is above threshold in non expert mode\n  const showApproveFlow =\n    !permit2Enabled &&\n    !isArgentWallet &&\n    !swapInputError &&\n    (approvalState === ApprovalState.NOT_APPROVED ||\n      approvalState === ApprovalState.PENDING ||\n      (approvalSubmitted && approvalState === ApprovalState.APPROVED)) &&\n    !(priceImpactSeverity > 3 && !isExpertMode)\n\n  const handleConfirmDismiss = useCallback(() => {\n    setSwapState({ showConfirm: false, tradeToConfirm, attemptingTxn, swapErrorMessage, txHash })\n    // if there was a tx hash, we want to clear the input\n    if (txHash) {\n      onUserInput(Field.INPUT, '')\n    }\n  }, [attemptingTxn, onUserInput, swapErrorMessage, tradeToConfirm, txHash])\n\n  const handleAcceptChanges = useCallback(() => {\n    setSwapState({ tradeToConfirm: trade, swapErrorMessage, txHash, attemptingTxn, showConfirm })\n  }, [attemptingTxn, showConfirm, swapErrorMessage, trade, txHash])\n\n  const handleInputSelect = useCallback(\n    (inputCurrency: Currency) => {\n      setApprovalSubmitted(false) // reset 2 step UI for approvals\n      onCurrencySelection(Field.INPUT, inputCurrency)\n    },\n    [onCurrencySelection]\n  )\n\n  const handleMaxInput = useCallback(() => {\n    maxInputAmount && onUserInput(Field.INPUT, maxInputAmount.toExact())\n    sendEvent({\n      category: 'Swap',\n      action: 'Max',\n    })\n  }, [maxInputAmount, onUserInput])\n\n  const handleOutputSelect = useCallback(\n    (outputCurrency: Currency) => onCurrencySelection(Field.OUTPUT, outputCurrency),\n    [onCurrencySelection]\n  )\n\n  const swapIsUnsupported = useIsSwapUnsupported(currencies[Field.INPUT], currencies[Field.OUTPUT])\n\n  const priceImpactTooHigh = priceImpactSeverity > 3 && !isExpertMode\n  const showPriceImpactWarning = largerPriceImpact && priceImpactSeverity > 3\n\n  // Handle time based logging events and event properties.\n  useEffect(() => {\n    const now = new Date()\n    // If a trade exists, and we need to log the receipt of this new swap quote:\n    if (newSwapQuoteNeedsLogging && !!trade) {\n      // Set the current datetime as the time of receipt of latest swap quote.\n      setSwapQuoteReceivedDate(now)\n      // Log swap quote.\n      sendAnalyticsEvent(\n        EventName.SWAP_QUOTE_RECEIVED,\n        formatSwapQuoteReceivedEventProperties(trade, trade.gasUseEstimateUSD ?? undefined, fetchingSwapQuoteStartTime)\n      )\n      // Latest swap quote has just been logged, so we don't need to log the current trade anymore\n      // unless user inputs change again and a new trade is in the process of being generated.\n      setNewSwapQuoteNeedsLogging(false)\n      // New quote is not being fetched, so set start time of quote fetch to undefined.\n      setFetchingSwapQuoteStartTime(undefined)\n    }\n    // If another swap quote is being loaded based on changed user inputs:\n    if (routeIsLoading) {\n      setNewSwapQuoteNeedsLogging(true)\n      if (!fetchingSwapQuoteStartTime) setFetchingSwapQuoteStartTime(now)\n    }\n  }, [\n    newSwapQuoteNeedsLogging,\n    routeIsSyncing,\n    routeIsLoading,\n    fetchingSwapQuoteStartTime,\n    trade,\n    setSwapQuoteReceivedDate,\n  ])\n\n  const approveTokenButtonDisabled =\n    approvalState !== ApprovalState.NOT_APPROVED || approvalSubmitted || signatureState === UseERC20PermitState.SIGNED\n\n  const showDetailsDropdown = Boolean(\n    !showWrap && userHasSpecifiedInputOutput && (trade || routeIsLoading || routeIsSyncing)\n  )\n\n  return (\n    <Trace page={PageName.SWAP_PAGE} shouldLogImpression>\n      <>\n        <TokenSafetyModal\n          isOpen={importTokensNotInDefault.length > 0 && !dismissTokenWarning}\n          tokenAddress={importTokensNotInDefault[0]?.address}\n          secondTokenAddress={importTokensNotInDefault[1]?.address}\n          onContinue={handleConfirmTokenWarning}\n          onCancel={handleDismissTokenWarning}\n          showCancel={true}\n        />\n        <PageWrapper>\n          <SwapPanel>\n            <SwapWrapper className={className} id=\"swap-page\">\n              <SwapWrapperContent>\n                <SwapHeader allowedSlippage={allowedSlippage} />\n                <ConfirmSwapModal\n                  isOpen={showConfirm}\n                  trade={trade}\n                  originalTrade={tradeToConfirm}\n                  onAcceptChanges={handleAcceptChanges}\n                  attemptingTxn={attemptingTxn}\n                  txHash={txHash}\n                  recipient={recipient}\n                  allowedSlippage={allowedSlippage}\n                  onConfirm={handleSwap}\n                  swapErrorMessage={swapErrorMessage}\n                  onDismiss={handleConfirmDismiss}\n                  swapQuoteReceivedDate={swapQuoteReceivedDate}\n                  fiatValueInput={fiatValueInput}\n                  fiatValueOutput={fiatValueOutput}\n                />\n\n                <div style={{ display: 'relative' }}>\n                  <SwapSection>\n                    <Trace section={SectionName.CURRENCY_INPUT_PANEL}>\n                      <SwapCurrencyInputPanel\n                        label={\n                          independentField === Field.OUTPUT && !showWrap ? (\n                            <Trans>From (at most)</Trans>\n                          ) : (\n                            <Trans>From</Trans>\n                          )\n                        }\n                        value={formattedAmounts[Field.INPUT]}\n                        showMaxButton={showMaxButton}\n                        currency={currencies[Field.INPUT] ?? null}\n                        onUserInput={handleTypeInput}\n                        onMax={handleMaxInput}\n                        fiatValue={fiatValueInput ?? undefined}\n                        onCurrencySelect={handleInputSelect}\n                        otherCurrency={currencies[Field.OUTPUT]}\n                        showCommonBases={true}\n                        id={SectionName.CURRENCY_INPUT_PANEL}\n                        loading={independentField === Field.OUTPUT && routeIsSyncing}\n                      />\n                    </Trace>\n                  </SwapSection>\n                  <ArrowWrapper clickable={isSupportedChain(chainId)}>\n                    <TraceEvent\n                      events={[BrowserEvent.onClick]}\n                      name={EventName.SWAP_TOKENS_REVERSED}\n                      element={ElementName.SWAP_TOKENS_REVERSE_ARROW_BUTTON}\n                    >\n                      <ArrowContainer\n                        onClick={() => {\n                          setApprovalSubmitted(false) // reset 2 step UI for approvals\n                          onSwitchTokens()\n                        }}\n                        color={theme.textPrimary}\n                      >\n                        <ArrowDown\n                          size=\"16\"\n                          color={\n                            currencies[Field.INPUT] && currencies[Field.OUTPUT] ? theme.textPrimary : theme.textTertiary\n                          }\n                        />\n                      </ArrowContainer>\n                    </TraceEvent>\n                  </ArrowWrapper>\n                </div>\n                <AutoColumn gap=\"md\">\n                  <div>\n                    <OutputSwapSection showDetailsDropdown={showDetailsDropdown}>\n                      <Trace section={SectionName.CURRENCY_OUTPUT_PANEL}>\n                        <SwapCurrencyInputPanel\n                          value={formattedAmounts[Field.OUTPUT]}\n                          onUserInput={handleTypeOutput}\n                          label={\n                            independentField === Field.INPUT && !showWrap ? (\n                              <Trans>To (at least)</Trans>\n                            ) : (\n                              <Trans>To</Trans>\n                            )\n                          }\n                          showMaxButton={false}\n                          hideBalance={false}\n                          fiatValue={fiatValueOutput ?? undefined}\n                          priceImpact={stablecoinPriceImpact}\n                          currency={currencies[Field.OUTPUT] ?? null}\n                          onCurrencySelect={handleOutputSelect}\n                          otherCurrency={currencies[Field.INPUT]}\n                          showCommonBases={true}\n                          id={SectionName.CURRENCY_OUTPUT_PANEL}\n                          loading={independentField === Field.INPUT && routeIsSyncing}\n                        />\n                      </Trace>\n\n                      {recipient !== null && !showWrap ? (\n                        <>\n                          <AutoRow justify=\"space-between\" style={{ padding: '0 1rem' }}>\n                            <ArrowWrapper clickable={false}>\n                              <ArrowDown size=\"16\" color={theme.textSecondary} />\n                            </ArrowWrapper>\n                            <LinkStyledButton id=\"remove-recipient-button\" onClick={() => onChangeRecipient(null)}>\n                              <Trans>- Remove recipient</Trans>\n                            </LinkStyledButton>\n                          </AutoRow>\n                          <AddressInputPanel id=\"recipient\" value={recipient} onChange={onChangeRecipient} />\n                        </>\n                      ) : null}\n                    </OutputSwapSection>\n                    {showDetailsDropdown && (\n                      <DetailsSwapSection>\n                        <SwapDetailsDropdown\n                          trade={trade}\n                          syncing={routeIsSyncing}\n                          loading={routeIsLoading}\n                          allowedSlippage={allowedSlippage}\n                        />\n                      </DetailsSwapSection>\n                    )}\n                  </div>\n                  {showPriceImpactWarning && <PriceImpactWarning priceImpact={largerPriceImpact} />}\n                  <div>\n                    {swapIsUnsupported ? (\n                      <ButtonPrimary disabled={true}>\n                        <ThemedText.DeprecatedMain mb=\"4px\">\n                          <Trans>Unsupported Asset</Trans>\n                        </ThemedText.DeprecatedMain>\n                      </ButtonPrimary>\n                    ) : !account ? (\n                      <TraceEvent\n                        events={[BrowserEvent.onClick]}\n                        name={EventName.CONNECT_WALLET_BUTTON_CLICKED}\n                        properties={{ received_swap_quote: getIsValidSwapQuote(trade, tradeState, swapInputError) }}\n                        element={ElementName.CONNECT_WALLET_BUTTON}\n                      >\n                        <ButtonLight onClick={toggleWalletModal} fontWeight={600}>\n                          <Trans>Connect Wallet</Trans>\n                        </ButtonLight>\n                      </TraceEvent>\n                    ) : showWrap ? (\n                      <ButtonPrimary disabled={Boolean(wrapInputError)} onClick={onWrap} fontWeight={600}>\n                        {wrapInputError ? (\n                          <WrapErrorText wrapInputError={wrapInputError} />\n                        ) : wrapType === WrapType.WRAP ? (\n                          <Trans>Wrap</Trans>\n                        ) : wrapType === WrapType.UNWRAP ? (\n                          <Trans>Unwrap</Trans>\n                        ) : null}\n                      </ButtonPrimary>\n                    ) : routeNotFound && userHasSpecifiedInputOutput && !routeIsLoading && !routeIsSyncing ? (\n                      <GrayCard style={{ textAlign: 'center' }}>\n                        <ThemedText.DeprecatedMain mb=\"4px\">\n                          <Trans>Insufficient liquidity for this trade.</Trans>\n                        </ThemedText.DeprecatedMain>\n                      </GrayCard>\n                    ) : showApproveFlow ? (\n                      <AutoRow style={{ flexWrap: 'nowrap', width: '100%' }}>\n                        <AutoColumn style={{ width: '100%' }} gap=\"12px\">\n                          <ButtonConfirmed\n                            fontWeight={600}\n                            onClick={handleApprove}\n                            disabled={approveTokenButtonDisabled}\n                            width=\"100%\"\n                            altDisabledStyle={approvalState === ApprovalState.PENDING} // show solid button while waiting\n                            confirmed={\n                              approvalState === ApprovalState.APPROVED || signatureState === UseERC20PermitState.SIGNED\n                            }\n                          >\n                            <AutoRow justify=\"space-between\" style={{ flexWrap: 'nowrap' }} height=\"20px\">\n                              {/* we need to shorten this string on mobile */}\n                              {approvalState === ApprovalState.APPROVED ||\n                              signatureState === UseERC20PermitState.SIGNED ? (\n                                <ThemedText.SubHeader width=\"100%\" textAlign=\"center\" color=\"textSecondary\">\n                                  <Trans>You can now trade {currencies[Field.INPUT]?.symbol}</Trans>\n                                </ThemedText.SubHeader>\n                              ) : (\n                                <ThemedText.SubHeader width=\"100%\" textAlign=\"center\" color=\"white\">\n                                  <Trans>\n                                    Allow the Uniswap Protocol to use your {currencies[Field.INPUT]?.symbol}\n                                  </Trans>\n                                </ThemedText.SubHeader>\n                              )}\n\n                              {approvalPending || approvalState === ApprovalState.PENDING ? (\n                                <Loader stroke={theme.white} />\n                              ) : (approvalSubmitted && approvalState === ApprovalState.APPROVED) ||\n                                signatureState === UseERC20PermitState.SIGNED ? (\n                                <CheckCircle size=\"20\" color={theme.accentSuccess} />\n                              ) : (\n                                <MouseoverTooltip\n                                  text={\n                                    <Trans>\n                                      You must give the Uniswap smart contracts permission to use your{' '}\n                                      {currencies[Field.INPUT]?.symbol}. You only have to do this once per token.\n                                    </Trans>\n                                  }\n                                >\n                                  <HelpCircle size=\"20\" color={theme.white} style={{ marginLeft: '8px' }} />\n                                </MouseoverTooltip>\n                              )}\n                            </AutoRow>\n                          </ButtonConfirmed>\n                          <ButtonError\n                            onClick={() => {\n                              if (isExpertMode) {\n                                handleSwap()\n                              } else {\n                                setSwapState({\n                                  tradeToConfirm: trade,\n                                  attemptingTxn: false,\n                                  swapErrorMessage: undefined,\n                                  showConfirm: true,\n                                  txHash: undefined,\n                                })\n                              }\n                            }}\n                            width=\"100%\"\n                            id=\"swap-button\"\n                            disabled={\n                              !isValid ||\n                              routeIsSyncing ||\n                              routeIsLoading ||\n                              (approvalState !== ApprovalState.APPROVED &&\n                                signatureState !== UseERC20PermitState.SIGNED) ||\n                              priceImpactTooHigh\n                            }\n                            error={isValid && priceImpactSeverity > 2}\n                          >\n                            <Text fontSize={16} fontWeight={600}>\n                              {priceImpactTooHigh ? (\n                                <Trans>High Price Impact</Trans>\n                              ) : trade && priceImpactSeverity > 2 ? (\n                                <Trans>Swap Anyway</Trans>\n                              ) : (\n                                <Trans>Swap</Trans>\n                              )}\n                            </Text>\n                          </ButtonError>\n                        </AutoColumn>\n                      </AutoRow>\n                    ) : isValid &&\n                      (permit.state === PermitState.APPROVAL_OR_PERMIT_NEEDED ||\n                        permit.state === PermitState.APPROVAL_LOADING) ? (\n                      <ButtonYellow\n                        onClick={updatePermit}\n                        disabled={isPermitPending || isApprovalLoading}\n                        style={{ gap: 14 }}\n                      >\n                        {isPermitPending ? (\n                          <>\n                            <Loader size=\"20px\" stroke={theme.accentWarning} />\n                            <ThemedText.SubHeader color=\"accentWarning\">\n                              <Trans>Approve in your wallet</Trans>\n                            </ThemedText.SubHeader>\n                          </>\n                        ) : isPermitFailed ? (\n                          <>\n                            <AlertTriangle size={20} stroke={theme.accentWarning} />\n                            <ThemedText.SubHeader color=\"accentWarning\">\n                              <Trans>Approval failed. Try again.</Trans>\n                            </ThemedText.SubHeader>\n                          </>\n                        ) : isApprovalLoading ? (\n                          <>\n                            <Loader size=\"20px\" stroke={theme.accentWarning} />\n                            <ThemedText.SubHeader color=\"accentWarning\">\n                              <Trans>Approval pending</Trans>\n                            </ThemedText.SubHeader>\n                          </>\n                        ) : (\n                          <>\n                            <div style={{ height: 20 }}>\n                              <MouseoverTooltip\n                                text={\n                                  <Trans>\n                                    Permission is required for Uniswap to swap each token. This will expire after one\n                                    month for your security.\n                                  </Trans>\n                                }\n                              >\n                                <Info size={20} color={theme.accentWarning} />\n                              </MouseoverTooltip>\n                            </div>\n                            <ThemedText.SubHeader color=\"accentWarning\">\n                              <Trans>Approve use of {currencies[Field.INPUT]?.symbol}</Trans>\n                            </ThemedText.SubHeader>\n                          </>\n                        )}\n                      </ButtonYellow>\n                    ) : (\n                      <ButtonError\n                        onClick={() => {\n                          if (isExpertMode) {\n                            handleSwap()\n                          } else {\n                            setSwapState({\n                              tradeToConfirm: trade,\n                              attemptingTxn: false,\n                              swapErrorMessage: undefined,\n                              showConfirm: true,\n                              txHash: undefined,\n                            })\n                          }\n                        }}\n                        id=\"swap-button\"\n                        disabled={\n                          !isValid ||\n                          routeIsSyncing ||\n                          routeIsLoading ||\n                          priceImpactTooHigh ||\n                          (permit2Enabled ? permit.state === PermitState.LOADING : Boolean(swapCallbackError))\n                        }\n                        error={isValid && priceImpactSeverity > 2 && (permit2Enabled || !swapCallbackError)}\n                      >\n                        <Text fontSize={20} fontWeight={600}>\n                          {swapInputError ? (\n                            swapInputError\n                          ) : routeIsSyncing || routeIsLoading ? (\n                            <Trans>Swap</Trans>\n                          ) : priceImpactTooHigh ? (\n                            <Trans>Price Impact Too High</Trans>\n                          ) : priceImpactSeverity > 2 ? (\n                            <Trans>Swap Anyway</Trans>\n                          ) : (\n                            <Trans>Swap</Trans>\n                          )}\n                        </Text>\n                      </ButtonError>\n                    )}\n                    {isExpertMode && swapErrorMessage ? <SwapCallbackError error={swapErrorMessage} /> : null}\n\n                    <NetworkAlert />\n                  </div>\n                </AutoColumn>\n              </SwapWrapperContent>\n            </SwapWrapper>\n            <ChartWrapper className={className}>\n              <LiveChart onRotateClick={handleRotateClick} currencies={currencies} />\n            </ChartWrapper>\n          </SwapPanel>\n        </PageWrapper>\n        <SwitchLocaleLink />\n        {!swapIsUnsupported ? null : (\n          <UnsupportedCurrencyFooter\n            show={swapIsUnsupported}\n            currencies={[currencies[Field.INPUT], currencies[Field.OUTPUT]]}\n          />\n        )}\n      </>\n    </Trace>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}