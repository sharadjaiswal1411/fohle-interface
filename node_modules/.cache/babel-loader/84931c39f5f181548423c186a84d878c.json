{"ast":null,"code":"import _toConsumableArray from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectSpread from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{i18n}from\"@lingui/core\";import{defaultAbiCoder,Interface}from'@ethersproject/abi';import{isAddress}from'@ethersproject/address';import{toUtf8String,Utf8ErrorFuncs,Utf8ErrorReason}from'@ethersproject/strings';// eslint-disable-next-line no-restricted-imports\nimport{abi as GOVERNANCE_ABI}from'@uniswap/governance/build/GovernorAlpha.json';import{abi as UNI_ABI}from'@uniswap/governance/build/Uni.json';import{CurrencyAmount}from'@uniswap/sdk-core';import{useWeb3React}from'@web3-react/core';import GOVERNOR_BRAVO_ABI from'abis/governor-bravo.json';import{GOVERNANCE_ALPHA_V0_ADDRESSES,GOVERNANCE_ALPHA_V1_ADDRESSES,GOVERNANCE_BRAVO_ADDRESSES}from'constants/addresses';import{LATEST_GOVERNOR_INDEX}from'constants/governance';import{POLYGON_PROPOSAL_TITLE}from'constants/proposals/polygon_proposal_title';import{UNISWAP_GRANTS_PROPOSAL_DESCRIPTION}from'constants/proposals/uniswap_grants_proposal_description';import{useContract}from'hooks/useContract';import{useSingleCallResult,useSingleContractMultipleData}from'lib/hooks/multicall';import{useCallback,useMemo}from'react';import{calculateGasMargin}from'utils/calculateGasMargin';import{SupportedChainId}from'../../constants/chains';import{BRAVO_START_BLOCK,MOONBEAN_START_BLOCK,ONE_BIP_START_BLOCK,POLYGON_START_BLOCK,UNISWAP_GRANTS_START_BLOCK}from'../../constants/proposals';import{UNI}from'../../constants/tokens';import{useLogs}from'../logs/hooks';import{useTransactionAdder}from'../transactions/hooks';import{TransactionType}from'../transactions/types';import{VoteOption}from'./types';function useGovernanceV0Contract(){return useContract(GOVERNANCE_ALPHA_V0_ADDRESSES,GOVERNANCE_ABI,false);}function useGovernanceV1Contract(){return useContract(GOVERNANCE_ALPHA_V1_ADDRESSES,GOVERNANCE_ABI,false);}function useGovernanceBravoContract(){return useContract(GOVERNANCE_BRAVO_ADDRESSES,GOVERNOR_BRAVO_ABI,true);}var useLatestGovernanceContract=useGovernanceBravoContract;function useUniContract(){var _useWeb3React=useWeb3React(),chainId=_useWeb3React.chainId;var uniAddress=useMemo(function(){var _UNI$chainId;return chainId?(_UNI$chainId=UNI[chainId])===null||_UNI$chainId===void 0?void 0:_UNI$chainId.address:undefined;},[chainId]);return useContract(uniAddress,UNI_ABI,true);}export var ProposalState;(function(ProposalState){ProposalState[ProposalState[\"UNDETERMINED\"]=-1]=\"UNDETERMINED\";ProposalState[ProposalState[\"PENDING\"]=0]=\"PENDING\";ProposalState[ProposalState[\"ACTIVE\"]=1]=\"ACTIVE\";ProposalState[ProposalState[\"CANCELED\"]=2]=\"CANCELED\";ProposalState[ProposalState[\"DEFEATED\"]=3]=\"DEFEATED\";ProposalState[ProposalState[\"SUCCEEDED\"]=4]=\"SUCCEEDED\";ProposalState[ProposalState[\"QUEUED\"]=5]=\"QUEUED\";ProposalState[ProposalState[\"EXPIRED\"]=6]=\"EXPIRED\";ProposalState[ProposalState[\"EXECUTED\"]=7]=\"EXECUTED\";})(ProposalState||(ProposalState={}));var GovernanceInterface=new Interface(GOVERNANCE_ABI);// get count of all proposals made in the latest governor contract\nfunction useProposalCount(contract){var _result$;var _useSingleCallResult=useSingleCallResult(contract,'proposalCount'),result=_useSingleCallResult.result;return result===null||result===void 0?void 0:(_result$=result[0])===null||_result$===void 0?void 0:_result$.toNumber();}var FOUR_BYTES_DIR={'0x5ef2c7f0':'setSubnodeRecord(bytes32,bytes32,address,address,uint64)','0x10f13a8c':'setText(bytes32,string,string)','0xb4720477':'sendMessageToChild(address,bytes)','0xa9059cbb':'transfer(address,uint256)','0x095ea7b3':'approve(address,uint256)','0x7b1837de':'fund(address,uint256)'};/**\n * Need proposal events to get description data emitted from\n * new proposal event.\n */function useFormattedProposalCreatedLogs(contract,indices,fromBlock,toBlock){// create filters for ProposalCreated events\nvar filter=useMemo(function(){var _contract$filters;var filter=contract===null||contract===void 0?void 0:(_contract$filters=contract.filters)===null||_contract$filters===void 0?void 0:_contract$filters.ProposalCreated();if(!filter)return undefined;return _objectSpread(_objectSpread({},filter),{},{fromBlock:fromBlock,toBlock:toBlock});},[contract,fromBlock,toBlock]);var useLogsResult=useLogs(filter);return useMemo(function(){var _useLogsResult$logs,_useLogsResult$logs$m,_useLogsResult$logs$m2;return useLogsResult===null||useLogsResult===void 0?void 0:(_useLogsResult$logs=useLogsResult.logs)===null||_useLogsResult$logs===void 0?void 0:(_useLogsResult$logs$m=_useLogsResult$logs.map(function(log){var parsed=GovernanceInterface.parseLog(log).args;return parsed;}))===null||_useLogsResult$logs$m===void 0?void 0:(_useLogsResult$logs$m2=_useLogsResult$logs$m.filter(function(parsed){return indices.flat().some(function(i){return i===parsed.id.toNumber();});}))===null||_useLogsResult$logs$m2===void 0?void 0:_useLogsResult$logs$m2.map(function(parsed){var _parsed$startBlock;var description;var startBlock=parseInt((_parsed$startBlock=parsed.startBlock)===null||_parsed$startBlock===void 0?void 0:_parsed$startBlock.toString());try{description=parsed.description;}catch(error){// replace invalid UTF-8 in the description with replacement characters\nvar onError=Utf8ErrorFuncs.replace;// Bravo proposal reverses the codepoints for U+2018 (‘) and U+2026 (…)\nif(startBlock===BRAVO_START_BLOCK){var U2018=[0xe2,0x80,0x98].toString();var U2026=[0xe2,0x80,0xa6].toString();onError=function onError(reason,offset,bytes,output){if(reason===Utf8ErrorReason.UNEXPECTED_CONTINUE){var charCode=[bytes[offset],bytes[offset+1],bytes[offset+2]].reverse().toString();if(charCode===U2018){output.push(0x2018);return 2;}else if(charCode===U2026){output.push(0x2026);return 2;}}return Utf8ErrorFuncs.replace(reason,offset,bytes,output);};}description=JSON.parse(toUtf8String(error.error.value,onError))||'';}// some proposals omit newlines\nif(startBlock===BRAVO_START_BLOCK||startBlock===ONE_BIP_START_BLOCK||startBlock===MOONBEAN_START_BLOCK){description=description.replace(/ {2}/g,'\\n').replace(/\\d\\. /g,'\\n$&');}return{description:description,details:parsed.targets.map(function(target,i){var signature=parsed.signatures[i];var calldata=parsed.calldatas[i];var name;var types;if(signature===''){var _FOUR_BYTES_DIR$fourb;var fourbyte=calldata.slice(0,10);var _sig=(_FOUR_BYTES_DIR$fourb=FOUR_BYTES_DIR[fourbyte])!==null&&_FOUR_BYTES_DIR$fourb!==void 0?_FOUR_BYTES_DIR$fourb:'UNKNOWN()';if(!_sig)throw new Error('Missing four byte sig');var _sig$substring$split=_sig.substring(0,_sig.length-1).split('(');var _sig$substring$split2=_slicedToArray(_sig$substring$split,2);name=_sig$substring$split2[0];types=_sig$substring$split2[1];calldata=\"0x\".concat(calldata.slice(10));}else{;var _signature$substring$=signature.substring(0,signature.length-1).split('(');var _signature$substring$2=_slicedToArray(_signature$substring$,2);name=_signature$substring$2[0];types=_signature$substring$2[1];}var decoded=defaultAbiCoder.decode(types.split(','),calldata);return{target:target,functionSig:name,callData:decoded.join(', ')};})};});},[indices,useLogsResult]);}var V0_PROPOSAL_IDS=[[1],[2],[3],[4]];var V1_PROPOSAL_IDS=[[1],[2],[3]];function countToIndices(count){var skip=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return typeof count==='number'?new Array(count-skip).fill(0).map(function(_,i){return[i+1+skip];}):[];}// get data for all past and active proposals\nexport function useAllProposalData(){var _useWeb3React2=useWeb3React(),chainId=_useWeb3React2.chainId;var gov0=useGovernanceV0Contract();var gov1=useGovernanceV1Contract();var gov2=useGovernanceBravoContract();var proposalCount0=useProposalCount(gov0);var proposalCount1=useProposalCount(gov1);var proposalCount2=useProposalCount(gov2);var gov0ProposalIndexes=useMemo(function(){return chainId===SupportedChainId.MAINNET?V0_PROPOSAL_IDS:countToIndices(proposalCount0);},[chainId,proposalCount0]);var gov1ProposalIndexes=useMemo(function(){return chainId===SupportedChainId.MAINNET?V1_PROPOSAL_IDS:countToIndices(proposalCount1);},[chainId,proposalCount1]);var gov2ProposalIndexes=useMemo(function(){return countToIndices(proposalCount2,8);},[proposalCount2]);var proposalsV0=useSingleContractMultipleData(gov0,'proposals',gov0ProposalIndexes);var proposalsV1=useSingleContractMultipleData(gov1,'proposals',gov1ProposalIndexes);var proposalsV2=useSingleContractMultipleData(gov2,'proposals',gov2ProposalIndexes);// get all proposal states\nvar proposalStatesV0=useSingleContractMultipleData(gov0,'state',gov0ProposalIndexes);var proposalStatesV1=useSingleContractMultipleData(gov1,'state',gov1ProposalIndexes);var proposalStatesV2=useSingleContractMultipleData(gov2,'state',gov2ProposalIndexes);// get metadata from past events\nvar formattedLogsV0=useFormattedProposalCreatedLogs(gov0,gov0ProposalIndexes,11042287,12563484);var formattedLogsV1=useFormattedProposalCreatedLogs(gov1,gov1ProposalIndexes,12686656,13059343);var formattedLogsV2=useFormattedProposalCreatedLogs(gov2,gov2ProposalIndexes,13538153);var uni=useMemo(function(){return chainId?UNI[chainId]:undefined;},[chainId]);// early return until events are fetched\nreturn useMemo(function(){var proposalsCallData=[].concat(_toConsumableArray(proposalsV0),_toConsumableArray(proposalsV1),_toConsumableArray(proposalsV2));var proposalStatesCallData=[].concat(_toConsumableArray(proposalStatesV0),_toConsumableArray(proposalStatesV1),_toConsumableArray(proposalStatesV2));var formattedLogs=[].concat(_toConsumableArray(formattedLogsV0!==null&&formattedLogsV0!==void 0?formattedLogsV0:[]),_toConsumableArray(formattedLogsV1!==null&&formattedLogsV1!==void 0?formattedLogsV1:[]),_toConsumableArray(formattedLogsV2!==null&&formattedLogsV2!==void 0?formattedLogsV2:[]));if(!uni||proposalsCallData.some(function(p){return p.loading;})||proposalStatesCallData.some(function(p){return p.loading;})||gov0&&!formattedLogsV0||gov1&&!formattedLogsV1||gov2&&!formattedLogsV2){return{data:[],loading:true};}return{data:proposalsCallData.map(function(proposal,i){var _proposal$result,_proposal$result$star,_formattedLogs$i$desc,_formattedLogs$i,_description,_proposal$result2,_title,_description2,_proposal$result3,_proposalStatesCallDa,_proposalStatesCallDa2,_proposalStatesCallDa3,_proposal$result4,_proposal$result5,_proposal$result6,_proposal$result6$end,_proposal$result7,_formattedLogs$i2;var startBlock=parseInt(proposal===null||proposal===void 0?void 0:(_proposal$result=proposal.result)===null||_proposal$result===void 0?void 0:(_proposal$result$star=_proposal$result.startBlock)===null||_proposal$result$star===void 0?void 0:_proposal$result$star.toString());var description=(_formattedLogs$i$desc=(_formattedLogs$i=formattedLogs[i])===null||_formattedLogs$i===void 0?void 0:_formattedLogs$i.description)!==null&&_formattedLogs$i$desc!==void 0?_formattedLogs$i$desc:'';if(startBlock===UNISWAP_GRANTS_START_BLOCK){description=UNISWAP_GRANTS_PROPOSAL_DESCRIPTION;}var title=(_description=description)===null||_description===void 0?void 0:_description.split(/#+\\s|\\n/g)[1];if(startBlock===POLYGON_START_BLOCK){title=POLYGON_PROPOSAL_TITLE;}return{id:proposal===null||proposal===void 0?void 0:(_proposal$result2=proposal.result)===null||_proposal$result2===void 0?void 0:_proposal$result2.id.toString(),title:(_title=title)!==null&&_title!==void 0?_title:/*i18n*/i18n._(\"Untitled\"),description:(_description2=description)!==null&&_description2!==void 0?_description2:/*i18n*/i18n._(\"No description.\"),proposer:proposal===null||proposal===void 0?void 0:(_proposal$result3=proposal.result)===null||_proposal$result3===void 0?void 0:_proposal$result3.proposer,status:(_proposalStatesCallDa=(_proposalStatesCallDa2=proposalStatesCallData[i])===null||_proposalStatesCallDa2===void 0?void 0:(_proposalStatesCallDa3=_proposalStatesCallDa2.result)===null||_proposalStatesCallDa3===void 0?void 0:_proposalStatesCallDa3[0])!==null&&_proposalStatesCallDa!==void 0?_proposalStatesCallDa:ProposalState.UNDETERMINED,forCount:CurrencyAmount.fromRawAmount(uni,proposal===null||proposal===void 0?void 0:(_proposal$result4=proposal.result)===null||_proposal$result4===void 0?void 0:_proposal$result4.forVotes),againstCount:CurrencyAmount.fromRawAmount(uni,proposal===null||proposal===void 0?void 0:(_proposal$result5=proposal.result)===null||_proposal$result5===void 0?void 0:_proposal$result5.againstVotes),startBlock:startBlock,endBlock:parseInt(proposal===null||proposal===void 0?void 0:(_proposal$result6=proposal.result)===null||_proposal$result6===void 0?void 0:(_proposal$result6$end=_proposal$result6.endBlock)===null||_proposal$result6$end===void 0?void 0:_proposal$result6$end.toString()),eta:proposal===null||proposal===void 0?void 0:(_proposal$result7=proposal.result)===null||_proposal$result7===void 0?void 0:_proposal$result7.eta,details:(_formattedLogs$i2=formattedLogs[i])===null||_formattedLogs$i2===void 0?void 0:_formattedLogs$i2.details,governorIndex:i>=proposalsV0.length+proposalsV1.length?2:i>=proposalsV0.length?1:0};}),loading:false};},[formattedLogsV0,formattedLogsV1,formattedLogsV2,gov0,gov1,gov2,proposalStatesV0,proposalStatesV1,proposalStatesV2,proposalsV0,proposalsV1,proposalsV2,uni]);}export function useProposalData(governorIndex,id){var _data$filter;var _useAllProposalData=useAllProposalData(),data=_useAllProposalData.data;return(_data$filter=data.filter(function(p){return p.governorIndex===governorIndex;}))===null||_data$filter===void 0?void 0:_data$filter.find(function(p){return p.id===id;});}export function useQuorum(governorIndex){var _useSingleCallResult2,_useSingleCallResult3;var latestGovernanceContract=useLatestGovernanceContract();var quorumVotes=(_useSingleCallResult2=useSingleCallResult(latestGovernanceContract,'quorumVotes'))===null||_useSingleCallResult2===void 0?void 0:(_useSingleCallResult3=_useSingleCallResult2.result)===null||_useSingleCallResult3===void 0?void 0:_useSingleCallResult3[0];var _useWeb3React3=useWeb3React(),chainId=_useWeb3React3.chainId;var uni=useMemo(function(){return chainId?UNI[chainId]:undefined;},[chainId]);if(!latestGovernanceContract||!quorumVotes||chainId!==SupportedChainId.MAINNET||!uni||governorIndex!==LATEST_GOVERNOR_INDEX)return undefined;return CurrencyAmount.fromRawAmount(uni,quorumVotes);}// get the users delegatee if it exists\nexport function useUserDelegatee(){var _result$2;var _useWeb3React4=useWeb3React(),account=_useWeb3React4.account;var uniContract=useUniContract();var _useSingleCallResult4=useSingleCallResult(uniContract,'delegates',[account!==null&&account!==void 0?account:undefined]),result=_useSingleCallResult4.result;return(_result$2=result===null||result===void 0?void 0:result[0])!==null&&_result$2!==void 0?_result$2:undefined;}// gets the users current votes\nexport function useUserVotes(){var _useWeb3React5=useWeb3React(),account=_useWeb3React5.account,chainId=_useWeb3React5.chainId;var uniContract=useUniContract();// check for available votes\nvar _useSingleCallResult5=useSingleCallResult(uniContract,'getCurrentVotes',[account!==null&&account!==void 0?account:undefined]),result=_useSingleCallResult5.result,loading=_useSingleCallResult5.loading;return useMemo(function(){var uni=chainId?UNI[chainId]:undefined;return{loading:loading,votes:uni&&result?CurrencyAmount.fromRawAmount(uni,result===null||result===void 0?void 0:result[0]):undefined};},[chainId,loading,result]);}// fetch available votes as of block (usually proposal start block)\nexport function useUserVotesAsOfBlock(block){var _useSingleCallResult6,_useSingleCallResult7;var _useWeb3React6=useWeb3React(),account=_useWeb3React6.account,chainId=_useWeb3React6.chainId;var uniContract=useUniContract();// check for available votes\nvar uni=useMemo(function(){return chainId?UNI[chainId]:undefined;},[chainId]);var votes=(_useSingleCallResult6=useSingleCallResult(uniContract,'getPriorVotes',[account!==null&&account!==void 0?account:undefined,block!==null&&block!==void 0?block:undefined]))===null||_useSingleCallResult6===void 0?void 0:(_useSingleCallResult7=_useSingleCallResult6.result)===null||_useSingleCallResult7===void 0?void 0:_useSingleCallResult7[0];return votes&&uni?CurrencyAmount.fromRawAmount(uni,votes):undefined;}export function useDelegateCallback(){var _useWeb3React7=useWeb3React(),account=_useWeb3React7.account,chainId=_useWeb3React7.chainId,provider=_useWeb3React7.provider;var addTransaction=useTransactionAdder();var uniContract=useUniContract();return useCallback(function(delegatee){var _uniContract$estimate;if(!provider||!chainId||!account||!delegatee||!isAddress(delegatee!==null&&delegatee!==void 0?delegatee:''))return undefined;var args=[delegatee];if(!uniContract)throw new Error('No UNI Contract!');return(_uniContract$estimate=uniContract.estimateGas).delegate.apply(_uniContract$estimate,args.concat([{}])).then(function(estimatedGasLimit){return uniContract.delegate.apply(uniContract,args.concat([{value:null,gasLimit:calculateGasMargin(estimatedGasLimit)}])).then(function(response){addTransaction(response,{type:TransactionType.DELEGATE,delegatee:delegatee});return response.hash;});});},[account,addTransaction,chainId,provider,uniContract]);}export function useVoteCallback(){var _useWeb3React8=useWeb3React(),account=_useWeb3React8.account,chainId=_useWeb3React8.chainId;var latestGovernanceContract=useLatestGovernanceContract();var addTransaction=useTransactionAdder();return useCallback(function(proposalId,voteOption){var _latestGovernanceCont;if(!account||!latestGovernanceContract||!proposalId||!chainId)return;var args=[proposalId,voteOption===VoteOption.Against?0:voteOption===VoteOption.For?1:2];return(_latestGovernanceCont=latestGovernanceContract.estimateGas).castVote.apply(_latestGovernanceCont,args.concat([{}])).then(function(estimatedGasLimit){return latestGovernanceContract.castVote.apply(latestGovernanceContract,args.concat([{value:null,gasLimit:calculateGasMargin(estimatedGasLimit)}])).then(function(response){addTransaction(response,{type:TransactionType.VOTE,decision:voteOption,governorAddress:latestGovernanceContract.address,proposalId:parseInt(proposalId),reason:''});return response.hash;});});},[account,addTransaction,latestGovernanceContract,chainId]);}export function useQueueCallback(){var _useWeb3React9=useWeb3React(),account=_useWeb3React9.account,chainId=_useWeb3React9.chainId;var latestGovernanceContract=useLatestGovernanceContract();var addTransaction=useTransactionAdder();return useCallback(function(proposalId){var _latestGovernanceCont2;if(!account||!latestGovernanceContract||!proposalId||!chainId)return;var args=[proposalId];return(_latestGovernanceCont2=latestGovernanceContract.estimateGas).queue.apply(_latestGovernanceCont2,args.concat([{}])).then(function(estimatedGasLimit){return latestGovernanceContract.queue.apply(latestGovernanceContract,args.concat([{value:null,gasLimit:calculateGasMargin(estimatedGasLimit)}])).then(function(response){addTransaction(response,{type:TransactionType.QUEUE,governorAddress:latestGovernanceContract.address,proposalId:parseInt(proposalId)});return response.hash;});});},[account,addTransaction,latestGovernanceContract,chainId]);}export function useExecuteCallback(){var _useWeb3React10=useWeb3React(),account=_useWeb3React10.account,chainId=_useWeb3React10.chainId;var latestGovernanceContract=useLatestGovernanceContract();var addTransaction=useTransactionAdder();return useCallback(function(proposalId){var _latestGovernanceCont3;if(!account||!latestGovernanceContract||!proposalId||!chainId)return;var args=[proposalId];return(_latestGovernanceCont3=latestGovernanceContract.estimateGas).execute.apply(_latestGovernanceCont3,args.concat([{}])).then(function(estimatedGasLimit){return latestGovernanceContract.execute.apply(latestGovernanceContract,args.concat([{value:null,gasLimit:calculateGasMargin(estimatedGasLimit)}])).then(function(response){addTransaction(response,{type:TransactionType.EXECUTE,governorAddress:latestGovernanceContract.address,proposalId:parseInt(proposalId)});return response.hash;});});},[account,addTransaction,latestGovernanceContract,chainId]);}export function useCreateProposalCallback(){var _useWeb3React11=useWeb3React(),account=_useWeb3React11.account,chainId=_useWeb3React11.chainId;var latestGovernanceContract=useLatestGovernanceContract();var addTransaction=useTransactionAdder();return useCallback(function(createProposalData){var _latestGovernanceCont4;if(!account||!latestGovernanceContract||!createProposalData||!chainId)return undefined;var args=[createProposalData.targets,createProposalData.values,createProposalData.signatures,createProposalData.calldatas,createProposalData.description];return(_latestGovernanceCont4=latestGovernanceContract.estimateGas).propose.apply(_latestGovernanceCont4,args).then(function(estimatedGasLimit){return latestGovernanceContract.propose.apply(latestGovernanceContract,args.concat([{gasLimit:calculateGasMargin(estimatedGasLimit)}])).then(function(response){addTransaction(response,{type:TransactionType.SUBMIT_PROPOSAL});return response.hash;});});},[account,addTransaction,latestGovernanceContract,chainId]);}export function useLatestProposalId(address){var _res$result,_res$result$;var latestGovernanceContract=useLatestGovernanceContract();var res=useSingleCallResult(latestGovernanceContract,'latestProposalIds',[address]);return res===null||res===void 0?void 0:(_res$result=res.result)===null||_res$result===void 0?void 0:(_res$result$=_res$result[0])===null||_res$result$===void 0?void 0:_res$result$.toString();}export function useProposalThreshold(){var _res$result2;var _useWeb3React12=useWeb3React(),chainId=_useWeb3React12.chainId;var latestGovernanceContract=useLatestGovernanceContract();var res=useSingleCallResult(latestGovernanceContract,'proposalThreshold');var uni=useMemo(function(){return chainId?UNI[chainId]:undefined;},[chainId]);if((res===null||res===void 0?void 0:(_res$result2=res.result)===null||_res$result2===void 0?void 0:_res$result2[0])&&uni){return CurrencyAmount.fromRawAmount(uni,res.result[0]);}return undefined;}","map":{"version":3,"names":["defaultAbiCoder","Interface","isAddress","toUtf8String","Utf8ErrorFuncs","Utf8ErrorReason","abi","GOVERNANCE_ABI","UNI_ABI","CurrencyAmount","useWeb3React","GOVERNOR_BRAVO_ABI","GOVERNANCE_ALPHA_V0_ADDRESSES","GOVERNANCE_ALPHA_V1_ADDRESSES","GOVERNANCE_BRAVO_ADDRESSES","LATEST_GOVERNOR_INDEX","POLYGON_PROPOSAL_TITLE","UNISWAP_GRANTS_PROPOSAL_DESCRIPTION","useContract","useSingleCallResult","useSingleContractMultipleData","useCallback","useMemo","calculateGasMargin","SupportedChainId","BRAVO_START_BLOCK","MOONBEAN_START_BLOCK","ONE_BIP_START_BLOCK","POLYGON_START_BLOCK","UNISWAP_GRANTS_START_BLOCK","UNI","useLogs","useTransactionAdder","TransactionType","VoteOption","useGovernanceV0Contract","useGovernanceV1Contract","useGovernanceBravoContract","useLatestGovernanceContract","useUniContract","chainId","uniAddress","address","undefined","ProposalState","GovernanceInterface","useProposalCount","contract","result","toNumber","FOUR_BYTES_DIR","useFormattedProposalCreatedLogs","indices","fromBlock","toBlock","filter","filters","ProposalCreated","useLogsResult","logs","map","log","parsed","parseLog","args","flat","some","i","id","description","startBlock","parseInt","toString","error","onError","replace","U2018","U2026","reason","offset","bytes","output","UNEXPECTED_CONTINUE","charCode","reverse","push","JSON","parse","value","details","targets","target","signature","signatures","calldata","calldatas","name","types","fourbyte","slice","sig","Error","substring","length","split","decoded","decode","functionSig","callData","join","V0_PROPOSAL_IDS","V1_PROPOSAL_IDS","countToIndices","count","skip","Array","fill","_","useAllProposalData","gov0","gov1","gov2","proposalCount0","proposalCount1","proposalCount2","gov0ProposalIndexes","MAINNET","gov1ProposalIndexes","gov2ProposalIndexes","proposalsV0","proposalsV1","proposalsV2","proposalStatesV0","proposalStatesV1","proposalStatesV2","formattedLogsV0","formattedLogsV1","formattedLogsV2","uni","proposalsCallData","proposalStatesCallData","formattedLogs","p","loading","data","proposal","title","proposer","status","UNDETERMINED","forCount","fromRawAmount","forVotes","againstCount","againstVotes","endBlock","eta","governorIndex","useProposalData","find","useQuorum","latestGovernanceContract","quorumVotes","useUserDelegatee","account","uniContract","useUserVotes","votes","useUserVotesAsOfBlock","block","useDelegateCallback","provider","addTransaction","delegatee","estimateGas","delegate","then","estimatedGasLimit","gasLimit","response","type","DELEGATE","hash","useVoteCallback","proposalId","voteOption","Against","For","castVote","VOTE","decision","governorAddress","useQueueCallback","queue","QUEUE","useExecuteCallback","execute","EXECUTE","useCreateProposalCallback","createProposalData","values","propose","SUBMIT_PROPOSAL","useLatestProposalId","res","useProposalThreshold"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/state/governance/hooks.ts"],"sourcesContent":["import { defaultAbiCoder, Interface } from '@ethersproject/abi'\nimport { isAddress } from '@ethersproject/address'\nimport { BigNumber } from '@ethersproject/bignumber'\nimport { Contract } from '@ethersproject/contracts'\nimport type { TransactionResponse } from '@ethersproject/providers'\nimport { toUtf8String, Utf8ErrorFuncs, Utf8ErrorReason } from '@ethersproject/strings'\n// eslint-disable-next-line no-restricted-imports\nimport { t } from '@lingui/macro'\nimport { abi as GOVERNANCE_ABI } from '@uniswap/governance/build/GovernorAlpha.json'\nimport { abi as UNI_ABI } from '@uniswap/governance/build/Uni.json'\nimport { CurrencyAmount, Token } from '@uniswap/sdk-core'\nimport { useWeb3React } from '@web3-react/core'\nimport GOVERNOR_BRAVO_ABI from 'abis/governor-bravo.json'\nimport {\n  GOVERNANCE_ALPHA_V0_ADDRESSES,\n  GOVERNANCE_ALPHA_V1_ADDRESSES,\n  GOVERNANCE_BRAVO_ADDRESSES,\n} from 'constants/addresses'\nimport { LATEST_GOVERNOR_INDEX } from 'constants/governance'\nimport { POLYGON_PROPOSAL_TITLE } from 'constants/proposals/polygon_proposal_title'\nimport { UNISWAP_GRANTS_PROPOSAL_DESCRIPTION } from 'constants/proposals/uniswap_grants_proposal_description'\nimport { useContract } from 'hooks/useContract'\nimport { useSingleCallResult, useSingleContractMultipleData } from 'lib/hooks/multicall'\nimport { useCallback, useMemo } from 'react'\nimport { calculateGasMargin } from 'utils/calculateGasMargin'\n\nimport { SupportedChainId } from '../../constants/chains'\nimport {\n  BRAVO_START_BLOCK,\n  MOONBEAN_START_BLOCK,\n  ONE_BIP_START_BLOCK,\n  POLYGON_START_BLOCK,\n  UNISWAP_GRANTS_START_BLOCK,\n} from '../../constants/proposals'\nimport { UNI } from '../../constants/tokens'\nimport { useLogs } from '../logs/hooks'\nimport { useTransactionAdder } from '../transactions/hooks'\nimport { TransactionType } from '../transactions/types'\nimport { VoteOption } from './types'\n\nfunction useGovernanceV0Contract(): Contract | null {\n  return useContract(GOVERNANCE_ALPHA_V0_ADDRESSES, GOVERNANCE_ABI, false)\n}\n\nfunction useGovernanceV1Contract(): Contract | null {\n  return useContract(GOVERNANCE_ALPHA_V1_ADDRESSES, GOVERNANCE_ABI, false)\n}\n\nfunction useGovernanceBravoContract(): Contract | null {\n  return useContract(GOVERNANCE_BRAVO_ADDRESSES, GOVERNOR_BRAVO_ABI, true)\n}\n\nconst useLatestGovernanceContract = useGovernanceBravoContract\n\nfunction useUniContract() {\n  const { chainId } = useWeb3React()\n  const uniAddress = useMemo(() => (chainId ? UNI[chainId]?.address : undefined), [chainId])\n  return useContract(uniAddress, UNI_ABI, true)\n}\n\ninterface ProposalDetail {\n  target: string\n  functionSig: string\n  callData: string\n}\n\nexport interface ProposalData {\n  id: string\n  title: string\n  description: string\n  proposer: string\n  status: ProposalState\n  forCount: CurrencyAmount<Token>\n  againstCount: CurrencyAmount<Token>\n  startBlock: number\n  endBlock: number\n  eta: BigNumber\n  details: ProposalDetail[]\n  governorIndex: number // index in the governance address array for which this proposal pertains\n}\n\nexport interface CreateProposalData {\n  targets: string[]\n  values: string[]\n  signatures: string[]\n  calldatas: string[]\n  description: string\n}\n\nexport enum ProposalState {\n  UNDETERMINED = -1,\n  PENDING,\n  ACTIVE,\n  CANCELED,\n  DEFEATED,\n  SUCCEEDED,\n  QUEUED,\n  EXPIRED,\n  EXECUTED,\n}\n\nconst GovernanceInterface = new Interface(GOVERNANCE_ABI)\n\n// get count of all proposals made in the latest governor contract\nfunction useProposalCount(contract: Contract | null): number | undefined {\n  const { result } = useSingleCallResult(contract, 'proposalCount')\n\n  return result?.[0]?.toNumber()\n}\n\ninterface FormattedProposalLog {\n  description: string\n  details: { target: string; functionSig: string; callData: string }[]\n}\n\nconst FOUR_BYTES_DIR: { [sig: string]: string } = {\n  '0x5ef2c7f0': 'setSubnodeRecord(bytes32,bytes32,address,address,uint64)',\n  '0x10f13a8c': 'setText(bytes32,string,string)',\n  '0xb4720477': 'sendMessageToChild(address,bytes)',\n  '0xa9059cbb': 'transfer(address,uint256)',\n  '0x095ea7b3': 'approve(address,uint256)',\n  '0x7b1837de': 'fund(address,uint256)',\n}\n\n/**\n * Need proposal events to get description data emitted from\n * new proposal event.\n */\nfunction useFormattedProposalCreatedLogs(\n  contract: Contract | null,\n  indices: number[][],\n  fromBlock?: number,\n  toBlock?: number\n): FormattedProposalLog[] | undefined {\n  // create filters for ProposalCreated events\n  const filter = useMemo(() => {\n    const filter = contract?.filters?.ProposalCreated()\n    if (!filter) return undefined\n    return {\n      ...filter,\n      fromBlock,\n      toBlock,\n    }\n  }, [contract, fromBlock, toBlock])\n\n  const useLogsResult = useLogs(filter)\n\n  return useMemo(() => {\n    return useLogsResult?.logs\n      ?.map((log) => {\n        const parsed = GovernanceInterface.parseLog(log).args\n        return parsed\n      })\n      ?.filter((parsed) => indices.flat().some((i) => i === parsed.id.toNumber()))\n      ?.map((parsed) => {\n        let description!: string\n\n        const startBlock = parseInt(parsed.startBlock?.toString())\n        try {\n          description = parsed.description\n        } catch (error) {\n          // replace invalid UTF-8 in the description with replacement characters\n          let onError = Utf8ErrorFuncs.replace\n\n          // Bravo proposal reverses the codepoints for U+2018 (‘) and U+2026 (…)\n          if (startBlock === BRAVO_START_BLOCK) {\n            const U2018 = [0xe2, 0x80, 0x98].toString()\n            const U2026 = [0xe2, 0x80, 0xa6].toString()\n            onError = (reason, offset, bytes, output) => {\n              if (reason === Utf8ErrorReason.UNEXPECTED_CONTINUE) {\n                const charCode = [bytes[offset], bytes[offset + 1], bytes[offset + 2]].reverse().toString()\n                if (charCode === U2018) {\n                  output.push(0x2018)\n                  return 2\n                } else if (charCode === U2026) {\n                  output.push(0x2026)\n                  return 2\n                }\n              }\n              return Utf8ErrorFuncs.replace(reason, offset, bytes, output)\n            }\n          }\n\n          description = JSON.parse(toUtf8String(error.error.value, onError)) || ''\n        }\n\n        // some proposals omit newlines\n        if (\n          startBlock === BRAVO_START_BLOCK ||\n          startBlock === ONE_BIP_START_BLOCK ||\n          startBlock === MOONBEAN_START_BLOCK\n        ) {\n          description = description.replace(/ {2}/g, '\\n').replace(/\\d\\. /g, '\\n$&')\n        }\n\n        return {\n          description,\n          details: parsed.targets.map((target: string, i: number) => {\n            const signature = parsed.signatures[i]\n            let calldata = parsed.calldatas[i]\n            let name: string\n            let types: string\n            if (signature === '') {\n              const fourbyte = calldata.slice(0, 10)\n              const sig = FOUR_BYTES_DIR[fourbyte] ?? 'UNKNOWN()'\n              if (!sig) throw new Error('Missing four byte sig')\n              ;[name, types] = sig.substring(0, sig.length - 1).split('(')\n              calldata = `0x${calldata.slice(10)}`\n            } else {\n              ;[name, types] = signature.substring(0, signature.length - 1).split('(')\n            }\n            const decoded = defaultAbiCoder.decode(types.split(','), calldata)\n            return {\n              target,\n              functionSig: name,\n              callData: decoded.join(', '),\n            }\n          }),\n        }\n      })\n  }, [indices, useLogsResult])\n}\n\nconst V0_PROPOSAL_IDS = [[1], [2], [3], [4]]\nconst V1_PROPOSAL_IDS = [[1], [2], [3]]\n\nfunction countToIndices(count: number | undefined, skip = 0) {\n  return typeof count === 'number' ? new Array(count - skip).fill(0).map((_, i) => [i + 1 + skip]) : []\n}\n\n// get data for all past and active proposals\nexport function useAllProposalData(): { data: ProposalData[]; loading: boolean } {\n  const { chainId } = useWeb3React()\n  const gov0 = useGovernanceV0Contract()\n  const gov1 = useGovernanceV1Contract()\n  const gov2 = useGovernanceBravoContract()\n\n  const proposalCount0 = useProposalCount(gov0)\n  const proposalCount1 = useProposalCount(gov1)\n  const proposalCount2 = useProposalCount(gov2)\n\n  const gov0ProposalIndexes = useMemo(() => {\n    return chainId === SupportedChainId.MAINNET ? V0_PROPOSAL_IDS : countToIndices(proposalCount0)\n  }, [chainId, proposalCount0])\n  const gov1ProposalIndexes = useMemo(() => {\n    return chainId === SupportedChainId.MAINNET ? V1_PROPOSAL_IDS : countToIndices(proposalCount1)\n  }, [chainId, proposalCount1])\n  const gov2ProposalIndexes = useMemo(() => {\n    return countToIndices(proposalCount2, 8)\n  }, [proposalCount2])\n\n  const proposalsV0 = useSingleContractMultipleData(gov0, 'proposals', gov0ProposalIndexes)\n  const proposalsV1 = useSingleContractMultipleData(gov1, 'proposals', gov1ProposalIndexes)\n  const proposalsV2 = useSingleContractMultipleData(gov2, 'proposals', gov2ProposalIndexes)\n\n  // get all proposal states\n  const proposalStatesV0 = useSingleContractMultipleData(gov0, 'state', gov0ProposalIndexes)\n  const proposalStatesV1 = useSingleContractMultipleData(gov1, 'state', gov1ProposalIndexes)\n  const proposalStatesV2 = useSingleContractMultipleData(gov2, 'state', gov2ProposalIndexes)\n\n  // get metadata from past events\n  const formattedLogsV0 = useFormattedProposalCreatedLogs(gov0, gov0ProposalIndexes, 11042287, 12563484)\n  const formattedLogsV1 = useFormattedProposalCreatedLogs(gov1, gov1ProposalIndexes, 12686656, 13059343)\n  const formattedLogsV2 = useFormattedProposalCreatedLogs(gov2, gov2ProposalIndexes, 13538153)\n\n  const uni = useMemo(() => (chainId ? UNI[chainId] : undefined), [chainId])\n\n  // early return until events are fetched\n  return useMemo(() => {\n    const proposalsCallData = [...proposalsV0, ...proposalsV1, ...proposalsV2]\n    const proposalStatesCallData = [...proposalStatesV0, ...proposalStatesV1, ...proposalStatesV2]\n    const formattedLogs = [...(formattedLogsV0 ?? []), ...(formattedLogsV1 ?? []), ...(formattedLogsV2 ?? [])]\n\n    if (\n      !uni ||\n      proposalsCallData.some((p) => p.loading) ||\n      proposalStatesCallData.some((p) => p.loading) ||\n      (gov0 && !formattedLogsV0) ||\n      (gov1 && !formattedLogsV1) ||\n      (gov2 && !formattedLogsV2)\n    ) {\n      return { data: [], loading: true }\n    }\n\n    return {\n      data: proposalsCallData.map((proposal, i) => {\n        const startBlock = parseInt(proposal?.result?.startBlock?.toString())\n\n        let description = formattedLogs[i]?.description ?? ''\n        if (startBlock === UNISWAP_GRANTS_START_BLOCK) {\n          description = UNISWAP_GRANTS_PROPOSAL_DESCRIPTION\n        }\n\n        let title = description?.split(/#+\\s|\\n/g)[1]\n        if (startBlock === POLYGON_START_BLOCK) {\n          title = POLYGON_PROPOSAL_TITLE\n        }\n\n        return {\n          id: proposal?.result?.id.toString(),\n          title: title ?? t`Untitled`,\n          description: description ?? t`No description.`,\n          proposer: proposal?.result?.proposer,\n          status: proposalStatesCallData[i]?.result?.[0] ?? ProposalState.UNDETERMINED,\n          forCount: CurrencyAmount.fromRawAmount(uni, proposal?.result?.forVotes),\n          againstCount: CurrencyAmount.fromRawAmount(uni, proposal?.result?.againstVotes),\n          startBlock,\n          endBlock: parseInt(proposal?.result?.endBlock?.toString()),\n          eta: proposal?.result?.eta,\n          details: formattedLogs[i]?.details,\n          governorIndex: i >= proposalsV0.length + proposalsV1.length ? 2 : i >= proposalsV0.length ? 1 : 0,\n        }\n      }),\n      loading: false,\n    }\n  }, [\n    formattedLogsV0,\n    formattedLogsV1,\n    formattedLogsV2,\n    gov0,\n    gov1,\n    gov2,\n    proposalStatesV0,\n    proposalStatesV1,\n    proposalStatesV2,\n    proposalsV0,\n    proposalsV1,\n    proposalsV2,\n    uni,\n  ])\n}\n\nexport function useProposalData(governorIndex: number, id: string): ProposalData | undefined {\n  const { data } = useAllProposalData()\n  return data.filter((p) => p.governorIndex === governorIndex)?.find((p) => p.id === id)\n}\n\nexport function useQuorum(governorIndex: number): CurrencyAmount<Token> | undefined {\n  const latestGovernanceContract = useLatestGovernanceContract()\n  const quorumVotes = useSingleCallResult(latestGovernanceContract, 'quorumVotes')?.result?.[0]\n  const { chainId } = useWeb3React()\n  const uni = useMemo(() => (chainId ? UNI[chainId] : undefined), [chainId])\n\n  if (\n    !latestGovernanceContract ||\n    !quorumVotes ||\n    chainId !== SupportedChainId.MAINNET ||\n    !uni ||\n    governorIndex !== LATEST_GOVERNOR_INDEX\n  )\n    return undefined\n\n  return CurrencyAmount.fromRawAmount(uni, quorumVotes)\n}\n\n// get the users delegatee if it exists\nexport function useUserDelegatee(): string {\n  const { account } = useWeb3React()\n  const uniContract = useUniContract()\n  const { result } = useSingleCallResult(uniContract, 'delegates', [account ?? undefined])\n  return result?.[0] ?? undefined\n}\n\n// gets the users current votes\nexport function useUserVotes(): { loading: boolean; votes: CurrencyAmount<Token> | undefined } {\n  const { account, chainId } = useWeb3React()\n  const uniContract = useUniContract()\n\n  // check for available votes\n  const { result, loading } = useSingleCallResult(uniContract, 'getCurrentVotes', [account ?? undefined])\n  return useMemo(() => {\n    const uni = chainId ? UNI[chainId] : undefined\n    return { loading, votes: uni && result ? CurrencyAmount.fromRawAmount(uni, result?.[0]) : undefined }\n  }, [chainId, loading, result])\n}\n\n// fetch available votes as of block (usually proposal start block)\nexport function useUserVotesAsOfBlock(block: number | undefined): CurrencyAmount<Token> | undefined {\n  const { account, chainId } = useWeb3React()\n  const uniContract = useUniContract()\n\n  // check for available votes\n  const uni = useMemo(() => (chainId ? UNI[chainId] : undefined), [chainId])\n  const votes = useSingleCallResult(uniContract, 'getPriorVotes', [account ?? undefined, block ?? undefined])\n    ?.result?.[0]\n  return votes && uni ? CurrencyAmount.fromRawAmount(uni, votes) : undefined\n}\n\nexport function useDelegateCallback(): (delegatee: string | undefined) => undefined | Promise<string> {\n  const { account, chainId, provider } = useWeb3React()\n  const addTransaction = useTransactionAdder()\n\n  const uniContract = useUniContract()\n\n  return useCallback(\n    (delegatee: string | undefined) => {\n      if (!provider || !chainId || !account || !delegatee || !isAddress(delegatee ?? '')) return undefined\n      const args = [delegatee]\n      if (!uniContract) throw new Error('No UNI Contract!')\n      return uniContract.estimateGas.delegate(...args, {}).then((estimatedGasLimit) => {\n        return uniContract\n          .delegate(...args, { value: null, gasLimit: calculateGasMargin(estimatedGasLimit) })\n          .then((response: TransactionResponse) => {\n            addTransaction(response, {\n              type: TransactionType.DELEGATE,\n              delegatee,\n            })\n            return response.hash\n          })\n      })\n    },\n    [account, addTransaction, chainId, provider, uniContract]\n  )\n}\n\nexport function useVoteCallback(): (\n  proposalId: string | undefined,\n  voteOption: VoteOption\n) => undefined | Promise<string> {\n  const { account, chainId } = useWeb3React()\n  const latestGovernanceContract = useLatestGovernanceContract()\n  const addTransaction = useTransactionAdder()\n\n  return useCallback(\n    (proposalId: string | undefined, voteOption: VoteOption) => {\n      if (!account || !latestGovernanceContract || !proposalId || !chainId) return\n      const args = [proposalId, voteOption === VoteOption.Against ? 0 : voteOption === VoteOption.For ? 1 : 2]\n      return latestGovernanceContract.estimateGas.castVote(...args, {}).then((estimatedGasLimit) => {\n        return latestGovernanceContract\n          .castVote(...args, { value: null, gasLimit: calculateGasMargin(estimatedGasLimit) })\n          .then((response: TransactionResponse) => {\n            addTransaction(response, {\n              type: TransactionType.VOTE,\n              decision: voteOption,\n              governorAddress: latestGovernanceContract.address,\n              proposalId: parseInt(proposalId),\n              reason: '',\n            })\n            return response.hash\n          })\n      })\n    },\n    [account, addTransaction, latestGovernanceContract, chainId]\n  )\n}\n\nexport function useQueueCallback(): (proposalId: string | undefined) => undefined | Promise<string> {\n  const { account, chainId } = useWeb3React()\n  const latestGovernanceContract = useLatestGovernanceContract()\n  const addTransaction = useTransactionAdder()\n\n  return useCallback(\n    (proposalId: string | undefined) => {\n      if (!account || !latestGovernanceContract || !proposalId || !chainId) return\n      const args = [proposalId]\n      return latestGovernanceContract.estimateGas.queue(...args, {}).then((estimatedGasLimit) => {\n        return latestGovernanceContract\n          .queue(...args, { value: null, gasLimit: calculateGasMargin(estimatedGasLimit) })\n          .then((response: TransactionResponse) => {\n            addTransaction(response, {\n              type: TransactionType.QUEUE,\n              governorAddress: latestGovernanceContract.address,\n              proposalId: parseInt(proposalId),\n            })\n            return response.hash\n          })\n      })\n    },\n    [account, addTransaction, latestGovernanceContract, chainId]\n  )\n}\n\nexport function useExecuteCallback(): (proposalId: string | undefined) => undefined | Promise<string> {\n  const { account, chainId } = useWeb3React()\n  const latestGovernanceContract = useLatestGovernanceContract()\n  const addTransaction = useTransactionAdder()\n\n  return useCallback(\n    (proposalId: string | undefined) => {\n      if (!account || !latestGovernanceContract || !proposalId || !chainId) return\n      const args = [proposalId]\n      return latestGovernanceContract.estimateGas.execute(...args, {}).then((estimatedGasLimit) => {\n        return latestGovernanceContract\n          .execute(...args, { value: null, gasLimit: calculateGasMargin(estimatedGasLimit) })\n          .then((response: TransactionResponse) => {\n            addTransaction(response, {\n              type: TransactionType.EXECUTE,\n              governorAddress: latestGovernanceContract.address,\n              proposalId: parseInt(proposalId),\n            })\n            return response.hash\n          })\n      })\n    },\n    [account, addTransaction, latestGovernanceContract, chainId]\n  )\n}\n\nexport function useCreateProposalCallback(): (\n  createProposalData: CreateProposalData | undefined\n) => undefined | Promise<string> {\n  const { account, chainId } = useWeb3React()\n  const latestGovernanceContract = useLatestGovernanceContract()\n  const addTransaction = useTransactionAdder()\n\n  return useCallback(\n    (createProposalData: CreateProposalData | undefined) => {\n      if (!account || !latestGovernanceContract || !createProposalData || !chainId) return undefined\n\n      const args = [\n        createProposalData.targets,\n        createProposalData.values,\n        createProposalData.signatures,\n        createProposalData.calldatas,\n        createProposalData.description,\n      ]\n\n      return latestGovernanceContract.estimateGas.propose(...args).then((estimatedGasLimit) => {\n        return latestGovernanceContract\n          .propose(...args, { gasLimit: calculateGasMargin(estimatedGasLimit) })\n          .then((response: TransactionResponse) => {\n            addTransaction(response, {\n              type: TransactionType.SUBMIT_PROPOSAL,\n            })\n            return response.hash\n          })\n      })\n    },\n    [account, addTransaction, latestGovernanceContract, chainId]\n  )\n}\n\nexport function useLatestProposalId(address: string | undefined): string | undefined {\n  const latestGovernanceContract = useLatestGovernanceContract()\n  const res = useSingleCallResult(latestGovernanceContract, 'latestProposalIds', [address])\n  return res?.result?.[0]?.toString()\n}\n\nexport function useProposalThreshold(): CurrencyAmount<Token> | undefined {\n  const { chainId } = useWeb3React()\n\n  const latestGovernanceContract = useLatestGovernanceContract()\n  const res = useSingleCallResult(latestGovernanceContract, 'proposalThreshold')\n  const uni = useMemo(() => (chainId ? UNI[chainId] : undefined), [chainId])\n\n  if (res?.result?.[0] && uni) {\n    return CurrencyAmount.fromRawAmount(uni, res.result[0])\n  }\n\n  return undefined\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}