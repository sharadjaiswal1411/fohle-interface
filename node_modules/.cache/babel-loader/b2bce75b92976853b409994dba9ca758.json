{"ast":null,"code":"import _toConsumableArray from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import{css as _css}from\"styled-components\";import _styled from\"styled-components\";var _templateObject;import{BigNumber}from'@ethersproject/bignumber';import{TraceEvent}from'@uniswap/analytics';import{BrowserEvent,ElementName,EventName}from'@uniswap/analytics-events';import{useWeb3React}from'@web3-react/core';import clsx from'clsx';import{OpacityHoverState}from'components/Common';import{parseEther}from'ethers/lib/utils';import{NftStandard}from'graphql/data/__generated__/types-and-hooks';import{ASSET_PAGE_SIZE,useNftAssets}from'graphql/data/nft/Asset';import useDebounce from'hooks/useDebounce';import{useScreenSize}from'hooks/useScreenSize';import{AnimatedBox,Box}from'nft/components/Box';import{CollectionSearch,FilterButton}from'nft/components/collection';import{CollectionAsset}from'nft/components/collection/CollectionAsset';import*as styles from'nft/components/collection/CollectionNfts.css';import{SortDropdown}from'nft/components/common/SortDropdown';import{Center,Column,Row}from'nft/components/Flex';import{SweepIcon}from'nft/components/icons';import{bodySmall,buttonTextMedium,headlineMedium}from'nft/css/common.css';import{loadingAsset}from'nft/css/loading.css';import{initialCollectionFilterState,SortBy,SortByQueries,useBag,useCollectionFilters,useFiltersExpanded,useIsMobile}from'nft/hooks';import{useIsCollectionLoading}from'nft/hooks/useIsCollectionLoading';import{usePriceRange}from'nft/hooks/usePriceRange';import{isPooledMarket,Markets,UniformAspectRatios}from'nft/types';import{calcPoolPrice,calcSudoSwapPrice,getRarityStatus,isInSameMarketplaceCollection,isInSameSudoSwapPool,pluralize}from'nft/utils';import{scrollToTop}from'nft/utils/scrollToTop';import{applyFiltersFromURL,syncLocalFiltersWithURL}from'nft/utils/urlParams';import{useCallback,useEffect,useMemo,useRef,useState}from'react';import InfiniteScroll from'react-infinite-scroll-component';import{useLocation}from'react-router-dom';import{ThemedText}from'theme';import{CollectionAssetLoading}from'./CollectionAssetLoading';import{MARKETPLACE_ITEMS,MarketplaceLogo}from'./MarketplaceSelect';import{Sweep}from'./Sweep';import{TraitChip}from'./TraitChip';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var rarityStatusCache=new Map();var InfiniteScrollWrapperCss=_css(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  margin: 0 16px;\\n  @media screen and (min-width: \",\"px) {\\n    margin: 0 20px;\\n  }\\n  @media screen and (min-width: \",\"px) {\\n    margin: 0 26px;\\n  }\\n  @media screen and (min-width: \",\"px) {\\n    margin: 0 48px;\\n  }\\n\"])),function(_ref){var theme=_ref.theme;return theme.breakpoint.sm;},function(_ref2){var theme=_ref2.theme;return theme.breakpoint.md;},function(_ref3){var theme=_ref3.theme;return theme.breakpoint.lg;});var ActionsContainer=_styled.div.withConfig({componentId:\"sc-1wq7ulh-0\"})([\"display:flex;flex:1 1 auto;gap:10px;justify-content:space-between;\",\"\"],InfiniteScrollWrapperCss);var ActionsSubContainer=_styled.div.withConfig({componentId:\"sc-1wq7ulh-1\"})([\"display:flex;gap:12px;flex:1;min-width:0px;@media only screen and (max-width:\",\"){gap:10px;}\"],function(_ref4){var theme=_ref4.theme;return\"\".concat(theme.breakpoint.md,\"px\");});var SortDropdownContainer=_styled.div.withConfig({componentId:\"sc-1wq7ulh-2\"})([\"width:max-content;height:44px;@media only screen and (max-width:\",\"){\",\"}@media only screen and (max-width:\",\"){display:none;}\"],function(_ref5){var theme=_ref5.theme;return\"\".concat(theme.breakpoint.lg,\"px\");},function(_ref6){var isFiltersExpanded=_ref6.isFiltersExpanded;return isFiltersExpanded&&\"display: none;\";},function(_ref7){var theme=_ref7.theme;return\"\".concat(theme.breakpoint.md,\"px\");});var EmptyCollectionWrapper=_styled.div.withConfig({componentId:\"sc-1wq7ulh-3\"})([\"display:block;text-align:center;\"]);var ViewFullCollection=_styled.span.withConfig({componentId:\"sc-1wq7ulh-4\"})([\"\",\"\"],OpacityHoverState);export var ClearAllButton=_styled.button.withConfig({componentId:\"sc-1wq7ulh-5\"})([\"color:\",\";padding-left:8px;padding-right:8px;font-size:14px;font-weight:600;border:none;cursor:pointer;background:none;\"],function(_ref8){var theme=_ref8.theme;return theme.textTertiary;});var InfiniteScrollWrapper=_styled.div.withConfig({componentId:\"sc-1wq7ulh-6\"})([\"\",\"\"],InfiniteScrollWrapperCss);var SweepButton=_styled.div.withConfig({componentId:\"sc-1wq7ulh-7\"})([\"display:flex;gap:8px;border:none;border-radius:12px;padding:12px 18px 12px 12px;cursor:\",\";color:\",\";background:\",\";opacity:\",\";:hover{background-color:\",\";transition:\",\";}@media only screen and (max-width:\",\"){padding:12px 12px 12px 12px;}\"],function(_ref9){var disabled=_ref9.disabled;return disabled?'auto':'pointer';},function(_ref10){var toggled=_ref10.toggled,disabled=_ref10.disabled,theme=_ref10.theme;return toggled&&!disabled?theme.accentTextLightPrimary:theme.textPrimary;},function(_ref11){var theme=_ref11.theme,toggled=_ref11.toggled,disabled=_ref11.disabled;return!disabled&&toggled?'radial-gradient(101.8% 4091.31% at 0% 0%, #4673FA 0%, #9646FA 100%)':theme.backgroundInteractive;},function(_ref12){var disabled=_ref12.disabled;return disabled?0.4:1;},function(_ref13){var theme=_ref13.theme;return theme.hoverState;},function(_ref14){var _ref14$theme$transiti=_ref14.theme.transition,duration=_ref14$theme$transiti.duration,timing=_ref14$theme$transiti.timing;return\"\".concat(duration.fast,\" background-color \").concat(timing.in);},function(_ref15){var theme=_ref15.theme;return\"\".concat(theme.breakpoint.md,\"px\");});var SweepText=_styled(ThemedText.BodyPrimary).withConfig({componentId:\"sc-1wq7ulh-8\"})([\"@media only screen and (max-width:\",\"){display:none;}\"],function(_ref16){var theme=_ref16.theme;return\"\".concat(theme.breakpoint.md,\"px\");});var MarketNameWrapper=_styled(Row).withConfig({componentId:\"sc-1wq7ulh-9\"})([\"gap:8px;\"]);export var LoadingAssets=function LoadingAssets(_ref17){var count=_ref17.count,height=_ref17.height;return/*#__PURE__*/_jsx(_Fragment,{children:Array.from(Array(count!==null&&count!==void 0?count:ASSET_PAGE_SIZE),function(_,index){return/*#__PURE__*/_jsx(CollectionAssetLoading,{height:height},index);})});};var CollectionNftsLoading=function CollectionNftsLoading(_ref18){var height=_ref18.height;return/*#__PURE__*/_jsx(Box,{width:\"full\",className:styles.assetList,children:/*#__PURE__*/_jsx(LoadingAssets,{height:height})});};export var CollectionNftsAndMenuLoading=function CollectionNftsAndMenuLoading(){return/*#__PURE__*/_jsx(InfiniteScrollWrapper,{children:/*#__PURE__*/_jsxs(Column,{alignItems:\"flex-start\",position:\"relative\",width:\"full\",children:[/*#__PURE__*/_jsxs(Row,{marginY:\"12\",gap:\"12\",marginBottom:\"40\",children:[/*#__PURE__*/_jsx(Box,{className:loadingAsset,borderRadius:\"12\",width:{sm:'44',md:'100'},height:\"44\"}),/*#__PURE__*/_jsx(Box,{className:loadingAsset,borderRadius:\"12\",height:\"44\",display:{sm:'none',md:'flex'},style:{width:'220px'}}),/*#__PURE__*/_jsx(Box,{className:loadingAsset,borderRadius:\"12\",height:\"44\",width:{sm:'276',md:'332'}})]}),/*#__PURE__*/_jsx(CollectionNftsLoading,{})]})});};export var getSortDropdownOptions=function getSortDropdownOptions(setSortBy,hasRarity){var options=[{displayText:'Price: Low to High',onClick:function onClick(){return setSortBy(SortBy.LowToHigh);},reverseIndex:2,sortBy:SortBy.LowToHigh},{displayText:'Price: High to Low',onClick:function onClick(){return setSortBy(SortBy.HighToLow);},reverseIndex:1,sortBy:SortBy.HighToLow}];return hasRarity?options.concat([{displayText:'Rarity: Rare to Common',onClick:function onClick(){return setSortBy(SortBy.RareToCommon);},reverseIndex:4,sortBy:SortBy.RareToCommon},{displayText:'Rarity: Common to Rare',onClick:function onClick(){return setSortBy(SortBy.CommonToRare);},reverseIndex:3,sortBy:SortBy.CommonToRare}]):options;};export var CollectionNfts=function CollectionNfts(_ref19){var _collectionAssets$,_collectionAssets$0$t,_collectionAssets$2,_collectionAssets$len;var contractAddress=_ref19.contractAddress,collectionStats=_ref19.collectionStats,rarityVerified=_ref19.rarityVerified;var _useWeb3React=useWeb3React(),chainId=_useWeb3React.chainId;var traits=useCollectionFilters(function(state){return state.traits;});var minPrice=useCollectionFilters(function(state){return state.minPrice;});var maxPrice=useCollectionFilters(function(state){return state.maxPrice;});var markets=useCollectionFilters(function(state){return state.markets;});var sortBy=useCollectionFilters(function(state){return state.sortBy;});var searchByNameText=useCollectionFilters(function(state){return state.search;});var setMarketCount=useCollectionFilters(function(state){return state.setMarketCount;});var setSortBy=useCollectionFilters(function(state){return state.setSortBy;});var buyNow=useCollectionFilters(function(state){return state.buyNow;});var setPriceRangeLow=usePriceRange(function(state){return state.setPriceRangeLow;});var priceRangeLow=usePriceRange(function(state){return state.priceRangeLow;});var priceRangeHigh=usePriceRange(function(state){return state.priceRangeHigh;});var setPriceRangeHigh=usePriceRange(function(state){return state.setPriceRangeHigh;});var setPrevMinMax=usePriceRange(function(state){return state.setPrevMinMax;});var setIsCollectionNftsLoading=useIsCollectionLoading(function(state){return state.setIsCollectionNftsLoading;});var removeTrait=useCollectionFilters(function(state){return state.removeTrait;});var removeMarket=useCollectionFilters(function(state){return state.removeMarket;});var reset=useCollectionFilters(function(state){return state.reset;});var setMin=useCollectionFilters(function(state){return state.setMinPrice;});var setMax=useCollectionFilters(function(state){return state.setMaxPrice;});var setHasRarity=useCollectionFilters(function(state){return state.setHasRarity;});var toggleBag=useBag(function(state){return state.toggleBag;});var bagExpanded=useBag(function(state){return state.bagExpanded;});var itemsInBag=useBag(function(state){return state.itemsInBag;});var debouncedMinPrice=useDebounce(minPrice,500);var debouncedMaxPrice=useDebounce(maxPrice,500);var debouncedSearchByNameText=useDebounce(searchByNameText,500);var _useState=useState(UniformAspectRatios.unset),_useState2=_slicedToArray(_useState,2),uniformAspectRatio=_useState2[0],setUniformAspectRatio=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),renderedHeight=_useState4[0],setRenderedHeight=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),sweepIsOpen=_useState6[0],setSweepOpen=_useState6[1];var assetQueryParams={address:contractAddress,orderBy:SortByQueries[sortBy].field,asc:SortByQueries[sortBy].asc,filter:{listed:buyNow,marketplaces:markets.length>0?markets.map(function(market){return market.toUpperCase();}):undefined,maxPrice:debouncedMaxPrice?parseEther(debouncedMaxPrice).toString():undefined,minPrice:debouncedMinPrice?parseEther(debouncedMinPrice).toString():undefined,tokenSearchQuery:debouncedSearchByNameText,traits:traits.length>0?traits.map(function(trait){return{name:trait.trait_type,values:[trait.trait_value]};}):undefined},first:ASSET_PAGE_SIZE};var _useNftAssets=useNftAssets(assetQueryParams),collectionNfts=_useNftAssets.data,loading=_useNftAssets.loading,hasNext=_useNftAssets.hasNext,loadMore=_useNftAssets.loadMore;var getPoolPosition=useCallback(function(asset){var assetInBag=itemsInBag.some(function(item){return asset.tokenId===item.asset.tokenId&&asset.address===item.asset.address;});if(asset.marketplace===Markets.Sudoswap){var bagItemsInSudoSwapPool=itemsInBag.filter(function(item){return isInSameSudoSwapPool(asset,item.asset);});if(assetInBag){return bagItemsInSudoSwapPool.findIndex(function(item){return item.asset.tokenId===asset.tokenId;});}else{return bagItemsInSudoSwapPool.length;}}return assetInBag?itemsInBag.filter(function(item){return isInSameMarketplaceCollection(asset,item.asset);}).findIndex(function(item){return item.asset.tokenId===asset.tokenId;}):itemsInBag.filter(function(item){return isInSameMarketplaceCollection(asset,item.asset);}).length;},[itemsInBag]);var calculatePrice=useCallback(function(asset){if(asset.marketplace===Markets.Sudoswap)return calcSudoSwapPrice(asset,getPoolPosition(asset));return calcPoolPrice(asset,getPoolPosition(asset));},[getPoolPosition]);var collectionAssets=useMemo(function(){if(!collectionNfts||!collectionNfts.some(function(asset){return asset.marketplace&&isPooledMarket(asset.marketplace);})){return collectionNfts;}var assets=_toConsumableArray(collectionNfts);assets.forEach(function(asset){var _calculatePrice;return asset.marketplace&&isPooledMarket(asset.marketplace)&&(asset.priceInfo.ETHPrice=(_calculatePrice=calculatePrice(asset))!==null&&_calculatePrice!==void 0?_calculatePrice:'');});if(sortBy===SortBy.HighToLow||sortBy===SortBy.LowToHigh){assets.sort(function(a,b){var _a$priceInfo$ETHPrice,_a$priceInfo,_b$priceInfo$ETHPrice,_b$priceInfo;var bigA=BigNumber.from((_a$priceInfo$ETHPrice=(_a$priceInfo=a.priceInfo)===null||_a$priceInfo===void 0?void 0:_a$priceInfo.ETHPrice)!==null&&_a$priceInfo$ETHPrice!==void 0?_a$priceInfo$ETHPrice:0);var bigB=BigNumber.from((_b$priceInfo$ETHPrice=(_b$priceInfo=b.priceInfo)===null||_b$priceInfo===void 0?void 0:_b$priceInfo.ETHPrice)!==null&&_b$priceInfo$ETHPrice!==void 0?_b$priceInfo$ETHPrice:0);// Always sort not for sale (price = 0) assets to the end\nif(bigA.gt(0)&&bigB.lte(0)){return-1;}else if(bigB.gt(0)&&bigA.lte(0)){return 1;}var diff=bigA.sub(bigB);if(diff.gt(0)){return sortBy===SortBy.LowToHigh?1:-1;}else if(diff.lt(0)){return sortBy===SortBy.LowToHigh?-1:1;}return 0;});}return assets;},[collectionNfts,sortBy,calculatePrice]);var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),currentTokenPlayingMedia=_useState8[0],setCurrentTokenPlayingMedia=_useState8[1];var _useFiltersExpanded=useFiltersExpanded(),_useFiltersExpanded2=_slicedToArray(_useFiltersExpanded,2),isFiltersExpanded=_useFiltersExpanded2[0],setFiltersExpanded=_useFiltersExpanded2[1];var oldStateRef=useRef(null);var isMobile=useIsMobile();var screenSize=useScreenSize();useEffect(function(){setIsCollectionNftsLoading(loading);},[loading,setIsCollectionNftsLoading]);var hasRarity=useMemo(function(){var _getRarityStatus;var hasRarity=(_getRarityStatus=getRarityStatus(rarityStatusCache,collectionStats===null||collectionStats===void 0?void 0:collectionStats.address,collectionAssets))!==null&&_getRarityStatus!==void 0?_getRarityStatus:false;setHasRarity(hasRarity);return hasRarity;},[collectionStats.address,collectionAssets,setHasRarity]);var sortDropDownOptions=useMemo(function(){return getSortDropdownOptions(setSortBy,hasRarity);},[hasRarity,setSortBy]);useEffect(function(){setSweepOpen(false);return function(){useCollectionFilters.setState(initialCollectionFilterState);};},[contractAddress]);var assets=useMemo(function(){if(!collectionAssets)return null;return collectionAssets.map(function(asset){return/*#__PURE__*/_jsx(CollectionAsset,{asset:asset,isMobile:isMobile,mediaShouldBePlaying:asset.tokenId===currentTokenPlayingMedia,setCurrentTokenPlayingMedia:setCurrentTokenPlayingMedia,rarityVerified:rarityVerified,uniformAspectRatio:uniformAspectRatio,setUniformAspectRatio:setUniformAspectRatio,renderedHeight:renderedHeight,setRenderedHeight:setRenderedHeight},asset.address+asset.tokenId);});},[collectionAssets,isMobile,currentTokenPlayingMedia,rarityVerified,uniformAspectRatio,renderedHeight]);var hasNfts=collectionAssets&&collectionAssets.length>0;var hasErc1155s=hasNfts&&collectionAssets[0]&&((_collectionAssets$=collectionAssets[0])===null||_collectionAssets$===void 0?void 0:_collectionAssets$.tokenType)===NftStandard.Erc1155;var minMaxPriceChipText=useMemo(function(){if(debouncedMinPrice&&debouncedMaxPrice){return\"Price: \".concat(debouncedMinPrice,\" - \").concat(debouncedMaxPrice,\" ETH\");}else if(debouncedMinPrice){return\"Min. Price: \".concat(debouncedMinPrice,\" ETH\");}else if(debouncedMaxPrice){return\"Max Price: \".concat(debouncedMaxPrice,\" ETH\");}return undefined;},[debouncedMinPrice,debouncedMaxPrice]);useEffect(function(){var _collectionStats$mark;var marketCount={};collectionStats===null||collectionStats===void 0?void 0:(_collectionStats$mark=collectionStats.marketplaceCount)===null||_collectionStats$mark===void 0?void 0:_collectionStats$mark.forEach(function(_ref20){var marketplace=_ref20.marketplace,count=_ref20.count;marketCount[marketplace]=count;});setMarketCount(marketCount);oldStateRef.current=useCollectionFilters.getState();},[collectionStats===null||collectionStats===void 0?void 0:collectionStats.marketplaceCount,setMarketCount]);var location=useLocation();// Applying filters from URL to local state\nuseEffect(function(){if(collectionStats===null||collectionStats===void 0?void 0:collectionStats.traits){var modifiedQuery=applyFiltersFromURL(location,collectionStats);requestAnimationFrame(function(){useCollectionFilters.setState(modifiedQuery);});useCollectionFilters.subscribe(function(state){if(JSON.stringify(oldStateRef.current)!==JSON.stringify(state)){syncLocalFiltersWithURL(state);oldStateRef.current=state;}});}// eslint-disable-next-line react-hooks/exhaustive-deps\n},[location]);useEffect(function(){setUniformAspectRatio(UniformAspectRatios.unset);setRenderedHeight(undefined);},[contractAddress]);useEffect(function(){var _collectionStats$stat;if(collectionStats&&((_collectionStats$stat=collectionStats.stats)===null||_collectionStats$stat===void 0?void 0:_collectionStats$stat.floor_price)){var _collectionStats$stat2,_collectionStats$stat3;var lowValue=(_collectionStats$stat2=collectionStats.stats)===null||_collectionStats$stat2===void 0?void 0:_collectionStats$stat2.floor_price;var maxValue=10*((_collectionStats$stat3=collectionStats.stats)===null||_collectionStats$stat3===void 0?void 0:_collectionStats$stat3.floor_price);if(priceRangeLow===''){setPriceRangeLow(lowValue===null||lowValue===void 0?void 0:lowValue.toFixed(2));}if(priceRangeHigh===''){setPriceRangeHigh(maxValue.toFixed(2));}}},[collectionStats,priceRangeLow,priceRangeHigh,setPriceRangeHigh,setPriceRangeLow]);var handleSweepClick=useCallback(function(){if(hasErc1155s)return;if(!sweepIsOpen){scrollToTop();if(!bagExpanded&&!isMobile)toggleBag();}setSweepOpen(!sweepIsOpen);},[bagExpanded,hasErc1155s,isMobile,sweepIsOpen,toggleBag]);var handleClearAllClick=useCallback(function(){reset();setPrevMinMax([0,100]);scrollToTop();},[reset,setPrevMinMax]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(AnimatedBox,{backgroundColor:\"backgroundBackdrop\",position:\"sticky\",top:\"72\",width:\"full\",zIndex:\"3\",marginBottom:{sm:'8',md:'20'},paddingTop:\"16\",paddingBottom:\"16\",children:[/*#__PURE__*/_jsxs(ActionsContainer,{children:[/*#__PURE__*/_jsxs(ActionsSubContainer,{children:[/*#__PURE__*/_jsx(TraceEvent,{events:[BrowserEvent.onClick],element:ElementName.NFT_FILTER_BUTTON,name:EventName.NFT_FILTER_OPENED,shouldLogImpression:!isFiltersExpanded,properties:{collection_address:contractAddress,chain_id:chainId},children:/*#__PURE__*/_jsx(FilterButton,{isMobile:isMobile,isFiltersExpanded:isFiltersExpanded,collectionCount:(_collectionAssets$0$t=collectionAssets===null||collectionAssets===void 0?void 0:(_collectionAssets$2=collectionAssets[0])===null||_collectionAssets$2===void 0?void 0:_collectionAssets$2.totalCount)!==null&&_collectionAssets$0$t!==void 0?_collectionAssets$0$t:0,onClick:function onClick(){if(bagExpanded&&!screenSize['xl'])toggleBag();setFiltersExpanded(!isFiltersExpanded);}})}),/*#__PURE__*/_jsx(SortDropdownContainer,{isFiltersExpanded:isFiltersExpanded,children:/*#__PURE__*/_jsx(SortDropdown,{dropDownOptions:sortDropDownOptions})}),/*#__PURE__*/_jsx(CollectionSearch,{})]}),!hasErc1155s&&/*#__PURE__*/_jsxs(SweepButton,{toggled:sweepIsOpen,disabled:hasErc1155s,className:buttonTextMedium,onClick:handleSweepClick,\"data-testid\":\"nft-sweep-button\",children:[/*#__PURE__*/_jsx(SweepIcon,{viewBox:\"0 0 24 24\",width:\"20px\",height:\"20px\"}),/*#__PURE__*/_jsx(SweepText,{fontWeight:600,color:\"currentColor\",lineHeight:\"20px\",children:\"Sweep\"})]})]}),/*#__PURE__*/_jsxs(InfiniteScrollWrapper,{children:[sweepIsOpen&&/*#__PURE__*/_jsx(Sweep,{contractAddress:contractAddress,minPrice:debouncedMinPrice,maxPrice:debouncedMaxPrice}),/*#__PURE__*/_jsxs(Row,{paddingTop:!!markets.length||!!traits.length||minMaxPriceChipText?'12':'0',gap:\"8\",flexWrap:\"wrap\",children:[markets.map(function(market){return/*#__PURE__*/_jsx(TraitChip,{value:/*#__PURE__*/_jsxs(MarketNameWrapper,{children:[/*#__PURE__*/_jsx(MarketplaceLogo,{src:\"/nft/svgs/marketplaces/\".concat(market.toLowerCase(),\".svg\")}),MARKETPLACE_ITEMS[market]]}),onClick:function onClick(){scrollToTop();removeMarket(market);}},market);}),traits.map(function(trait){return/*#__PURE__*/_jsx(TraitChip,{value:trait.trait_type==='Number of traits'?\"\".concat(trait.trait_value,\" trait\").concat(pluralize(Number(trait.trait_value))):\"\".concat(trait.trait_type,\": \").concat(trait.trait_value),onClick:function onClick(){scrollToTop();removeTrait(trait);}},trait.trait_value);}),minMaxPriceChipText&&/*#__PURE__*/_jsx(TraitChip,{value:minMaxPriceChipText,onClick:function onClick(){scrollToTop();setMin('');setMax('');setPrevMinMax([0,100]);}}),Boolean(traits.length||markets.length||minMaxPriceChipText)&&/*#__PURE__*/_jsx(ClearAllButton,{onClick:handleClearAllClick,children:\"Clear All\"})]})]})]}),/*#__PURE__*/_jsx(InfiniteScrollWrapper,{children:loading?/*#__PURE__*/_jsx(CollectionNftsLoading,{height:renderedHeight}):/*#__PURE__*/_jsx(InfiniteScroll,{next:loadMore,hasMore:hasNext!==null&&hasNext!==void 0?hasNext:false,loader:Boolean(hasNext&&hasNfts)&&/*#__PURE__*/_jsx(LoadingAssets,{}),dataLength:(_collectionAssets$len=collectionAssets===null||collectionAssets===void 0?void 0:collectionAssets.length)!==null&&_collectionAssets$len!==void 0?_collectionAssets$len:0,style:{overflow:'unset'},className:hasNfts?styles.assetList:undefined,children:!hasNfts?/*#__PURE__*/_jsx(Center,{width:\"full\",color:\"textSecondary\",textAlign:\"center\",style:{height:'60vh'},children:/*#__PURE__*/_jsxs(EmptyCollectionWrapper,{children:[/*#__PURE__*/_jsx(\"p\",{className:headlineMedium,children:\"No NFTS found\"}),/*#__PURE__*/_jsx(Box,{onClick:reset,type:\"button\",className:clsx(bodySmall,buttonTextMedium),color:\"accentAction\",cursor:\"pointer\",children:/*#__PURE__*/_jsx(ViewFullCollection,{children:\"View full collection\"})})]})}):assets})})]});};","map":{"version":3,"names":["BigNumber","TraceEvent","BrowserEvent","ElementName","EventName","useWeb3React","clsx","OpacityHoverState","parseEther","NftStandard","ASSET_PAGE_SIZE","useNftAssets","useDebounce","useScreenSize","AnimatedBox","Box","CollectionSearch","FilterButton","CollectionAsset","styles","SortDropdown","Center","Column","Row","SweepIcon","bodySmall","buttonTextMedium","headlineMedium","loadingAsset","initialCollectionFilterState","SortBy","SortByQueries","useBag","useCollectionFilters","useFiltersExpanded","useIsMobile","useIsCollectionLoading","usePriceRange","isPooledMarket","Markets","UniformAspectRatios","calcPoolPrice","calcSudoSwapPrice","getRarityStatus","isInSameMarketplaceCollection","isInSameSudoSwapPool","pluralize","scrollToTop","applyFiltersFromURL","syncLocalFiltersWithURL","useCallback","useEffect","useMemo","useRef","useState","InfiniteScroll","useLocation","ThemedText","CollectionAssetLoading","MARKETPLACE_ITEMS","MarketplaceLogo","Sweep","TraitChip","rarityStatusCache","Map","InfiniteScrollWrapperCss","css","theme","breakpoint","sm","md","lg","ActionsContainer","styled","div","ActionsSubContainer","SortDropdownContainer","isFiltersExpanded","EmptyCollectionWrapper","ViewFullCollection","span","ClearAllButton","button","textTertiary","InfiniteScrollWrapper","SweepButton","disabled","toggled","accentTextLightPrimary","textPrimary","backgroundInteractive","hoverState","transition","duration","timing","fast","in","SweepText","BodyPrimary","MarketNameWrapper","LoadingAssets","count","height","Array","from","_","index","CollectionNftsLoading","assetList","CollectionNftsAndMenuLoading","width","getSortDropdownOptions","setSortBy","hasRarity","options","displayText","onClick","LowToHigh","reverseIndex","sortBy","HighToLow","concat","RareToCommon","CommonToRare","CollectionNfts","contractAddress","collectionStats","rarityVerified","chainId","traits","state","minPrice","maxPrice","markets","searchByNameText","search","setMarketCount","buyNow","setPriceRangeLow","priceRangeLow","priceRangeHigh","setPriceRangeHigh","setPrevMinMax","setIsCollectionNftsLoading","removeTrait","removeMarket","reset","setMin","setMinPrice","setMax","setMaxPrice","setHasRarity","toggleBag","bagExpanded","itemsInBag","debouncedMinPrice","debouncedMaxPrice","debouncedSearchByNameText","unset","uniformAspectRatio","setUniformAspectRatio","renderedHeight","setRenderedHeight","sweepIsOpen","setSweepOpen","assetQueryParams","address","orderBy","field","asc","filter","listed","marketplaces","length","map","market","toUpperCase","undefined","toString","tokenSearchQuery","trait","name","trait_type","values","trait_value","first","collectionNfts","data","loading","hasNext","loadMore","getPoolPosition","asset","assetInBag","some","item","tokenId","marketplace","Sudoswap","bagItemsInSudoSwapPool","findIndex","calculatePrice","collectionAssets","assets","forEach","priceInfo","ETHPrice","sort","a","b","bigA","bigB","gt","lte","diff","sub","lt","currentTokenPlayingMedia","setCurrentTokenPlayingMedia","setFiltersExpanded","oldStateRef","isMobile","screenSize","sortDropDownOptions","setState","hasNfts","hasErc1155s","tokenType","Erc1155","minMaxPriceChipText","marketCount","marketplaceCount","current","getState","location","modifiedQuery","requestAnimationFrame","subscribe","JSON","stringify","stats","floor_price","lowValue","maxValue","toFixed","handleSweepClick","handleClearAllClick","NFT_FILTER_BUTTON","NFT_FILTER_OPENED","collection_address","chain_id","totalCount","toLowerCase","Number","Boolean","overflow"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/nft/components/collection/CollectionNfts.tsx"],"sourcesContent":["import { BigNumber } from '@ethersproject/bignumber'\nimport { TraceEvent } from '@uniswap/analytics'\nimport { BrowserEvent, ElementName, EventName } from '@uniswap/analytics-events'\nimport { useWeb3React } from '@web3-react/core'\nimport clsx from 'clsx'\nimport { OpacityHoverState } from 'components/Common'\nimport { parseEther } from 'ethers/lib/utils'\nimport { NftAssetTraitInput, NftMarketplace, NftStandard } from 'graphql/data/__generated__/types-and-hooks'\nimport { ASSET_PAGE_SIZE, AssetFetcherParams, useNftAssets } from 'graphql/data/nft/Asset'\nimport useDebounce from 'hooks/useDebounce'\nimport { useScreenSize } from 'hooks/useScreenSize'\nimport { AnimatedBox, Box } from 'nft/components/Box'\nimport { CollectionSearch, FilterButton } from 'nft/components/collection'\nimport { CollectionAsset } from 'nft/components/collection/CollectionAsset'\nimport * as styles from 'nft/components/collection/CollectionNfts.css'\nimport { SortDropdown } from 'nft/components/common/SortDropdown'\nimport { Center, Column, Row } from 'nft/components/Flex'\nimport { SweepIcon } from 'nft/components/icons'\nimport { bodySmall, buttonTextMedium, headlineMedium } from 'nft/css/common.css'\nimport { loadingAsset } from 'nft/css/loading.css'\nimport {\n  CollectionFilters,\n  initialCollectionFilterState,\n  SortBy,\n  SortByQueries,\n  useBag,\n  useCollectionFilters,\n  useFiltersExpanded,\n  useIsMobile,\n} from 'nft/hooks'\nimport { useIsCollectionLoading } from 'nft/hooks/useIsCollectionLoading'\nimport { usePriceRange } from 'nft/hooks/usePriceRange'\nimport {\n  DropDownOption,\n  GenieAsset,\n  GenieCollection,\n  isPooledMarket,\n  Markets,\n  UniformAspectRatio,\n  UniformAspectRatios,\n} from 'nft/types'\nimport {\n  calcPoolPrice,\n  calcSudoSwapPrice,\n  getRarityStatus,\n  isInSameMarketplaceCollection,\n  isInSameSudoSwapPool,\n  pluralize,\n} from 'nft/utils'\nimport { scrollToTop } from 'nft/utils/scrollToTop'\nimport { applyFiltersFromURL, syncLocalFiltersWithURL } from 'nft/utils/urlParams'\nimport { useCallback, useEffect, useMemo, useRef, useState } from 'react'\nimport InfiniteScroll from 'react-infinite-scroll-component'\nimport { useLocation } from 'react-router-dom'\nimport styled, { css } from 'styled-components/macro'\nimport { ThemedText } from 'theme'\n\nimport { CollectionAssetLoading } from './CollectionAssetLoading'\nimport { MARKETPLACE_ITEMS, MarketplaceLogo } from './MarketplaceSelect'\nimport { Sweep } from './Sweep'\nimport { TraitChip } from './TraitChip'\n\ninterface CollectionNftsProps {\n  contractAddress: string\n  collectionStats: GenieCollection\n  rarityVerified?: boolean\n}\n\nconst rarityStatusCache = new Map<string, boolean>()\n\nconst InfiniteScrollWrapperCss = css`\n  margin: 0 16px;\n  @media screen and (min-width: ${({ theme }) => theme.breakpoint.sm}px) {\n    margin: 0 20px;\n  }\n  @media screen and (min-width: ${({ theme }) => theme.breakpoint.md}px) {\n    margin: 0 26px;\n  }\n  @media screen and (min-width: ${({ theme }) => theme.breakpoint.lg}px) {\n    margin: 0 48px;\n  }\n`\n\nconst ActionsContainer = styled.div`\n  display: flex;\n  flex: 1 1 auto;\n  gap: 10px;\n  justify-content: space-between;\n\n  ${InfiniteScrollWrapperCss}\n`\n\nconst ActionsSubContainer = styled.div`\n  display: flex;\n  gap: 12px;\n  flex: 1;\n  min-width: 0px;\n  @media only screen and (max-width: ${({ theme }) => `${theme.breakpoint.md}px`}) {\n    gap: 10px;\n  }\n`\n\nconst SortDropdownContainer = styled.div<{ isFiltersExpanded: boolean }>`\n  width: max-content;\n  height: 44px;\n  @media only screen and (max-width: ${({ theme }) => `${theme.breakpoint.lg}px`}) {\n    ${({ isFiltersExpanded }) => isFiltersExpanded && `display: none;`}\n  }\n  @media only screen and (max-width: ${({ theme }) => `${theme.breakpoint.md}px`}) {\n    display: none;\n  }\n`\n\nconst EmptyCollectionWrapper = styled.div`\n  display: block;\n  text-align: center;\n`\n\nconst ViewFullCollection = styled.span`\n  ${OpacityHoverState}\n`\n\nexport const ClearAllButton = styled.button`\n  color: ${({ theme }) => theme.textTertiary};\n  padding-left: 8px;\n  padding-right: 8px;\n  font-size: 14px;\n  font-weight: 600;\n  border: none;\n  cursor: pointer;\n  background: none;\n`\n\nconst InfiniteScrollWrapper = styled.div`\n  ${InfiniteScrollWrapperCss}\n`\n\nconst SweepButton = styled.div<{ toggled: boolean; disabled?: boolean }>`\n  display: flex;\n  gap: 8px;\n  border: none;\n  border-radius: 12px;\n  padding: 12px 18px 12px 12px;\n  cursor: ${({ disabled }) => (disabled ? 'auto' : 'pointer')};\n  color: ${({ toggled, disabled, theme }) => (toggled && !disabled ? theme.accentTextLightPrimary : theme.textPrimary)};\n  background: ${({ theme, toggled, disabled }) =>\n    !disabled && toggled\n      ? 'radial-gradient(101.8% 4091.31% at 0% 0%, #4673FA 0%, #9646FA 100%)'\n      : theme.backgroundInteractive};\n  opacity: ${({ disabled }) => (disabled ? 0.4 : 1)};\n  :hover {\n    background-color: ${({ theme }) => theme.hoverState};\n    transition: ${({\n      theme: {\n        transition: { duration, timing },\n      },\n    }) => `${duration.fast} background-color ${timing.in}`};\n  }\n\n  @media only screen and (max-width: ${({ theme }) => `${theme.breakpoint.md}px`}) {\n    padding: 12px 12px 12px 12px;\n  }\n`\n\nconst SweepText = styled(ThemedText.BodyPrimary)`\n  @media only screen and (max-width: ${({ theme }) => `${theme.breakpoint.md}px`}) {\n    display: none;\n  }\n`\n\nconst MarketNameWrapper = styled(Row)`\n  gap: 8px;\n`\n\nexport const LoadingAssets = ({ count, height }: { count?: number; height?: number }) => (\n  <>\n    {Array.from(Array(count ?? ASSET_PAGE_SIZE), (_, index) => (\n      <CollectionAssetLoading key={index} height={height} />\n    ))}\n  </>\n)\n\nconst CollectionNftsLoading = ({ height }: { height?: number }) => (\n  <Box width=\"full\" className={styles.assetList}>\n    <LoadingAssets height={height} />\n  </Box>\n)\n\nexport const CollectionNftsAndMenuLoading = () => (\n  <InfiniteScrollWrapper>\n    <Column alignItems=\"flex-start\" position=\"relative\" width=\"full\">\n      <Row marginY=\"12\" gap=\"12\" marginBottom=\"40\">\n        <Box className={loadingAsset} borderRadius=\"12\" width={{ sm: '44', md: '100' }} height=\"44\" />\n        <Box\n          className={loadingAsset}\n          borderRadius=\"12\"\n          height=\"44\"\n          display={{ sm: 'none', md: 'flex' }}\n          style={{ width: '220px' }}\n        />\n        <Box className={loadingAsset} borderRadius=\"12\" height=\"44\" width={{ sm: '276', md: '332' }} />\n      </Row>\n      <CollectionNftsLoading />\n    </Column>\n  </InfiniteScrollWrapper>\n)\n\nexport const getSortDropdownOptions = (setSortBy: (sortBy: SortBy) => void, hasRarity: boolean): DropDownOption[] => {\n  const options = [\n    {\n      displayText: 'Price: Low to High',\n      onClick: () => setSortBy(SortBy.LowToHigh),\n      reverseIndex: 2,\n      sortBy: SortBy.LowToHigh,\n    },\n    {\n      displayText: 'Price: High to Low',\n      onClick: () => setSortBy(SortBy.HighToLow),\n      reverseIndex: 1,\n      sortBy: SortBy.HighToLow,\n    },\n  ]\n  return hasRarity\n    ? options.concat([\n        {\n          displayText: 'Rarity: Rare to Common',\n          onClick: () => setSortBy(SortBy.RareToCommon),\n          reverseIndex: 4,\n          sortBy: SortBy.RareToCommon,\n        },\n        {\n          displayText: 'Rarity: Common to Rare',\n          onClick: () => setSortBy(SortBy.CommonToRare),\n          reverseIndex: 3,\n          sortBy: SortBy.CommonToRare,\n        },\n      ])\n    : options\n}\n\nexport const CollectionNfts = ({ contractAddress, collectionStats, rarityVerified }: CollectionNftsProps) => {\n  const { chainId } = useWeb3React()\n  const traits = useCollectionFilters((state) => state.traits)\n  const minPrice = useCollectionFilters((state) => state.minPrice)\n  const maxPrice = useCollectionFilters((state) => state.maxPrice)\n  const markets = useCollectionFilters((state) => state.markets)\n  const sortBy = useCollectionFilters((state) => state.sortBy)\n  const searchByNameText = useCollectionFilters((state) => state.search)\n  const setMarketCount = useCollectionFilters((state) => state.setMarketCount)\n  const setSortBy = useCollectionFilters((state) => state.setSortBy)\n  const buyNow = useCollectionFilters((state) => state.buyNow)\n\n  const setPriceRangeLow = usePriceRange((state) => state.setPriceRangeLow)\n  const priceRangeLow = usePriceRange((state) => state.priceRangeLow)\n  const priceRangeHigh = usePriceRange((state) => state.priceRangeHigh)\n  const setPriceRangeHigh = usePriceRange((state) => state.setPriceRangeHigh)\n  const setPrevMinMax = usePriceRange((state) => state.setPrevMinMax)\n\n  const setIsCollectionNftsLoading = useIsCollectionLoading((state) => state.setIsCollectionNftsLoading)\n  const removeTrait = useCollectionFilters((state) => state.removeTrait)\n  const removeMarket = useCollectionFilters((state) => state.removeMarket)\n  const reset = useCollectionFilters((state) => state.reset)\n  const setMin = useCollectionFilters((state) => state.setMinPrice)\n  const setMax = useCollectionFilters((state) => state.setMaxPrice)\n  const setHasRarity = useCollectionFilters((state) => state.setHasRarity)\n\n  const toggleBag = useBag((state) => state.toggleBag)\n  const bagExpanded = useBag((state) => state.bagExpanded)\n  const itemsInBag = useBag((state) => state.itemsInBag)\n\n  const debouncedMinPrice = useDebounce(minPrice, 500)\n  const debouncedMaxPrice = useDebounce(maxPrice, 500)\n  const debouncedSearchByNameText = useDebounce(searchByNameText, 500)\n\n  const [uniformAspectRatio, setUniformAspectRatio] = useState<UniformAspectRatio>(UniformAspectRatios.unset)\n  const [renderedHeight, setRenderedHeight] = useState<number | undefined>()\n\n  const [sweepIsOpen, setSweepOpen] = useState(false)\n\n  const assetQueryParams: AssetFetcherParams = {\n    address: contractAddress,\n    orderBy: SortByQueries[sortBy].field,\n    asc: SortByQueries[sortBy].asc,\n    filter: {\n      listed: buyNow,\n      marketplaces: markets.length > 0 ? markets.map((market) => market.toUpperCase() as NftMarketplace) : undefined,\n      maxPrice: debouncedMaxPrice ? parseEther(debouncedMaxPrice).toString() : undefined,\n      minPrice: debouncedMinPrice ? parseEther(debouncedMinPrice).toString() : undefined,\n      tokenSearchQuery: debouncedSearchByNameText,\n      traits:\n        traits.length > 0\n          ? traits.map((trait) => {\n              return { name: trait.trait_type, values: [trait.trait_value] } as unknown as NftAssetTraitInput\n            })\n          : undefined,\n    },\n    first: ASSET_PAGE_SIZE,\n  }\n\n  const { data: collectionNfts, loading, hasNext, loadMore } = useNftAssets(assetQueryParams)\n\n  const getPoolPosition = useCallback(\n    (asset: GenieAsset) => {\n      const assetInBag = itemsInBag.some(\n        (item) => asset.tokenId === item.asset.tokenId && asset.address === item.asset.address\n      )\n\n      if (asset.marketplace === Markets.Sudoswap) {\n        const bagItemsInSudoSwapPool = itemsInBag.filter((item) => isInSameSudoSwapPool(asset, item.asset))\n        if (assetInBag) {\n          return bagItemsInSudoSwapPool.findIndex((item) => item.asset.tokenId === asset.tokenId)\n        } else {\n          return bagItemsInSudoSwapPool.length\n        }\n      }\n\n      return assetInBag\n        ? itemsInBag\n            .filter((item) => isInSameMarketplaceCollection(asset, item.asset))\n            .findIndex((item) => item.asset.tokenId === asset.tokenId)\n        : itemsInBag.filter((item) => isInSameMarketplaceCollection(asset, item.asset)).length\n    },\n    [itemsInBag]\n  )\n\n  const calculatePrice = useCallback(\n    (asset: GenieAsset) => {\n      if (asset.marketplace === Markets.Sudoswap) return calcSudoSwapPrice(asset, getPoolPosition(asset))\n      return calcPoolPrice(asset, getPoolPosition(asset))\n    },\n    [getPoolPosition]\n  )\n\n  const collectionAssets = useMemo(() => {\n    if (!collectionNfts || !collectionNfts.some((asset) => asset.marketplace && isPooledMarket(asset.marketplace))) {\n      return collectionNfts\n    }\n\n    const assets = [...collectionNfts]\n\n    assets.forEach(\n      (asset) =>\n        asset.marketplace &&\n        isPooledMarket(asset.marketplace) &&\n        (asset.priceInfo.ETHPrice = calculatePrice(asset) ?? '')\n    )\n\n    if (sortBy === SortBy.HighToLow || sortBy === SortBy.LowToHigh) {\n      assets.sort((a, b) => {\n        const bigA = BigNumber.from(a.priceInfo?.ETHPrice ?? 0)\n        const bigB = BigNumber.from(b.priceInfo?.ETHPrice ?? 0)\n\n        // Always sort not for sale (price = 0) assets to the end\n        if (bigA.gt(0) && bigB.lte(0)) {\n          return -1\n        } else if (bigB.gt(0) && bigA.lte(0)) {\n          return 1\n        }\n\n        const diff = bigA.sub(bigB)\n        if (diff.gt(0)) {\n          return sortBy === SortBy.LowToHigh ? 1 : -1\n        } else if (diff.lt(0)) {\n          return sortBy === SortBy.LowToHigh ? -1 : 1\n        }\n\n        return 0\n      })\n    }\n\n    return assets\n  }, [collectionNfts, sortBy, calculatePrice])\n\n  const [currentTokenPlayingMedia, setCurrentTokenPlayingMedia] = useState<string | undefined>()\n  const [isFiltersExpanded, setFiltersExpanded] = useFiltersExpanded()\n  const oldStateRef = useRef<CollectionFilters | null>(null)\n  const isMobile = useIsMobile()\n  const screenSize = useScreenSize()\n\n  useEffect(() => {\n    setIsCollectionNftsLoading(loading)\n  }, [loading, setIsCollectionNftsLoading])\n\n  const hasRarity = useMemo(() => {\n    const hasRarity = getRarityStatus(rarityStatusCache, collectionStats?.address, collectionAssets) ?? false\n    setHasRarity(hasRarity)\n    return hasRarity\n  }, [collectionStats.address, collectionAssets, setHasRarity])\n\n  const sortDropDownOptions: DropDownOption[] = useMemo(\n    () => getSortDropdownOptions(setSortBy, hasRarity),\n    [hasRarity, setSortBy]\n  )\n\n  useEffect(() => {\n    setSweepOpen(false)\n    return () => {\n      useCollectionFilters.setState(initialCollectionFilterState)\n    }\n  }, [contractAddress])\n\n  const assets = useMemo(() => {\n    if (!collectionAssets) return null\n    return collectionAssets.map((asset) => (\n      <CollectionAsset\n        key={asset.address + asset.tokenId}\n        asset={asset}\n        isMobile={isMobile}\n        mediaShouldBePlaying={asset.tokenId === currentTokenPlayingMedia}\n        setCurrentTokenPlayingMedia={setCurrentTokenPlayingMedia}\n        rarityVerified={rarityVerified}\n        uniformAspectRatio={uniformAspectRatio}\n        setUniformAspectRatio={setUniformAspectRatio}\n        renderedHeight={renderedHeight}\n        setRenderedHeight={setRenderedHeight}\n      />\n    ))\n  }, [collectionAssets, isMobile, currentTokenPlayingMedia, rarityVerified, uniformAspectRatio, renderedHeight])\n\n  const hasNfts = collectionAssets && collectionAssets.length > 0\n  const hasErc1155s = hasNfts && collectionAssets[0] && collectionAssets[0]?.tokenType === NftStandard.Erc1155\n\n  const minMaxPriceChipText: string | undefined = useMemo(() => {\n    if (debouncedMinPrice && debouncedMaxPrice) {\n      return `Price: ${debouncedMinPrice} - ${debouncedMaxPrice} ETH`\n    } else if (debouncedMinPrice) {\n      return `Min. Price: ${debouncedMinPrice} ETH`\n    } else if (debouncedMaxPrice) {\n      return `Max Price: ${debouncedMaxPrice} ETH`\n    }\n\n    return undefined\n  }, [debouncedMinPrice, debouncedMaxPrice])\n\n  useEffect(() => {\n    const marketCount: any = {}\n    collectionStats?.marketplaceCount?.forEach(({ marketplace, count }) => {\n      marketCount[marketplace] = count\n    })\n    setMarketCount(marketCount)\n    oldStateRef.current = useCollectionFilters.getState()\n  }, [collectionStats?.marketplaceCount, setMarketCount])\n\n  const location = useLocation()\n  // Applying filters from URL to local state\n  useEffect(() => {\n    if (collectionStats?.traits) {\n      const modifiedQuery = applyFiltersFromURL(location, collectionStats)\n\n      requestAnimationFrame(() => {\n        useCollectionFilters.setState(modifiedQuery as any)\n      })\n\n      useCollectionFilters.subscribe((state) => {\n        if (JSON.stringify(oldStateRef.current) !== JSON.stringify(state)) {\n          syncLocalFiltersWithURL(state)\n          oldStateRef.current = state\n        }\n      })\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [location])\n\n  useEffect(() => {\n    setUniformAspectRatio(UniformAspectRatios.unset)\n    setRenderedHeight(undefined)\n  }, [contractAddress])\n\n  useEffect(() => {\n    if (collectionStats && collectionStats.stats?.floor_price) {\n      const lowValue = collectionStats.stats?.floor_price\n      const maxValue = 10 * collectionStats.stats?.floor_price\n\n      if (priceRangeLow === '') {\n        setPriceRangeLow(lowValue?.toFixed(2))\n      }\n\n      if (priceRangeHigh === '') {\n        setPriceRangeHigh(maxValue.toFixed(2))\n      }\n    }\n  }, [collectionStats, priceRangeLow, priceRangeHigh, setPriceRangeHigh, setPriceRangeLow])\n\n  const handleSweepClick = useCallback(() => {\n    if (hasErc1155s) return\n    if (!sweepIsOpen) {\n      scrollToTop()\n      if (!bagExpanded && !isMobile) toggleBag()\n    }\n    setSweepOpen(!sweepIsOpen)\n  }, [bagExpanded, hasErc1155s, isMobile, sweepIsOpen, toggleBag])\n\n  const handleClearAllClick = useCallback(() => {\n    reset()\n    setPrevMinMax([0, 100])\n    scrollToTop()\n  }, [reset, setPrevMinMax])\n\n  return (\n    <>\n      <AnimatedBox\n        backgroundColor=\"backgroundBackdrop\"\n        position=\"sticky\"\n        top=\"72\"\n        width=\"full\"\n        zIndex=\"3\"\n        marginBottom={{ sm: '8', md: '20' }}\n        paddingTop=\"16\"\n        paddingBottom=\"16\"\n      >\n        <ActionsContainer>\n          <ActionsSubContainer>\n            <TraceEvent\n              events={[BrowserEvent.onClick]}\n              element={ElementName.NFT_FILTER_BUTTON}\n              name={EventName.NFT_FILTER_OPENED}\n              shouldLogImpression={!isFiltersExpanded}\n              properties={{ collection_address: contractAddress, chain_id: chainId }}\n            >\n              <FilterButton\n                isMobile={isMobile}\n                isFiltersExpanded={isFiltersExpanded}\n                collectionCount={collectionAssets?.[0]?.totalCount ?? 0}\n                onClick={() => {\n                  if (bagExpanded && !screenSize['xl']) toggleBag()\n                  setFiltersExpanded(!isFiltersExpanded)\n                }}\n              />\n            </TraceEvent>\n            <SortDropdownContainer isFiltersExpanded={isFiltersExpanded}>\n              <SortDropdown dropDownOptions={sortDropDownOptions} />\n            </SortDropdownContainer>\n            <CollectionSearch />\n          </ActionsSubContainer>\n          {!hasErc1155s && (\n            <SweepButton\n              toggled={sweepIsOpen}\n              disabled={hasErc1155s}\n              className={buttonTextMedium}\n              onClick={handleSweepClick}\n              data-testid=\"nft-sweep-button\"\n            >\n              <SweepIcon viewBox=\"0 0 24 24\" width=\"20px\" height=\"20px\" />\n              <SweepText fontWeight={600} color=\"currentColor\" lineHeight=\"20px\">\n                Sweep\n              </SweepText>\n            </SweepButton>\n          )}\n        </ActionsContainer>\n        <InfiniteScrollWrapper>\n          {sweepIsOpen && (\n            <Sweep contractAddress={contractAddress} minPrice={debouncedMinPrice} maxPrice={debouncedMaxPrice} />\n          )}\n          <Row\n            paddingTop={!!markets.length || !!traits.length || minMaxPriceChipText ? '12' : '0'}\n            gap=\"8\"\n            flexWrap=\"wrap\"\n          >\n            {markets.map((market) => (\n              <TraitChip\n                key={market}\n                value={\n                  <MarketNameWrapper>\n                    <MarketplaceLogo src={`/nft/svgs/marketplaces/${market.toLowerCase()}.svg`} />\n                    {MARKETPLACE_ITEMS[market as keyof typeof MARKETPLACE_ITEMS]}\n                  </MarketNameWrapper>\n                }\n                onClick={() => {\n                  scrollToTop()\n                  removeMarket(market)\n                }}\n              />\n            ))}\n            {traits.map((trait) => (\n              <TraitChip\n                key={trait.trait_value}\n                value={\n                  trait.trait_type === 'Number of traits'\n                    ? `${trait.trait_value} trait${pluralize(Number(trait.trait_value))}`\n                    : `${trait.trait_type}: ${trait.trait_value}`\n                }\n                onClick={() => {\n                  scrollToTop()\n                  removeTrait(trait)\n                }}\n              />\n            ))}\n            {minMaxPriceChipText && (\n              <TraitChip\n                value={minMaxPriceChipText}\n                onClick={() => {\n                  scrollToTop()\n                  setMin('')\n                  setMax('')\n                  setPrevMinMax([0, 100])\n                }}\n              />\n            )}\n            {Boolean(traits.length || markets.length || minMaxPriceChipText) && (\n              <ClearAllButton onClick={handleClearAllClick}>Clear All</ClearAllButton>\n            )}\n          </Row>\n        </InfiniteScrollWrapper>\n      </AnimatedBox>\n      <InfiniteScrollWrapper>\n        {loading ? (\n          <CollectionNftsLoading height={renderedHeight} />\n        ) : (\n          <InfiniteScroll\n            next={loadMore}\n            hasMore={hasNext ?? false}\n            loader={Boolean(hasNext && hasNfts) && <LoadingAssets />}\n            dataLength={collectionAssets?.length ?? 0}\n            style={{ overflow: 'unset' }}\n            className={hasNfts ? styles.assetList : undefined}\n          >\n            {!hasNfts ? (\n              <Center width=\"full\" color=\"textSecondary\" textAlign=\"center\" style={{ height: '60vh' }}>\n                <EmptyCollectionWrapper>\n                  <p className={headlineMedium}>No NFTS found</p>\n                  <Box\n                    onClick={reset}\n                    type=\"button\"\n                    className={clsx(bodySmall, buttonTextMedium)}\n                    color=\"accentAction\"\n                    cursor=\"pointer\"\n                  >\n                    <ViewFullCollection>View full collection</ViewFullCollection>\n                  </Box>\n                </EmptyCollectionWrapper>\n              </Center>\n            ) : (\n              assets\n            )}\n          </InfiniteScroll>\n        )}\n      </InfiniteScrollWrapper>\n    </>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}