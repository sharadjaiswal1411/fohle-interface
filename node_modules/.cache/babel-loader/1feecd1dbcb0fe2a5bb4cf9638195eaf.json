{"ast":null,"code":"import _styled from \"styled-components\";\nvar _jsxFileName = \"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/components/LiquidityChartRangeInput/Zoom.tsx\",\n  _s = $RefreshSig$();\nimport { ButtonGray } from 'components/Button';\nimport { select, zoom, zoomIdentity } from 'd3';\nimport React, { useEffect, useMemo, useRef } from 'react';\nimport { RefreshCcw, ZoomIn, ZoomOut } from 'react-feather';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Wrapper = _styled.div.withConfig({\n  displayName: \"Zoom__Wrapper\",\n  componentId: \"sc-2wmd87-0\"\n})([\"display:grid;grid-template-columns:repeat(\", \",1fr);grid-gap:6px;position:absolute;top:-75px;right:0;\"], _ref => {\n  let {\n    count\n  } = _ref;\n  return count.toString();\n});\nconst Button = _styled(ButtonGray).withConfig({\n  displayName: \"Zoom__Button\",\n  componentId: \"sc-2wmd87-1\"\n})([\"&:hover{background-color:\", \";color:\", \";}width:32px;height:32px;padding:4px;\"], _ref2 => {\n  let {\n    theme\n  } = _ref2;\n  return theme.backgroundInteractive;\n}, _ref3 => {\n  let {\n    theme\n  } = _ref3;\n  return theme.textPrimary;\n});\nexport const ZoomOverlay = _styled.rect.withConfig({\n  displayName: \"Zoom__ZoomOverlay\",\n  componentId: \"sc-2wmd87-2\"\n})([\"fill:transparent;cursor:grab;&:active{cursor:grabbing;}\"]);\nexport default function Zoom(_ref4) {\n  _s();\n  let {\n    svg,\n    xScale,\n    setZoom,\n    width,\n    height,\n    resetBrush,\n    showResetButton,\n    zoomLevels\n  } = _ref4;\n  const zoomBehavior = useRef();\n  const [zoomIn, zoomOut, zoomInitial, zoomReset] = useMemo(() => [() => svg && zoomBehavior.current && select(svg).transition().call(zoomBehavior.current.scaleBy, 2), () => svg && zoomBehavior.current && select(svg).transition().call(zoomBehavior.current.scaleBy, 0.5), () => svg && zoomBehavior.current && select(svg).transition().call(zoomBehavior.current.scaleTo, 0.5), () => svg && zoomBehavior.current && select(svg).call(zoomBehavior.current.transform, zoomIdentity.translate(0, 0).scale(1)).transition().call(zoomBehavior.current.scaleTo, 0.5)], [svg]);\n  useEffect(() => {\n    if (!svg) return;\n    zoomBehavior.current = zoom().scaleExtent([zoomLevels.min, zoomLevels.max]).extent([[0, 0], [width, height]]).on('zoom', _ref5 => {\n      let {\n        transform\n      } = _ref5;\n      return setZoom(transform);\n    });\n    select(svg).call(zoomBehavior.current);\n  }, [height, width, setZoom, svg, xScale, zoomBehavior, zoomLevels, zoomLevels.max, zoomLevels.min]);\n  useEffect(() => {\n    // reset zoom to initial on zoomLevel change\n    zoomInitial();\n  }, [zoomInitial, zoomLevels]);\n  return /*#__PURE__*/_jsxDEV(Wrapper, {\n    count: showResetButton ? 3 : 2,\n    children: [showResetButton && /*#__PURE__*/_jsxDEV(Button, {\n      onClick: () => {\n        resetBrush();\n        zoomReset();\n      },\n      disabled: false,\n      children: /*#__PURE__*/_jsxDEV(RefreshCcw, {\n        size: 16\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: zoomIn,\n      disabled: false,\n      children: /*#__PURE__*/_jsxDEV(ZoomIn, {\n        size: 16\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: zoomOut,\n      disabled: false,\n      children: /*#__PURE__*/_jsxDEV(ZoomOut, {\n        size: 16\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 5\n  }, this);\n}\n_s(Zoom, \"zH4NRSDp1LbD9MaDDRtFoY33Y4A=\");\n_c = Zoom;\nvar _c;\n$RefreshReg$(_c, \"Zoom\");","map":{"version":3,"names":["ButtonGray","select","zoom","zoomIdentity","React","useEffect","useMemo","useRef","RefreshCcw","ZoomIn","ZoomOut","Wrapper","styled","div","count","toString","Button","theme","backgroundInteractive","textPrimary","ZoomOverlay","rect","Zoom","svg","xScale","setZoom","width","height","resetBrush","showResetButton","zoomLevels","zoomBehavior","zoomIn","zoomOut","zoomInitial","zoomReset","current","transition","call","scaleBy","scaleTo","transform","translate","scale","scaleExtent","min","max","extent","on"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/components/LiquidityChartRangeInput/Zoom.tsx"],"sourcesContent":["import { ButtonGray } from 'components/Button'\nimport { ScaleLinear, select, zoom, ZoomBehavior, zoomIdentity, ZoomTransform } from 'd3'\nimport React, { useEffect, useMemo, useRef } from 'react'\nimport { RefreshCcw, ZoomIn, ZoomOut } from 'react-feather'\nimport styled from 'styled-components/macro'\n\nimport { ZoomLevels } from './types'\n\nconst Wrapper = styled.div<{ count: number }>`\n  display: grid;\n  grid-template-columns: repeat(${({ count }) => count.toString()}, 1fr);\n  grid-gap: 6px;\n\n  position: absolute;\n  top: -75px;\n  right: 0;\n`\n\nconst Button = styled(ButtonGray)`\n  &:hover {\n    background-color: ${({ theme }) => theme.backgroundInteractive};\n    color: ${({ theme }) => theme.textPrimary};\n  }\n\n  width: 32px;\n  height: 32px;\n  padding: 4px;\n`\n\nexport const ZoomOverlay = styled.rect`\n  fill: transparent;\n  cursor: grab;\n\n  &:active {\n    cursor: grabbing;\n  }\n`\n\nexport default function Zoom({\n  svg,\n  xScale,\n  setZoom,\n  width,\n  height,\n  resetBrush,\n  showResetButton,\n  zoomLevels,\n}: {\n  svg: SVGElement | null\n  xScale: ScaleLinear<number, number>\n  setZoom: (transform: ZoomTransform) => void\n  width: number\n  height: number\n  resetBrush: () => void\n  showResetButton: boolean\n  zoomLevels: ZoomLevels\n}) {\n  const zoomBehavior = useRef<ZoomBehavior<Element, unknown>>()\n\n  const [zoomIn, zoomOut, zoomInitial, zoomReset] = useMemo(\n    () => [\n      () =>\n        svg &&\n        zoomBehavior.current &&\n        select(svg as Element)\n          .transition()\n          .call(zoomBehavior.current.scaleBy, 2),\n      () =>\n        svg &&\n        zoomBehavior.current &&\n        select(svg as Element)\n          .transition()\n          .call(zoomBehavior.current.scaleBy, 0.5),\n      () =>\n        svg &&\n        zoomBehavior.current &&\n        select(svg as Element)\n          .transition()\n          .call(zoomBehavior.current.scaleTo, 0.5),\n      () =>\n        svg &&\n        zoomBehavior.current &&\n        select(svg as Element)\n          .call(zoomBehavior.current.transform, zoomIdentity.translate(0, 0).scale(1))\n          .transition()\n          .call(zoomBehavior.current.scaleTo, 0.5),\n    ],\n    [svg]\n  )\n\n  useEffect(() => {\n    if (!svg) return\n\n    zoomBehavior.current = zoom()\n      .scaleExtent([zoomLevels.min, zoomLevels.max])\n      .extent([\n        [0, 0],\n        [width, height],\n      ])\n      .on('zoom', ({ transform }: { transform: ZoomTransform }) => setZoom(transform))\n\n    select(svg as Element).call(zoomBehavior.current)\n  }, [height, width, setZoom, svg, xScale, zoomBehavior, zoomLevels, zoomLevels.max, zoomLevels.min])\n\n  useEffect(() => {\n    // reset zoom to initial on zoomLevel change\n    zoomInitial()\n  }, [zoomInitial, zoomLevels])\n\n  return (\n    <Wrapper count={showResetButton ? 3 : 2}>\n      {showResetButton && (\n        <Button\n          onClick={() => {\n            resetBrush()\n            zoomReset()\n          }}\n          disabled={false}\n        >\n          <RefreshCcw size={16} />\n        </Button>\n      )}\n      <Button onClick={zoomIn} disabled={false}>\n        <ZoomIn size={16} />\n      </Button>\n      <Button onClick={zoomOut} disabled={false}>\n        <ZoomOut size={16} />\n      </Button>\n    </Wrapper>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}