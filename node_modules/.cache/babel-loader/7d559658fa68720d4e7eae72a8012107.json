{"ast":null,"code":"import { log } from './log';\nexport var MetricLoggerUnit;\n(function (MetricLoggerUnit) {\n  MetricLoggerUnit[\"Seconds\"] = \"Seconds\";\n  MetricLoggerUnit[\"Microseconds\"] = \"Microseconds\";\n  MetricLoggerUnit[\"Milliseconds\"] = \"Milliseconds\";\n  MetricLoggerUnit[\"Bytes\"] = \"Bytes\";\n  MetricLoggerUnit[\"Kilobytes\"] = \"Kilobytes\";\n  MetricLoggerUnit[\"Megabytes\"] = \"Megabytes\";\n  MetricLoggerUnit[\"Gigabytes\"] = \"Gigabytes\";\n  MetricLoggerUnit[\"Terabytes\"] = \"Terabytes\";\n  MetricLoggerUnit[\"Bits\"] = \"Bits\";\n  MetricLoggerUnit[\"Kilobits\"] = \"Kilobits\";\n  MetricLoggerUnit[\"Megabits\"] = \"Megabits\";\n  MetricLoggerUnit[\"Gigabits\"] = \"Gigabits\";\n  MetricLoggerUnit[\"Terabits\"] = \"Terabits\";\n  MetricLoggerUnit[\"Percent\"] = \"Percent\";\n  MetricLoggerUnit[\"Count\"] = \"Count\";\n  MetricLoggerUnit[\"BytesPerSecond\"] = \"Bytes/Second\";\n  MetricLoggerUnit[\"KilobytesPerSecond\"] = \"Kilobytes/Second\";\n  MetricLoggerUnit[\"MegabytesPerSecond\"] = \"Megabytes/Second\";\n  MetricLoggerUnit[\"GigabytesPerSecond\"] = \"Gigabytes/Second\";\n  MetricLoggerUnit[\"TerabytesPerSecond\"] = \"Terabytes/Second\";\n  MetricLoggerUnit[\"BitsPerSecond\"] = \"Bits/Second\";\n  MetricLoggerUnit[\"KilobitsPerSecond\"] = \"Kilobits/Second\";\n  MetricLoggerUnit[\"MegabitsPerSecond\"] = \"Megabits/Second\";\n  MetricLoggerUnit[\"GigabitsPerSecond\"] = \"Gigabits/Second\";\n  MetricLoggerUnit[\"TerabitsPerSecond\"] = \"Terabits/Second\";\n  MetricLoggerUnit[\"CountPerSecond\"] = \"Count/Second\";\n  MetricLoggerUnit[\"None\"] = \"None\";\n})(MetricLoggerUnit || (MetricLoggerUnit = {}));\nexport class IMetric {}\nexport class MetricLogger extends IMetric {\n  constructor(context) {\n    super();\n    this.log = log.child(context || {});\n  }\n  putDimensions(dimensions) {\n    this.log = this.log.child(dimensions);\n  }\n  putMetric(key, value, unit) {\n    this.log.info({\n      key,\n      value,\n      unit\n    }, `[Metric]: ${key}: ${value} | ${unit ? unit : ''}`);\n  }\n}\nexport let metric = new MetricLogger();\nexport const setGlobalMetric = _metric => {\n  metric = _metric;\n};","map":{"version":3,"sources":["../../../src/util/metric.ts"],"names":[],"mappings":"AAEA,SAAS,GAAG,QAAQ,OAAO;AAE3B,OAAA,IAAY,gBA4BX;AA5BD,CAAA,UAAY,gBAAgB,EAAA;EAC1B,gBAAA,CAAA,SAAA,CAAA,GAAA,SAAmB;EACnB,gBAAA,CAAA,cAAA,CAAA,GAAA,cAA6B;EAC7B,gBAAA,CAAA,cAAA,CAAA,GAAA,cAA6B;EAC7B,gBAAA,CAAA,OAAA,CAAA,GAAA,OAAe;EACf,gBAAA,CAAA,WAAA,CAAA,GAAA,WAAuB;EACvB,gBAAA,CAAA,WAAA,CAAA,GAAA,WAAuB;EACvB,gBAAA,CAAA,WAAA,CAAA,GAAA,WAAuB;EACvB,gBAAA,CAAA,WAAA,CAAA,GAAA,WAAuB;EACvB,gBAAA,CAAA,MAAA,CAAA,GAAA,MAAa;EACb,gBAAA,CAAA,UAAA,CAAA,GAAA,UAAqB;EACrB,gBAAA,CAAA,UAAA,CAAA,GAAA,UAAqB;EACrB,gBAAA,CAAA,UAAA,CAAA,GAAA,UAAqB;EACrB,gBAAA,CAAA,UAAA,CAAA,GAAA,UAAqB;EACrB,gBAAA,CAAA,SAAA,CAAA,GAAA,SAAmB;EACnB,gBAAA,CAAA,OAAA,CAAA,GAAA,OAAe;EACf,gBAAA,CAAA,gBAAA,CAAA,GAAA,cAA+B;EAC/B,gBAAA,CAAA,oBAAA,CAAA,GAAA,kBAAuC;EACvC,gBAAA,CAAA,oBAAA,CAAA,GAAA,kBAAuC;EACvC,gBAAA,CAAA,oBAAA,CAAA,GAAA,kBAAuC;EACvC,gBAAA,CAAA,oBAAA,CAAA,GAAA,kBAAuC;EACvC,gBAAA,CAAA,eAAA,CAAA,GAAA,aAA6B;EAC7B,gBAAA,CAAA,mBAAA,CAAA,GAAA,iBAAqC;EACrC,gBAAA,CAAA,mBAAA,CAAA,GAAA,iBAAqC;EACrC,gBAAA,CAAA,mBAAA,CAAA,GAAA,iBAAqC;EACrC,gBAAA,CAAA,mBAAA,CAAA,GAAA,iBAAqC;EACrC,gBAAA,CAAA,gBAAA,CAAA,GAAA,cAA+B;EAC/B,gBAAA,CAAA,MAAA,CAAA,GAAA,MAAa;AACf,CAAC,EA5BW,gBAAgB,KAAhB,gBAAgB,GAAA,CAAA,CAAA,CAAA,CAAA;AA8B5B,OAAM,MAAgB,OAAO,CAAA;AAU7B,OAAM,MAAO,YAAa,SAAQ,OAAO,CAAA;EAGvC,WAAA,CAAY,OAAuB,EAAA;IACjC,KAAK,EAAE;IACP,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC,KAAK,CAAC,OAAO,IAAI,CAAA,CAAE,CAAC;EACrC;EAEO,aAAa,CAAC,UAAkC,EAAA;IACrD,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,UAAU,CAAC;EACvC;EAEO,SAAS,CAAC,GAAW,EAAE,KAAa,EAAE,IAAuB,EAAA;IAClE,IAAI,CAAC,GAAG,CAAC,IAAI,CACX;MAAE,GAAG;MAAE,KAAK;MAAE;IAAI,CAAE,EACpB,aAAa,GAAG,KAAK,KAAK,MAAM,IAAI,GAAG,IAAI,GAAG,EAAE,EAAE,CACnD;EACH;AACD;AAED,OAAO,IAAI,MAAM,GAAY,IAAI,YAAY,EAAE;AAE/C,OAAO,MAAM,eAAe,GAAI,OAAgB,IAAI;EAClD,MAAM,GAAG,OAAO;AAClB,CAAC","sourceRoot":"","sourcesContent":["import { log } from './log';\nexport var MetricLoggerUnit;\n(function (MetricLoggerUnit) {\n    MetricLoggerUnit[\"Seconds\"] = \"Seconds\";\n    MetricLoggerUnit[\"Microseconds\"] = \"Microseconds\";\n    MetricLoggerUnit[\"Milliseconds\"] = \"Milliseconds\";\n    MetricLoggerUnit[\"Bytes\"] = \"Bytes\";\n    MetricLoggerUnit[\"Kilobytes\"] = \"Kilobytes\";\n    MetricLoggerUnit[\"Megabytes\"] = \"Megabytes\";\n    MetricLoggerUnit[\"Gigabytes\"] = \"Gigabytes\";\n    MetricLoggerUnit[\"Terabytes\"] = \"Terabytes\";\n    MetricLoggerUnit[\"Bits\"] = \"Bits\";\n    MetricLoggerUnit[\"Kilobits\"] = \"Kilobits\";\n    MetricLoggerUnit[\"Megabits\"] = \"Megabits\";\n    MetricLoggerUnit[\"Gigabits\"] = \"Gigabits\";\n    MetricLoggerUnit[\"Terabits\"] = \"Terabits\";\n    MetricLoggerUnit[\"Percent\"] = \"Percent\";\n    MetricLoggerUnit[\"Count\"] = \"Count\";\n    MetricLoggerUnit[\"BytesPerSecond\"] = \"Bytes/Second\";\n    MetricLoggerUnit[\"KilobytesPerSecond\"] = \"Kilobytes/Second\";\n    MetricLoggerUnit[\"MegabytesPerSecond\"] = \"Megabytes/Second\";\n    MetricLoggerUnit[\"GigabytesPerSecond\"] = \"Gigabytes/Second\";\n    MetricLoggerUnit[\"TerabytesPerSecond\"] = \"Terabytes/Second\";\n    MetricLoggerUnit[\"BitsPerSecond\"] = \"Bits/Second\";\n    MetricLoggerUnit[\"KilobitsPerSecond\"] = \"Kilobits/Second\";\n    MetricLoggerUnit[\"MegabitsPerSecond\"] = \"Megabits/Second\";\n    MetricLoggerUnit[\"GigabitsPerSecond\"] = \"Gigabits/Second\";\n    MetricLoggerUnit[\"TerabitsPerSecond\"] = \"Terabits/Second\";\n    MetricLoggerUnit[\"CountPerSecond\"] = \"Count/Second\";\n    MetricLoggerUnit[\"None\"] = \"None\";\n})(MetricLoggerUnit || (MetricLoggerUnit = {}));\nexport class IMetric {\n}\nexport class MetricLogger extends IMetric {\n    constructor(context) {\n        super();\n        this.log = log.child(context || {});\n    }\n    putDimensions(dimensions) {\n        this.log = this.log.child(dimensions);\n    }\n    putMetric(key, value, unit) {\n        this.log.info({ key, value, unit }, `[Metric]: ${key}: ${value} | ${unit ? unit : ''}`);\n    }\n}\nexport let metric = new MetricLogger();\nexport const setGlobalMetric = (_metric) => {\n    metric = _metric;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWV0cmljLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL3V0aWwvbWV0cmljLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLE9BQU8sRUFBRSxHQUFHLEVBQUUsTUFBTSxPQUFPLENBQUM7QUFFNUIsTUFBTSxDQUFOLElBQVksZ0JBNEJYO0FBNUJELFdBQVksZ0JBQWdCO0lBQzFCLHVDQUFtQixDQUFBO0lBQ25CLGlEQUE2QixDQUFBO0lBQzdCLGlEQUE2QixDQUFBO0lBQzdCLG1DQUFlLENBQUE7SUFDZiwyQ0FBdUIsQ0FBQTtJQUN2QiwyQ0FBdUIsQ0FBQTtJQUN2QiwyQ0FBdUIsQ0FBQTtJQUN2QiwyQ0FBdUIsQ0FBQTtJQUN2QixpQ0FBYSxDQUFBO0lBQ2IseUNBQXFCLENBQUE7SUFDckIseUNBQXFCLENBQUE7SUFDckIseUNBQXFCLENBQUE7SUFDckIseUNBQXFCLENBQUE7SUFDckIsdUNBQW1CLENBQUE7SUFDbkIsbUNBQWUsQ0FBQTtJQUNmLG1EQUErQixDQUFBO0lBQy9CLDJEQUF1QyxDQUFBO0lBQ3ZDLDJEQUF1QyxDQUFBO0lBQ3ZDLDJEQUF1QyxDQUFBO0lBQ3ZDLDJEQUF1QyxDQUFBO0lBQ3ZDLGlEQUE2QixDQUFBO0lBQzdCLHlEQUFxQyxDQUFBO0lBQ3JDLHlEQUFxQyxDQUFBO0lBQ3JDLHlEQUFxQyxDQUFBO0lBQ3JDLHlEQUFxQyxDQUFBO0lBQ3JDLG1EQUErQixDQUFBO0lBQy9CLGlDQUFhLENBQUE7QUFDZixDQUFDLEVBNUJXLGdCQUFnQixLQUFoQixnQkFBZ0IsUUE0QjNCO0FBRUQsTUFBTSxPQUFnQixPQUFPO0NBRzVCO0FBT0QsTUFBTSxPQUFPLFlBQWEsU0FBUSxPQUFPO0lBR3ZDLFlBQVksT0FBdUI7UUFDakMsS0FBSyxFQUFFLENBQUM7UUFDUixJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUMsT0FBTyxJQUFJLEVBQUUsQ0FBQyxDQUFDO0lBQ3RDLENBQUM7SUFFTSxhQUFhLENBQUMsVUFBa0M7UUFDckQsSUFBSSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsQ0FBQztJQUN4QyxDQUFDO0lBRU0sU0FBUyxDQUFDLEdBQVcsRUFBRSxLQUFhLEVBQUUsSUFBdUI7UUFDbEUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQ1gsRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxFQUNwQixhQUFhLEdBQUcsS0FBSyxLQUFLLE1BQU0sSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUNuRCxDQUFDO0lBQ0osQ0FBQztDQUNGO0FBRUQsTUFBTSxDQUFDLElBQUksTUFBTSxHQUFZLElBQUksWUFBWSxFQUFFLENBQUM7QUFFaEQsTUFBTSxDQUFDLE1BQU0sZUFBZSxHQUFHLENBQUMsT0FBZ0IsRUFBRSxFQUFFO0lBQ2xELE1BQU0sR0FBRyxPQUFPLENBQUM7QUFDbkIsQ0FBQyxDQUFDIn0="]},"metadata":{},"sourceType":"module"}