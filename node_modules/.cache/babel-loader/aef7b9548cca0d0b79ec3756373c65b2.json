{"ast":null,"code":"import _toConsumableArray from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _slicedToArray from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useTheme as _useTheme}from\"styled-components\";import{Trans}from\"@lingui/react\";import{BigNumber}from'@ethersproject/bignumber';import{TraceEvent}from'@uniswap/analytics';import{BrowserEvent,ElementName,EventName}from'@uniswap/analytics-events';import{Percent}from'@uniswap/sdk-core';import{useWeb3React}from'@web3-react/core';import{sendEvent}from'components/analytics';import{useV2LiquidityTokenPermit}from'hooks/useV2LiquidityTokenPermit';import{useCallback,useMemo,useState}from'react';import{ArrowDown,Plus}from'react-feather';import{useNavigate,useParams}from'react-router-dom';import{Text}from'rebass';import{ButtonConfirmed,ButtonError,ButtonLight,ButtonPrimary}from'../../components/Button';import{BlueCard,LightCard}from'../../components/Card';import{AutoColumn,ColumnCenter}from'../../components/Column';import CurrencyInputPanel from'../../components/CurrencyInputPanel';import DoubleCurrencyLogo from'../../components/DoubleLogo';import CurrencyLogo from'../../components/Logo/CurrencyLogo';import{AddRemoveTabs}from'../../components/NavigationTabs';import{MinimalPositionCard}from'../../components/PositionCard';import Row,{RowBetween,RowFixed}from'../../components/Row';import Slider from'../../components/Slider';import{Dots}from'../../components/swap/styleds';import TransactionConfirmationModal,{ConfirmationModalContent}from'../../components/TransactionConfirmationModal';import{WRAPPED_NATIVE_CURRENCY}from'../../constants/tokens';import{useCurrency}from'../../hooks/Tokens';import{ApprovalState,useApproveCallback}from'../../hooks/useApproveCallback';import{usePairContract,useV2RouterContract}from'../../hooks/useContract';import useDebouncedChangeHandler from'../../hooks/useDebouncedChangeHandler';import useTransactionDeadline from'../../hooks/useTransactionDeadline';import{useToggleWalletModal}from'../../state/application/hooks';import{Field}from'../../state/burn/actions';import{useBurnActionHandlers,useBurnState,useDerivedBurnInfo}from'../../state/burn/hooks';import{useTransactionAdder}from'../../state/transactions/hooks';import{TransactionType}from'../../state/transactions/types';import{useUserSlippageToleranceWithDefault}from'../../state/user/hooks';import{StyledInternalLink,ThemedText}from'../../theme';import{calculateGasMargin}from'../../utils/calculateGasMargin';import{calculateSlippageAmount}from'../../utils/calculateSlippageAmount';import{currencyId}from'../../utils/currencyId';import AppBody from'../AppBody';import{ClickableText,MaxButton,Wrapper}from'../Pool/styleds';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var DEFAULT_REMOVE_LIQUIDITY_SLIPPAGE_TOLERANCE=new Percent(5,100);export default function RemoveLiquidity(){var _useCurrency,_useCurrency2,_parsedAmounts$Field$,_parsedAmounts$Field$2,_parsedAmounts$Field$3,_parsedAmounts$Field$4,_parsedAmounts$Field$5,_parsedAmounts$Field$6,_formattedAmounts,_parsedAmounts$Field$7,_pair$liquidityToken,_parsedAmounts$Field$11,_parsedAmounts$Field$12,_WRAPPED_NATIVE_CURRE,_WRAPPED_NATIVE_CURRE2,_WRAPPED_NATIVE_CURRE3,_WRAPPED_NATIVE_CURRE4,_WRAPPED_NATIVE_CURRE5,_WRAPPED_NATIVE_CURRE6;var navigate=useNavigate();var _useParams=useParams(),currencyIdA=_useParams.currencyIdA,currencyIdB=_useParams.currencyIdB;var currencyA=(_useCurrency=useCurrency(currencyIdA))!==null&&_useCurrency!==void 0?_useCurrency:undefined,currencyB=(_useCurrency2=useCurrency(currencyIdB))!==null&&_useCurrency2!==void 0?_useCurrency2:undefined;var _useWeb3React=useWeb3React(),account=_useWeb3React.account,chainId=_useWeb3React.chainId,provider=_useWeb3React.provider;var _useMemo=useMemo(function(){return[currencyA===null||currencyA===void 0?void 0:currencyA.wrapped,currencyB===null||currencyB===void 0?void 0:currencyB.wrapped];},[currencyA,currencyB]),_useMemo2=_slicedToArray(_useMemo,2),tokenA=_useMemo2[0],tokenB=_useMemo2[1];var theme=_useTheme();// toggle wallet when disconnected\nvar toggleWalletModal=useToggleWalletModal();// burn state\nvar _useBurnState=useBurnState(),independentField=_useBurnState.independentField,typedValue=_useBurnState.typedValue;var _useDerivedBurnInfo=useDerivedBurnInfo(currencyA!==null&&currencyA!==void 0?currencyA:undefined,currencyB!==null&&currencyB!==void 0?currencyB:undefined),pair=_useDerivedBurnInfo.pair,parsedAmounts=_useDerivedBurnInfo.parsedAmounts,error=_useDerivedBurnInfo.error;var _useBurnActionHandler=useBurnActionHandlers(),_onUserInput=_useBurnActionHandler.onUserInput;var isValid=!error;// modal and loading\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),showConfirm=_useState2[0],setShowConfirm=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showDetailed=_useState4[0],setShowDetailed=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),attemptingTxn=_useState6[0],setAttemptingTxn=_useState6[1];// clicked confirm\n// txn values\nvar _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),txHash=_useState8[0],setTxHash=_useState8[1];var deadline=useTransactionDeadline();var allowedSlippage=useUserSlippageToleranceWithDefault(DEFAULT_REMOVE_LIQUIDITY_SLIPPAGE_TOLERANCE);var formattedAmounts=(_formattedAmounts={},_defineProperty(_formattedAmounts,Field.LIQUIDITY_PERCENT,parsedAmounts[Field.LIQUIDITY_PERCENT].equalTo('0')?'0':parsedAmounts[Field.LIQUIDITY_PERCENT].lessThan(new Percent('1','100'))?'<1':parsedAmounts[Field.LIQUIDITY_PERCENT].toFixed(0)),_defineProperty(_formattedAmounts,Field.LIQUIDITY,independentField===Field.LIQUIDITY?typedValue:(_parsedAmounts$Field$=(_parsedAmounts$Field$2=parsedAmounts[Field.LIQUIDITY])===null||_parsedAmounts$Field$2===void 0?void 0:_parsedAmounts$Field$2.toSignificant(6))!==null&&_parsedAmounts$Field$!==void 0?_parsedAmounts$Field$:''),_defineProperty(_formattedAmounts,Field.CURRENCY_A,independentField===Field.CURRENCY_A?typedValue:(_parsedAmounts$Field$3=(_parsedAmounts$Field$4=parsedAmounts[Field.CURRENCY_A])===null||_parsedAmounts$Field$4===void 0?void 0:_parsedAmounts$Field$4.toSignificant(6))!==null&&_parsedAmounts$Field$3!==void 0?_parsedAmounts$Field$3:''),_defineProperty(_formattedAmounts,Field.CURRENCY_B,independentField===Field.CURRENCY_B?typedValue:(_parsedAmounts$Field$5=(_parsedAmounts$Field$6=parsedAmounts[Field.CURRENCY_B])===null||_parsedAmounts$Field$6===void 0?void 0:_parsedAmounts$Field$6.toSignificant(6))!==null&&_parsedAmounts$Field$5!==void 0?_parsedAmounts$Field$5:''),_formattedAmounts);var atMaxAmount=(_parsedAmounts$Field$7=parsedAmounts[Field.LIQUIDITY_PERCENT])===null||_parsedAmounts$Field$7===void 0?void 0:_parsedAmounts$Field$7.equalTo(new Percent('1'));// pair contract\nvar pairContract=usePairContract(pair===null||pair===void 0?void 0:(_pair$liquidityToken=pair.liquidityToken)===null||_pair$liquidityToken===void 0?void 0:_pair$liquidityToken.address);var router=useV2RouterContract();// allowance handling\nvar _useV2LiquidityTokenP=useV2LiquidityTokenPermit(parsedAmounts[Field.LIQUIDITY],router===null||router===void 0?void 0:router.address),gatherPermitSignature=_useV2LiquidityTokenP.gatherPermitSignature,signatureData=_useV2LiquidityTokenP.signatureData;var _useApproveCallback=useApproveCallback(parsedAmounts[Field.LIQUIDITY],router===null||router===void 0?void 0:router.address),_useApproveCallback2=_slicedToArray(_useApproveCallback,2),approval=_useApproveCallback2[0],approveCallback=_useApproveCallback2[1];function onAttemptToApprove(){return _onAttemptToApprove.apply(this,arguments);}// wrapped onUserInput to clear signatures\nfunction _onAttemptToApprove(){_onAttemptToApprove=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var liquidityAmount;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(!pairContract||!pair||!provider||!deadline)){_context.next=2;break;}throw new Error('missing dependencies');case 2:liquidityAmount=parsedAmounts[Field.LIQUIDITY];if(liquidityAmount){_context.next=5;break;}throw new Error('missing liquidity amount');case 5:if(!gatherPermitSignature){_context.next=18;break;}_context.prev=6;_context.next=9;return gatherPermitSignature();case 9:_context.next=16;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](6);if(!((_context.t0===null||_context.t0===void 0?void 0:_context.t0.code)!==4001)){_context.next=16;break;}_context.next=16;return approveCallback();case 16:_context.next=20;break;case 18:_context.next=20;return approveCallback();case 20:case\"end\":return _context.stop();}}},_callee,null,[[6,11]]);}));return _onAttemptToApprove.apply(this,arguments);}var onUserInput=useCallback(function(field,typedValue){return _onUserInput(field,typedValue);},[_onUserInput]);var onLiquidityInput=useCallback(function(typedValue){return onUserInput(Field.LIQUIDITY,typedValue);},[onUserInput]);var onCurrencyAInput=useCallback(function(typedValue){return onUserInput(Field.CURRENCY_A,typedValue);},[onUserInput]);var onCurrencyBInput=useCallback(function(typedValue){return onUserInput(Field.CURRENCY_B,typedValue);},[onUserInput]);// tx sending\nvar addTransaction=useTransactionAdder();function onRemove(){return _onRemove.apply(this,arguments);}function _onRemove(){_onRemove=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _amountsMin;var currencyAmountA,currencyAmountB,amountsMin,liquidityAmount,currencyBIsETH,oneCurrencyIsETH,methodNames,args,safeGasEstimates,indexOfSuccessfulEstimation,methodName,safeGasEstimate;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(!chainId||!provider||!account||!deadline||!router)){_context2.next=2;break;}throw new Error('missing dependencies');case 2:currencyAmountA=parsedAmounts[Field.CURRENCY_A],currencyAmountB=parsedAmounts[Field.CURRENCY_B];if(!(!currencyAmountA||!currencyAmountB)){_context2.next=5;break;}throw new Error('missing currency amounts');case 5:amountsMin=(_amountsMin={},_defineProperty(_amountsMin,Field.CURRENCY_A,calculateSlippageAmount(currencyAmountA,allowedSlippage)[0]),_defineProperty(_amountsMin,Field.CURRENCY_B,calculateSlippageAmount(currencyAmountB,allowedSlippage)[0]),_amountsMin);if(!(!currencyA||!currencyB)){_context2.next=8;break;}throw new Error('missing tokens');case 8:liquidityAmount=parsedAmounts[Field.LIQUIDITY];if(liquidityAmount){_context2.next=11;break;}throw new Error('missing liquidity amount');case 11:currencyBIsETH=currencyB.isNative;oneCurrencyIsETH=currencyA.isNative||currencyBIsETH;if(!(!tokenA||!tokenB)){_context2.next=15;break;}throw new Error('could not wrap');case 15:if(!(approval===ApprovalState.APPROVED)){_context2.next=19;break;}// removeLiquidityETH\nif(oneCurrencyIsETH){methodNames=['removeLiquidityETH','removeLiquidityETHSupportingFeeOnTransferTokens'];args=[currencyBIsETH?tokenA.address:tokenB.address,liquidityAmount.quotient.toString(),amountsMin[currencyBIsETH?Field.CURRENCY_A:Field.CURRENCY_B].toString(),amountsMin[currencyBIsETH?Field.CURRENCY_B:Field.CURRENCY_A].toString(),account,deadline.toHexString()];}// removeLiquidity\nelse{methodNames=['removeLiquidity'];args=[tokenA.address,tokenB.address,liquidityAmount.quotient.toString(),amountsMin[Field.CURRENCY_A].toString(),amountsMin[Field.CURRENCY_B].toString(),account,deadline.toHexString()];}_context2.next=24;break;case 19:if(!(signatureData!==null)){_context2.next=23;break;}// removeLiquidityETHWithPermit\nif(oneCurrencyIsETH){methodNames=['removeLiquidityETHWithPermit','removeLiquidityETHWithPermitSupportingFeeOnTransferTokens'];args=[currencyBIsETH?tokenA.address:tokenB.address,liquidityAmount.quotient.toString(),amountsMin[currencyBIsETH?Field.CURRENCY_A:Field.CURRENCY_B].toString(),amountsMin[currencyBIsETH?Field.CURRENCY_B:Field.CURRENCY_A].toString(),account,signatureData.deadline,false,signatureData.v,signatureData.r,signatureData.s];}// removeLiquidityETHWithPermit\nelse{methodNames=['removeLiquidityWithPermit'];args=[tokenA.address,tokenB.address,liquidityAmount.quotient.toString(),amountsMin[Field.CURRENCY_A].toString(),amountsMin[Field.CURRENCY_B].toString(),account,signatureData.deadline,false,signatureData.v,signatureData.r,signatureData.s];}_context2.next=24;break;case 23:throw new Error('Attempting to confirm without approval or a signature. Please contact support.');case 24:_context2.next=26;return Promise.all(methodNames.map(function(methodName){var _router$estimateGas;return(_router$estimateGas=router.estimateGas)[methodName].apply(_router$estimateGas,_toConsumableArray(args)).then(function(estimateGas){return calculateGasMargin(estimateGas);}).catch(function(error){console.error(\"estimateGas failed\",methodName,args,error);return undefined;});}));case 26:safeGasEstimates=_context2.sent;indexOfSuccessfulEstimation=safeGasEstimates.findIndex(function(safeGasEstimate){return BigNumber.isBigNumber(safeGasEstimate);});// all estimations failed...\nif(!(indexOfSuccessfulEstimation===-1)){_context2.next=32;break;}console.error('This transaction would fail. Please contact support.');_context2.next=37;break;case 32:methodName=methodNames[indexOfSuccessfulEstimation];safeGasEstimate=safeGasEstimates[indexOfSuccessfulEstimation];setAttemptingTxn(true);_context2.next=37;return router[methodName].apply(router,_toConsumableArray(args).concat([{gasLimit:safeGasEstimate}])).then(function(response){var _parsedAmounts$Field$13,_parsedAmounts$Field$14,_parsedAmounts$Field$15,_parsedAmounts$Field$16;setAttemptingTxn(false);addTransaction(response,{type:TransactionType.REMOVE_LIQUIDITY_V3,baseCurrencyId:currencyId(currencyA),quoteCurrencyId:currencyId(currencyB),expectedAmountBaseRaw:(_parsedAmounts$Field$13=(_parsedAmounts$Field$14=parsedAmounts[Field.CURRENCY_A])===null||_parsedAmounts$Field$14===void 0?void 0:_parsedAmounts$Field$14.quotient.toString())!==null&&_parsedAmounts$Field$13!==void 0?_parsedAmounts$Field$13:'0',expectedAmountQuoteRaw:(_parsedAmounts$Field$15=(_parsedAmounts$Field$16=parsedAmounts[Field.CURRENCY_B])===null||_parsedAmounts$Field$16===void 0?void 0:_parsedAmounts$Field$16.quotient.toString())!==null&&_parsedAmounts$Field$15!==void 0?_parsedAmounts$Field$15:'0'});setTxHash(response.hash);sendEvent({category:'Liquidity',action:'Remove',label:[currencyA.symbol,currencyB.symbol].join('/')});}).catch(function(error){setAttemptingTxn(false);// we only care if the error is something _other_ than the user rejected the tx\nconsole.error(error);});case 37:case\"end\":return _context2.stop();}}},_callee2);}));return _onRemove.apply(this,arguments);}function modalHeader(){var _parsedAmounts$Field$8,_parsedAmounts$Field$9;return/*#__PURE__*/_jsxs(AutoColumn,{gap:\"md\",style:{marginTop:'20px'},children:[/*#__PURE__*/_jsxs(RowBetween,{align:\"flex-end\",children:[/*#__PURE__*/_jsx(Text,{fontSize:24,fontWeight:500,children:(_parsedAmounts$Field$8=parsedAmounts[Field.CURRENCY_A])===null||_parsedAmounts$Field$8===void 0?void 0:_parsedAmounts$Field$8.toSignificant(6)}),/*#__PURE__*/_jsxs(RowFixed,{gap:\"4px\",children:[/*#__PURE__*/_jsx(CurrencyLogo,{currency:currencyA,size:\"24px\"}),/*#__PURE__*/_jsx(Text,{fontSize:24,fontWeight:500,style:{marginLeft:'10px'},children:currencyA===null||currencyA===void 0?void 0:currencyA.symbol})]})]}),/*#__PURE__*/_jsx(RowFixed,{children:/*#__PURE__*/_jsx(Plus,{size:\"16\",color:theme.textSecondary})}),/*#__PURE__*/_jsxs(RowBetween,{align:\"flex-end\",children:[/*#__PURE__*/_jsx(Text,{fontSize:24,fontWeight:500,children:(_parsedAmounts$Field$9=parsedAmounts[Field.CURRENCY_B])===null||_parsedAmounts$Field$9===void 0?void 0:_parsedAmounts$Field$9.toSignificant(6)}),/*#__PURE__*/_jsxs(RowFixed,{gap:\"4px\",children:[/*#__PURE__*/_jsx(CurrencyLogo,{currency:currencyB,size:\"24px\"}),/*#__PURE__*/_jsx(Text,{fontSize:24,fontWeight:500,style:{marginLeft:'10px'},children:currencyB===null||currencyB===void 0?void 0:currencyB.symbol})]})]}),/*#__PURE__*/_jsx(ThemedText.DeprecatedItalic,{fontSize:12,color:theme.textSecondary,textAlign:\"left\",padding:\"12px 0 0 0\",children:/*#__PURE__*/_jsx(Trans,{id:\"Output is estimated. If the price changes by more than {0}% your transaction will revert.\",values:{0:allowedSlippage.toSignificant(4)}})})]});}function modalBottom(){var _parsedAmounts$Field$10;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(RowBetween,{children:[/*#__PURE__*/_jsx(Text,{color:theme.textSecondary,fontWeight:500,fontSize:16,children:/*#__PURE__*/_jsx(Trans,{id:\"UNI {0}/{1} Burned\",values:{0:currencyA===null||currencyA===void 0?void 0:currencyA.symbol,1:currencyB===null||currencyB===void 0?void 0:currencyB.symbol}})}),/*#__PURE__*/_jsxs(RowFixed,{children:[/*#__PURE__*/_jsx(DoubleCurrencyLogo,{currency0:currencyA,currency1:currencyB,margin:true}),/*#__PURE__*/_jsx(Text,{fontWeight:500,fontSize:16,children:(_parsedAmounts$Field$10=parsedAmounts[Field.LIQUIDITY])===null||_parsedAmounts$Field$10===void 0?void 0:_parsedAmounts$Field$10.toSignificant(6)})]})]}),pair&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(RowBetween,{children:[/*#__PURE__*/_jsx(Text,{color:theme.textSecondary,fontWeight:500,fontSize:16,children:/*#__PURE__*/_jsx(Trans,{id:\"Price\"})}),/*#__PURE__*/_jsxs(Text,{fontWeight:500,fontSize:16,color:theme.textPrimary,children:[\"1 \",currencyA===null||currencyA===void 0?void 0:currencyA.symbol,\" = \",tokenA?pair.priceOf(tokenA).toSignificant(6):'-',\" \",currencyB===null||currencyB===void 0?void 0:currencyB.symbol]})]}),/*#__PURE__*/_jsxs(RowBetween,{children:[/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsxs(Text,{fontWeight:500,fontSize:16,color:theme.textPrimary,children:[\"1 \",currencyB===null||currencyB===void 0?void 0:currencyB.symbol,\" = \",tokenB?pair.priceOf(tokenB).toSignificant(6):'-',\" \",currencyA===null||currencyA===void 0?void 0:currencyA.symbol]})]})]}),/*#__PURE__*/_jsx(ButtonPrimary,{disabled:!(approval===ApprovalState.APPROVED||signatureData!==null),onClick:onRemove,children:/*#__PURE__*/_jsx(Text,{fontWeight:500,fontSize:20,children:/*#__PURE__*/_jsx(Trans,{id:\"Confirm\"})})})]});}var pendingText=/*#__PURE__*/_jsx(Trans,{id:\"Removing {0} {1} and{2} {3}\",values:{0:(_parsedAmounts$Field$11=parsedAmounts[Field.CURRENCY_A])===null||_parsedAmounts$Field$11===void 0?void 0:_parsedAmounts$Field$11.toSignificant(6),1:currencyA===null||currencyA===void 0?void 0:currencyA.symbol,2:(_parsedAmounts$Field$12=parsedAmounts[Field.CURRENCY_B])===null||_parsedAmounts$Field$12===void 0?void 0:_parsedAmounts$Field$12.toSignificant(6),3:currencyB===null||currencyB===void 0?void 0:currencyB.symbol}});var liquidityPercentChangeCallback=useCallback(function(value){onUserInput(Field.LIQUIDITY_PERCENT,value.toString());},[onUserInput]);var oneCurrencyIsETH=(currencyA===null||currencyA===void 0?void 0:currencyA.isNative)||(currencyB===null||currencyB===void 0?void 0:currencyB.isNative);var oneCurrencyIsWETH=Boolean(chainId&&WRAPPED_NATIVE_CURRENCY[chainId]&&(currencyA&&((_WRAPPED_NATIVE_CURRE=WRAPPED_NATIVE_CURRENCY[chainId])===null||_WRAPPED_NATIVE_CURRE===void 0?void 0:_WRAPPED_NATIVE_CURRE.equals(currencyA))||currencyB&&((_WRAPPED_NATIVE_CURRE2=WRAPPED_NATIVE_CURRENCY[chainId])===null||_WRAPPED_NATIVE_CURRE2===void 0?void 0:_WRAPPED_NATIVE_CURRE2.equals(currencyB))));var handleSelectCurrencyA=useCallback(function(currency){if(currencyIdB&&currencyId(currency)===currencyIdB){navigate(\"/remove/v2/\".concat(currencyId(currency),\"/\").concat(currencyIdA));}else{navigate(\"/remove/v2/\".concat(currencyId(currency),\"/\").concat(currencyIdB));}},[currencyIdA,currencyIdB,navigate]);var handleSelectCurrencyB=useCallback(function(currency){if(currencyIdA&&currencyId(currency)===currencyIdA){navigate(\"/remove/v2/\".concat(currencyIdB,\"/\").concat(currencyId(currency)));}else{navigate(\"/remove/v2/\".concat(currencyIdA,\"/\").concat(currencyId(currency)));}},[currencyIdA,currencyIdB,navigate]);var handleDismissConfirmation=useCallback(function(){setShowConfirm(false);// if there was a tx hash, we want to clear the input\nif(txHash){onUserInput(Field.LIQUIDITY_PERCENT,'0');}setTxHash('');},[onUserInput,txHash]);var _useDebouncedChangeHa=useDebouncedChangeHandler(Number.parseInt(parsedAmounts[Field.LIQUIDITY_PERCENT].toFixed(0)),liquidityPercentChangeCallback),_useDebouncedChangeHa2=_slicedToArray(_useDebouncedChangeHa,2),innerLiquidityPercentage=_useDebouncedChangeHa2[0],setInnerLiquidityPercentage=_useDebouncedChangeHa2[1];return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(AppBody,{children:[/*#__PURE__*/_jsx(AddRemoveTabs,{creating:false,adding:false,defaultSlippage:DEFAULT_REMOVE_LIQUIDITY_SLIPPAGE_TOLERANCE}),/*#__PURE__*/_jsxs(Wrapper,{children:[/*#__PURE__*/_jsx(TransactionConfirmationModal,{isOpen:showConfirm,onDismiss:handleDismissConfirmation,attemptingTxn:attemptingTxn,hash:txHash?txHash:'',content:function content(){return/*#__PURE__*/_jsx(ConfirmationModalContent,{title:/*#__PURE__*/_jsx(Trans,{id:\"You will receive\"}),onDismiss:handleDismissConfirmation,topContent:modalHeader,bottomContent:modalBottom});},pendingText:pendingText}),/*#__PURE__*/_jsxs(AutoColumn,{gap:\"md\",children:[/*#__PURE__*/_jsx(BlueCard,{children:/*#__PURE__*/_jsx(AutoColumn,{gap:\"10px\",children:/*#__PURE__*/_jsx(ThemedText.DeprecatedLink,{fontWeight:400,color:\"accentAction\",children:/*#__PURE__*/_jsx(Trans,{id:\"<0>Tip:</0> Removing pool tokens converts your position back into underlying tokens at the current rate, proportional to your share of the pool. Accrued fees are included in the amounts you receive.\",components:{0:/*#__PURE__*/_jsx(\"b\",{})}})})})}),/*#__PURE__*/_jsx(LightCard,{children:/*#__PURE__*/_jsxs(AutoColumn,{gap:\"20px\",children:[/*#__PURE__*/_jsxs(RowBetween,{children:[/*#__PURE__*/_jsx(Text,{fontWeight:500,children:/*#__PURE__*/_jsx(Trans,{id:\"Remove Amount\"})}),/*#__PURE__*/_jsx(ClickableText,{fontWeight:500,onClick:function onClick(){setShowDetailed(!showDetailed);},children:showDetailed?/*#__PURE__*/_jsx(Trans,{id:\"Simple\"}):/*#__PURE__*/_jsx(Trans,{id:\"Detailed\"})})]}),/*#__PURE__*/_jsx(Row,{style:{alignItems:'flex-end'},children:/*#__PURE__*/_jsxs(Text,{fontSize:72,fontWeight:500,children:[formattedAmounts[Field.LIQUIDITY_PERCENT],\"%\"]})}),!showDetailed&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Slider,{value:innerLiquidityPercentage,onChange:setInnerLiquidityPercentage}),/*#__PURE__*/_jsxs(RowBetween,{children:[/*#__PURE__*/_jsx(MaxButton,{onClick:function onClick(){return onUserInput(Field.LIQUIDITY_PERCENT,'25');},width:\"20%\",children:\"25%\"}),/*#__PURE__*/_jsx(MaxButton,{onClick:function onClick(){return onUserInput(Field.LIQUIDITY_PERCENT,'50');},width:\"20%\",children:\"50%\"}),/*#__PURE__*/_jsx(MaxButton,{onClick:function onClick(){return onUserInput(Field.LIQUIDITY_PERCENT,'75');},width:\"20%\",children:\"75%\"}),/*#__PURE__*/_jsx(MaxButton,{onClick:function onClick(){return onUserInput(Field.LIQUIDITY_PERCENT,'100');},width:\"20%\",children:\"Max\"})]})]})]})}),!showDetailed&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ColumnCenter,{children:/*#__PURE__*/_jsx(ArrowDown,{size:\"16\",color:theme.textSecondary})}),/*#__PURE__*/_jsx(LightCard,{children:/*#__PURE__*/_jsxs(AutoColumn,{gap:\"10px\",children:[/*#__PURE__*/_jsxs(RowBetween,{children:[/*#__PURE__*/_jsx(Text,{fontSize:24,fontWeight:500,children:formattedAmounts[Field.CURRENCY_A]||'-'}),/*#__PURE__*/_jsxs(RowFixed,{children:[/*#__PURE__*/_jsx(CurrencyLogo,{currency:currencyA,style:{marginRight:'12px'}}),/*#__PURE__*/_jsx(Text,{fontSize:24,fontWeight:500,id:\"remove-liquidity-tokena-symbol\",children:currencyA===null||currencyA===void 0?void 0:currencyA.symbol})]})]}),/*#__PURE__*/_jsxs(RowBetween,{children:[/*#__PURE__*/_jsx(Text,{fontSize:24,fontWeight:500,children:formattedAmounts[Field.CURRENCY_B]||'-'}),/*#__PURE__*/_jsxs(RowFixed,{children:[/*#__PURE__*/_jsx(CurrencyLogo,{currency:currencyB,style:{marginRight:'12px'}}),/*#__PURE__*/_jsx(Text,{fontSize:24,fontWeight:500,id:\"remove-liquidity-tokenb-symbol\",children:currencyB===null||currencyB===void 0?void 0:currencyB.symbol})]})]}),chainId&&(oneCurrencyIsWETH||oneCurrencyIsETH)?/*#__PURE__*/_jsx(RowBetween,{style:{justifyContent:'flex-end'},children:oneCurrencyIsETH?/*#__PURE__*/_jsx(StyledInternalLink,{to:\"/remove/v2/\".concat((currencyA===null||currencyA===void 0?void 0:currencyA.isNative)&&chainId&&WRAPPED_NATIVE_CURRENCY[chainId]?(_WRAPPED_NATIVE_CURRE3=WRAPPED_NATIVE_CURRENCY[chainId])===null||_WRAPPED_NATIVE_CURRE3===void 0?void 0:_WRAPPED_NATIVE_CURRE3.address:currencyIdA,\"/\").concat((currencyB===null||currencyB===void 0?void 0:currencyB.isNative)&&chainId&&WRAPPED_NATIVE_CURRENCY[chainId]?(_WRAPPED_NATIVE_CURRE4=WRAPPED_NATIVE_CURRENCY[chainId])===null||_WRAPPED_NATIVE_CURRE4===void 0?void 0:_WRAPPED_NATIVE_CURRE4.address:currencyIdB),children:\"Receive WETH\"}):oneCurrencyIsWETH?/*#__PURE__*/_jsx(StyledInternalLink,{to:\"/remove/v2/\".concat(currencyA&&((_WRAPPED_NATIVE_CURRE5=WRAPPED_NATIVE_CURRENCY[chainId])===null||_WRAPPED_NATIVE_CURRE5===void 0?void 0:_WRAPPED_NATIVE_CURRE5.equals(currencyA))?'ETH':currencyIdA,\"/\").concat(currencyB&&((_WRAPPED_NATIVE_CURRE6=WRAPPED_NATIVE_CURRENCY[chainId])===null||_WRAPPED_NATIVE_CURRE6===void 0?void 0:_WRAPPED_NATIVE_CURRE6.equals(currencyB))?'ETH':currencyIdB),children:\"Receive ETH\"}):null}):null]})})]}),showDetailed&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CurrencyInputPanel,{value:formattedAmounts[Field.LIQUIDITY],onUserInput:onLiquidityInput,onMax:function onMax(){onUserInput(Field.LIQUIDITY_PERCENT,'100');},showMaxButton:!atMaxAmount,currency:pair===null||pair===void 0?void 0:pair.liquidityToken,pair:pair,id:\"liquidity-amount\"}),/*#__PURE__*/_jsx(ColumnCenter,{children:/*#__PURE__*/_jsx(ArrowDown,{size:\"16\",color:theme.textSecondary})}),/*#__PURE__*/_jsx(CurrencyInputPanel,{hideBalance:true,value:formattedAmounts[Field.CURRENCY_A],onUserInput:onCurrencyAInput,onMax:function onMax(){return onUserInput(Field.LIQUIDITY_PERCENT,'100');},showMaxButton:!atMaxAmount,currency:currencyA,label:\"Output\",onCurrencySelect:handleSelectCurrencyA,id:\"remove-liquidity-tokena\"}),/*#__PURE__*/_jsx(ColumnCenter,{children:/*#__PURE__*/_jsx(Plus,{size:\"16\",color:theme.textSecondary})}),/*#__PURE__*/_jsx(CurrencyInputPanel,{hideBalance:true,value:formattedAmounts[Field.CURRENCY_B],onUserInput:onCurrencyBInput,onMax:function onMax(){return onUserInput(Field.LIQUIDITY_PERCENT,'100');},showMaxButton:!atMaxAmount,currency:currencyB,label:\"Output\",onCurrencySelect:handleSelectCurrencyB,id:\"remove-liquidity-tokenb\"})]}),pair&&/*#__PURE__*/_jsxs(\"div\",{style:{padding:'10px 20px'},children:[/*#__PURE__*/_jsxs(RowBetween,{children:[/*#__PURE__*/_jsx(Trans,{id:\"Price:\"}),/*#__PURE__*/_jsxs(\"div\",{children:[\"1 \",currencyA===null||currencyA===void 0?void 0:currencyA.symbol,\" = \",tokenA?pair.priceOf(tokenA).toSignificant(6):'-',\" \",currencyB===null||currencyB===void 0?void 0:currencyB.symbol]})]}),/*#__PURE__*/_jsxs(RowBetween,{children:[/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsxs(\"div\",{children:[\"1 \",currencyB===null||currencyB===void 0?void 0:currencyB.symbol,\" = \",tokenB?pair.priceOf(tokenB).toSignificant(6):'-',\" \",currencyA===null||currencyA===void 0?void 0:currencyA.symbol]})]})]}),/*#__PURE__*/_jsx(\"div\",{style:{position:'relative'},children:!account?/*#__PURE__*/_jsx(TraceEvent,{events:[BrowserEvent.onClick],name:EventName.CONNECT_WALLET_BUTTON_CLICKED,properties:{received_swap_quote:false},element:ElementName.CONNECT_WALLET_BUTTON,children:/*#__PURE__*/_jsx(ButtonLight,{onClick:toggleWalletModal,children:/*#__PURE__*/_jsx(Trans,{id:\"Connect Wallet\"})})}):/*#__PURE__*/_jsxs(RowBetween,{children:[/*#__PURE__*/_jsx(ButtonConfirmed,{onClick:onAttemptToApprove,confirmed:approval===ApprovalState.APPROVED||signatureData!==null,disabled:approval!==ApprovalState.NOT_APPROVED||signatureData!==null,mr:\"0.5rem\",fontWeight:500,fontSize:16,children:approval===ApprovalState.PENDING?/*#__PURE__*/_jsx(Dots,{children:/*#__PURE__*/_jsx(Trans,{id:\"Approving\"})}):approval===ApprovalState.APPROVED||signatureData!==null?/*#__PURE__*/_jsx(Trans,{id:\"Approved\"}):/*#__PURE__*/_jsx(Trans,{id:\"Approve\"})}),/*#__PURE__*/_jsx(ButtonError,{onClick:function onClick(){setShowConfirm(true);},disabled:!isValid||signatureData===null&&approval!==ApprovalState.APPROVED,error:!isValid&&!!parsedAmounts[Field.CURRENCY_A]&&!!parsedAmounts[Field.CURRENCY_B],children:/*#__PURE__*/_jsx(Text,{fontSize:16,fontWeight:500,children:error||/*#__PURE__*/_jsx(Trans,{id:\"Remove\"})})})]})})]})]})]}),pair?/*#__PURE__*/_jsx(AutoColumn,{style:{minWidth:'20rem',width:'100%',maxWidth:'400px',marginTop:'1rem'},children:/*#__PURE__*/_jsx(MinimalPositionCard,{showUnwrapped:oneCurrencyIsWETH,pair:pair})}):null]});}","map":{"version":3,"names":["BigNumber","TraceEvent","BrowserEvent","ElementName","EventName","Percent","useWeb3React","sendEvent","useV2LiquidityTokenPermit","useCallback","useMemo","useState","ArrowDown","Plus","useNavigate","useParams","Text","ButtonConfirmed","ButtonError","ButtonLight","ButtonPrimary","BlueCard","LightCard","AutoColumn","ColumnCenter","CurrencyInputPanel","DoubleCurrencyLogo","CurrencyLogo","AddRemoveTabs","MinimalPositionCard","Row","RowBetween","RowFixed","Slider","Dots","TransactionConfirmationModal","ConfirmationModalContent","WRAPPED_NATIVE_CURRENCY","useCurrency","ApprovalState","useApproveCallback","usePairContract","useV2RouterContract","useDebouncedChangeHandler","useTransactionDeadline","useToggleWalletModal","Field","useBurnActionHandlers","useBurnState","useDerivedBurnInfo","useTransactionAdder","TransactionType","useUserSlippageToleranceWithDefault","StyledInternalLink","ThemedText","calculateGasMargin","calculateSlippageAmount","currencyId","AppBody","ClickableText","MaxButton","Wrapper","DEFAULT_REMOVE_LIQUIDITY_SLIPPAGE_TOLERANCE","RemoveLiquidity","navigate","currencyIdA","currencyIdB","currencyA","undefined","currencyB","account","chainId","provider","wrapped","tokenA","tokenB","theme","useTheme","toggleWalletModal","independentField","typedValue","pair","parsedAmounts","error","_onUserInput","onUserInput","isValid","showConfirm","setShowConfirm","showDetailed","setShowDetailed","attemptingTxn","setAttemptingTxn","txHash","setTxHash","deadline","allowedSlippage","formattedAmounts","LIQUIDITY_PERCENT","equalTo","lessThan","toFixed","LIQUIDITY","toSignificant","CURRENCY_A","CURRENCY_B","atMaxAmount","pairContract","liquidityToken","address","router","gatherPermitSignature","signatureData","approval","approveCallback","onAttemptToApprove","Error","liquidityAmount","code","field","onLiquidityInput","onCurrencyAInput","onCurrencyBInput","addTransaction","onRemove","currencyAmountA","currencyAmountB","amountsMin","currencyBIsETH","isNative","oneCurrencyIsETH","APPROVED","methodNames","args","quotient","toString","toHexString","v","r","s","Promise","all","map","methodName","estimateGas","then","catch","console","safeGasEstimates","indexOfSuccessfulEstimation","findIndex","safeGasEstimate","isBigNumber","gasLimit","response","type","REMOVE_LIQUIDITY_V3","baseCurrencyId","quoteCurrencyId","expectedAmountBaseRaw","expectedAmountQuoteRaw","hash","category","action","label","symbol","join","modalHeader","marginTop","marginLeft","textSecondary","modalBottom","textPrimary","priceOf","pendingText","liquidityPercentChangeCallback","value","oneCurrencyIsWETH","Boolean","equals","handleSelectCurrencyA","currency","handleSelectCurrencyB","handleDismissConfirmation","Number","parseInt","innerLiquidityPercentage","setInnerLiquidityPercentage","alignItems","marginRight","justifyContent","padding","position","onClick","CONNECT_WALLET_BUTTON_CLICKED","received_swap_quote","CONNECT_WALLET_BUTTON","NOT_APPROVED","PENDING","minWidth","width","maxWidth"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/pages/RemoveLiquidity/index.tsx"],"sourcesContent":["import { BigNumber } from '@ethersproject/bignumber'\nimport { Contract } from '@ethersproject/contracts'\nimport type { TransactionResponse } from '@ethersproject/providers'\nimport { Trans } from '@lingui/macro'\nimport { TraceEvent } from '@uniswap/analytics'\nimport { BrowserEvent, ElementName, EventName } from '@uniswap/analytics-events'\nimport { Currency, Percent } from '@uniswap/sdk-core'\nimport { useWeb3React } from '@web3-react/core'\nimport { sendEvent } from 'components/analytics'\nimport { useV2LiquidityTokenPermit } from 'hooks/useV2LiquidityTokenPermit'\nimport { useCallback, useMemo, useState } from 'react'\nimport { ArrowDown, Plus } from 'react-feather'\nimport { useNavigate, useParams } from 'react-router-dom'\nimport { Text } from 'rebass'\nimport { useTheme } from 'styled-components/macro'\n\nimport { ButtonConfirmed, ButtonError, ButtonLight, ButtonPrimary } from '../../components/Button'\nimport { BlueCard, LightCard } from '../../components/Card'\nimport { AutoColumn, ColumnCenter } from '../../components/Column'\nimport CurrencyInputPanel from '../../components/CurrencyInputPanel'\nimport DoubleCurrencyLogo from '../../components/DoubleLogo'\nimport CurrencyLogo from '../../components/Logo/CurrencyLogo'\nimport { AddRemoveTabs } from '../../components/NavigationTabs'\nimport { MinimalPositionCard } from '../../components/PositionCard'\nimport Row, { RowBetween, RowFixed } from '../../components/Row'\nimport Slider from '../../components/Slider'\nimport { Dots } from '../../components/swap/styleds'\nimport TransactionConfirmationModal, { ConfirmationModalContent } from '../../components/TransactionConfirmationModal'\nimport { WRAPPED_NATIVE_CURRENCY } from '../../constants/tokens'\nimport { useCurrency } from '../../hooks/Tokens'\nimport { ApprovalState, useApproveCallback } from '../../hooks/useApproveCallback'\nimport { usePairContract, useV2RouterContract } from '../../hooks/useContract'\nimport useDebouncedChangeHandler from '../../hooks/useDebouncedChangeHandler'\nimport useTransactionDeadline from '../../hooks/useTransactionDeadline'\nimport { useToggleWalletModal } from '../../state/application/hooks'\nimport { Field } from '../../state/burn/actions'\nimport { useBurnActionHandlers, useBurnState, useDerivedBurnInfo } from '../../state/burn/hooks'\nimport { useTransactionAdder } from '../../state/transactions/hooks'\nimport { TransactionType } from '../../state/transactions/types'\nimport { useUserSlippageToleranceWithDefault } from '../../state/user/hooks'\nimport { StyledInternalLink, ThemedText } from '../../theme'\nimport { calculateGasMargin } from '../../utils/calculateGasMargin'\nimport { calculateSlippageAmount } from '../../utils/calculateSlippageAmount'\nimport { currencyId } from '../../utils/currencyId'\nimport AppBody from '../AppBody'\nimport { ClickableText, MaxButton, Wrapper } from '../Pool/styleds'\n\nconst DEFAULT_REMOVE_LIQUIDITY_SLIPPAGE_TOLERANCE = new Percent(5, 100)\n\nexport default function RemoveLiquidity() {\n  const navigate = useNavigate()\n  const { currencyIdA, currencyIdB } = useParams<{ currencyIdA: string; currencyIdB: string }>()\n  const [currencyA, currencyB] = [useCurrency(currencyIdA) ?? undefined, useCurrency(currencyIdB) ?? undefined]\n  const { account, chainId, provider } = useWeb3React()\n  const [tokenA, tokenB] = useMemo(() => [currencyA?.wrapped, currencyB?.wrapped], [currencyA, currencyB])\n\n  const theme = useTheme()\n\n  // toggle wallet when disconnected\n  const toggleWalletModal = useToggleWalletModal()\n\n  // burn state\n  const { independentField, typedValue } = useBurnState()\n  const { pair, parsedAmounts, error } = useDerivedBurnInfo(currencyA ?? undefined, currencyB ?? undefined)\n  const { onUserInput: _onUserInput } = useBurnActionHandlers()\n  const isValid = !error\n\n  // modal and loading\n  const [showConfirm, setShowConfirm] = useState<boolean>(false)\n  const [showDetailed, setShowDetailed] = useState<boolean>(false)\n  const [attemptingTxn, setAttemptingTxn] = useState(false) // clicked confirm\n\n  // txn values\n  const [txHash, setTxHash] = useState<string>('')\n  const deadline = useTransactionDeadline()\n  const allowedSlippage = useUserSlippageToleranceWithDefault(DEFAULT_REMOVE_LIQUIDITY_SLIPPAGE_TOLERANCE)\n\n  const formattedAmounts = {\n    [Field.LIQUIDITY_PERCENT]: parsedAmounts[Field.LIQUIDITY_PERCENT].equalTo('0')\n      ? '0'\n      : parsedAmounts[Field.LIQUIDITY_PERCENT].lessThan(new Percent('1', '100'))\n      ? '<1'\n      : parsedAmounts[Field.LIQUIDITY_PERCENT].toFixed(0),\n    [Field.LIQUIDITY]:\n      independentField === Field.LIQUIDITY ? typedValue : parsedAmounts[Field.LIQUIDITY]?.toSignificant(6) ?? '',\n    [Field.CURRENCY_A]:\n      independentField === Field.CURRENCY_A ? typedValue : parsedAmounts[Field.CURRENCY_A]?.toSignificant(6) ?? '',\n    [Field.CURRENCY_B]:\n      independentField === Field.CURRENCY_B ? typedValue : parsedAmounts[Field.CURRENCY_B]?.toSignificant(6) ?? '',\n  }\n\n  const atMaxAmount = parsedAmounts[Field.LIQUIDITY_PERCENT]?.equalTo(new Percent('1'))\n\n  // pair contract\n  const pairContract: Contract | null = usePairContract(pair?.liquidityToken?.address)\n\n  const router = useV2RouterContract()\n\n  // allowance handling\n  const { gatherPermitSignature, signatureData } = useV2LiquidityTokenPermit(\n    parsedAmounts[Field.LIQUIDITY],\n    router?.address\n  )\n  const [approval, approveCallback] = useApproveCallback(parsedAmounts[Field.LIQUIDITY], router?.address)\n\n  async function onAttemptToApprove() {\n    if (!pairContract || !pair || !provider || !deadline) throw new Error('missing dependencies')\n    const liquidityAmount = parsedAmounts[Field.LIQUIDITY]\n    if (!liquidityAmount) throw new Error('missing liquidity amount')\n\n    if (gatherPermitSignature) {\n      try {\n        await gatherPermitSignature()\n      } catch (error) {\n        // try to approve if gatherPermitSignature failed for any reason other than the user rejecting it\n        if (error?.code !== 4001) {\n          await approveCallback()\n        }\n      }\n    } else {\n      await approveCallback()\n    }\n  }\n\n  // wrapped onUserInput to clear signatures\n  const onUserInput = useCallback(\n    (field: Field, typedValue: string) => {\n      return _onUserInput(field, typedValue)\n    },\n    [_onUserInput]\n  )\n\n  const onLiquidityInput = useCallback(\n    (typedValue: string): void => onUserInput(Field.LIQUIDITY, typedValue),\n    [onUserInput]\n  )\n  const onCurrencyAInput = useCallback(\n    (typedValue: string): void => onUserInput(Field.CURRENCY_A, typedValue),\n    [onUserInput]\n  )\n  const onCurrencyBInput = useCallback(\n    (typedValue: string): void => onUserInput(Field.CURRENCY_B, typedValue),\n    [onUserInput]\n  )\n\n  // tx sending\n  const addTransaction = useTransactionAdder()\n\n  async function onRemove() {\n    if (!chainId || !provider || !account || !deadline || !router) throw new Error('missing dependencies')\n    const { [Field.CURRENCY_A]: currencyAmountA, [Field.CURRENCY_B]: currencyAmountB } = parsedAmounts\n    if (!currencyAmountA || !currencyAmountB) {\n      throw new Error('missing currency amounts')\n    }\n\n    const amountsMin = {\n      [Field.CURRENCY_A]: calculateSlippageAmount(currencyAmountA, allowedSlippage)[0],\n      [Field.CURRENCY_B]: calculateSlippageAmount(currencyAmountB, allowedSlippage)[0],\n    }\n\n    if (!currencyA || !currencyB) throw new Error('missing tokens')\n    const liquidityAmount = parsedAmounts[Field.LIQUIDITY]\n    if (!liquidityAmount) throw new Error('missing liquidity amount')\n\n    const currencyBIsETH = currencyB.isNative\n    const oneCurrencyIsETH = currencyA.isNative || currencyBIsETH\n\n    if (!tokenA || !tokenB) throw new Error('could not wrap')\n\n    let methodNames: string[], args: Array<string | string[] | number | boolean>\n    // we have approval, use normal remove liquidity\n    if (approval === ApprovalState.APPROVED) {\n      // removeLiquidityETH\n      if (oneCurrencyIsETH) {\n        methodNames = ['removeLiquidityETH', 'removeLiquidityETHSupportingFeeOnTransferTokens']\n        args = [\n          currencyBIsETH ? tokenA.address : tokenB.address,\n          liquidityAmount.quotient.toString(),\n          amountsMin[currencyBIsETH ? Field.CURRENCY_A : Field.CURRENCY_B].toString(),\n          amountsMin[currencyBIsETH ? Field.CURRENCY_B : Field.CURRENCY_A].toString(),\n          account,\n          deadline.toHexString(),\n        ]\n      }\n      // removeLiquidity\n      else {\n        methodNames = ['removeLiquidity']\n        args = [\n          tokenA.address,\n          tokenB.address,\n          liquidityAmount.quotient.toString(),\n          amountsMin[Field.CURRENCY_A].toString(),\n          amountsMin[Field.CURRENCY_B].toString(),\n          account,\n          deadline.toHexString(),\n        ]\n      }\n    }\n    // we have a signature, use permit versions of remove liquidity\n    else if (signatureData !== null) {\n      // removeLiquidityETHWithPermit\n      if (oneCurrencyIsETH) {\n        methodNames = ['removeLiquidityETHWithPermit', 'removeLiquidityETHWithPermitSupportingFeeOnTransferTokens']\n        args = [\n          currencyBIsETH ? tokenA.address : tokenB.address,\n          liquidityAmount.quotient.toString(),\n          amountsMin[currencyBIsETH ? Field.CURRENCY_A : Field.CURRENCY_B].toString(),\n          amountsMin[currencyBIsETH ? Field.CURRENCY_B : Field.CURRENCY_A].toString(),\n          account,\n          signatureData.deadline,\n          false,\n          signatureData.v,\n          signatureData.r,\n          signatureData.s,\n        ]\n      }\n      // removeLiquidityETHWithPermit\n      else {\n        methodNames = ['removeLiquidityWithPermit']\n        args = [\n          tokenA.address,\n          tokenB.address,\n          liquidityAmount.quotient.toString(),\n          amountsMin[Field.CURRENCY_A].toString(),\n          amountsMin[Field.CURRENCY_B].toString(),\n          account,\n          signatureData.deadline,\n          false,\n          signatureData.v,\n          signatureData.r,\n          signatureData.s,\n        ]\n      }\n    } else {\n      throw new Error('Attempting to confirm without approval or a signature. Please contact support.')\n    }\n\n    const safeGasEstimates: (BigNumber | undefined)[] = await Promise.all(\n      methodNames.map((methodName) =>\n        router.estimateGas[methodName](...args)\n          .then((estimateGas) => calculateGasMargin(estimateGas))\n          .catch((error) => {\n            console.error(`estimateGas failed`, methodName, args, error)\n            return undefined\n          })\n      )\n    )\n\n    const indexOfSuccessfulEstimation = safeGasEstimates.findIndex((safeGasEstimate) =>\n      BigNumber.isBigNumber(safeGasEstimate)\n    )\n\n    // all estimations failed...\n    if (indexOfSuccessfulEstimation === -1) {\n      console.error('This transaction would fail. Please contact support.')\n    } else {\n      const methodName = methodNames[indexOfSuccessfulEstimation]\n      const safeGasEstimate = safeGasEstimates[indexOfSuccessfulEstimation]\n\n      setAttemptingTxn(true)\n      await router[methodName](...args, {\n        gasLimit: safeGasEstimate,\n      })\n        .then((response: TransactionResponse) => {\n          setAttemptingTxn(false)\n\n          addTransaction(response, {\n            type: TransactionType.REMOVE_LIQUIDITY_V3,\n            baseCurrencyId: currencyId(currencyA),\n            quoteCurrencyId: currencyId(currencyB),\n            expectedAmountBaseRaw: parsedAmounts[Field.CURRENCY_A]?.quotient.toString() ?? '0',\n            expectedAmountQuoteRaw: parsedAmounts[Field.CURRENCY_B]?.quotient.toString() ?? '0',\n          })\n\n          setTxHash(response.hash)\n\n          sendEvent({\n            category: 'Liquidity',\n            action: 'Remove',\n            label: [currencyA.symbol, currencyB.symbol].join('/'),\n          })\n        })\n        .catch((error: Error) => {\n          setAttemptingTxn(false)\n          // we only care if the error is something _other_ than the user rejected the tx\n          console.error(error)\n        })\n    }\n  }\n\n  function modalHeader() {\n    return (\n      <AutoColumn gap=\"md\" style={{ marginTop: '20px' }}>\n        <RowBetween align=\"flex-end\">\n          <Text fontSize={24} fontWeight={500}>\n            {parsedAmounts[Field.CURRENCY_A]?.toSignificant(6)}\n          </Text>\n          <RowFixed gap=\"4px\">\n            <CurrencyLogo currency={currencyA} size=\"24px\" />\n            <Text fontSize={24} fontWeight={500} style={{ marginLeft: '10px' }}>\n              {currencyA?.symbol}\n            </Text>\n          </RowFixed>\n        </RowBetween>\n        <RowFixed>\n          <Plus size=\"16\" color={theme.textSecondary} />\n        </RowFixed>\n        <RowBetween align=\"flex-end\">\n          <Text fontSize={24} fontWeight={500}>\n            {parsedAmounts[Field.CURRENCY_B]?.toSignificant(6)}\n          </Text>\n          <RowFixed gap=\"4px\">\n            <CurrencyLogo currency={currencyB} size=\"24px\" />\n            <Text fontSize={24} fontWeight={500} style={{ marginLeft: '10px' }}>\n              {currencyB?.symbol}\n            </Text>\n          </RowFixed>\n        </RowBetween>\n\n        <ThemedText.DeprecatedItalic fontSize={12} color={theme.textSecondary} textAlign=\"left\" padding=\"12px 0 0 0\">\n          <Trans>\n            Output is estimated. If the price changes by more than {allowedSlippage.toSignificant(4)}% your transaction\n            will revert.\n          </Trans>\n        </ThemedText.DeprecatedItalic>\n      </AutoColumn>\n    )\n  }\n\n  function modalBottom() {\n    return (\n      <>\n        <RowBetween>\n          <Text color={theme.textSecondary} fontWeight={500} fontSize={16}>\n            <Trans>\n              UNI {currencyA?.symbol}/{currencyB?.symbol} Burned\n            </Trans>\n          </Text>\n          <RowFixed>\n            <DoubleCurrencyLogo currency0={currencyA} currency1={currencyB} margin={true} />\n            <Text fontWeight={500} fontSize={16}>\n              {parsedAmounts[Field.LIQUIDITY]?.toSignificant(6)}\n            </Text>\n          </RowFixed>\n        </RowBetween>\n        {pair && (\n          <>\n            <RowBetween>\n              <Text color={theme.textSecondary} fontWeight={500} fontSize={16}>\n                <Trans>Price</Trans>\n              </Text>\n              <Text fontWeight={500} fontSize={16} color={theme.textPrimary}>\n                1 {currencyA?.symbol} = {tokenA ? pair.priceOf(tokenA).toSignificant(6) : '-'} {currencyB?.symbol}\n              </Text>\n            </RowBetween>\n            <RowBetween>\n              <div />\n              <Text fontWeight={500} fontSize={16} color={theme.textPrimary}>\n                1 {currencyB?.symbol} = {tokenB ? pair.priceOf(tokenB).toSignificant(6) : '-'} {currencyA?.symbol}\n              </Text>\n            </RowBetween>\n          </>\n        )}\n        <ButtonPrimary disabled={!(approval === ApprovalState.APPROVED || signatureData !== null)} onClick={onRemove}>\n          <Text fontWeight={500} fontSize={20}>\n            <Trans>Confirm</Trans>\n          </Text>\n        </ButtonPrimary>\n      </>\n    )\n  }\n\n  const pendingText = (\n    <Trans>\n      Removing {parsedAmounts[Field.CURRENCY_A]?.toSignificant(6)} {currencyA?.symbol} and\n      {parsedAmounts[Field.CURRENCY_B]?.toSignificant(6)} {currencyB?.symbol}\n    </Trans>\n  )\n\n  const liquidityPercentChangeCallback = useCallback(\n    (value: number) => {\n      onUserInput(Field.LIQUIDITY_PERCENT, value.toString())\n    },\n    [onUserInput]\n  )\n\n  const oneCurrencyIsETH = currencyA?.isNative || currencyB?.isNative\n\n  const oneCurrencyIsWETH = Boolean(\n    chainId &&\n      WRAPPED_NATIVE_CURRENCY[chainId] &&\n      ((currencyA && WRAPPED_NATIVE_CURRENCY[chainId]?.equals(currencyA)) ||\n        (currencyB && WRAPPED_NATIVE_CURRENCY[chainId]?.equals(currencyB)))\n  )\n\n  const handleSelectCurrencyA = useCallback(\n    (currency: Currency) => {\n      if (currencyIdB && currencyId(currency) === currencyIdB) {\n        navigate(`/remove/v2/${currencyId(currency)}/${currencyIdA}`)\n      } else {\n        navigate(`/remove/v2/${currencyId(currency)}/${currencyIdB}`)\n      }\n    },\n    [currencyIdA, currencyIdB, navigate]\n  )\n  const handleSelectCurrencyB = useCallback(\n    (currency: Currency) => {\n      if (currencyIdA && currencyId(currency) === currencyIdA) {\n        navigate(`/remove/v2/${currencyIdB}/${currencyId(currency)}`)\n      } else {\n        navigate(`/remove/v2/${currencyIdA}/${currencyId(currency)}`)\n      }\n    },\n    [currencyIdA, currencyIdB, navigate]\n  )\n\n  const handleDismissConfirmation = useCallback(() => {\n    setShowConfirm(false)\n    // if there was a tx hash, we want to clear the input\n    if (txHash) {\n      onUserInput(Field.LIQUIDITY_PERCENT, '0')\n    }\n    setTxHash('')\n  }, [onUserInput, txHash])\n\n  const [innerLiquidityPercentage, setInnerLiquidityPercentage] = useDebouncedChangeHandler(\n    Number.parseInt(parsedAmounts[Field.LIQUIDITY_PERCENT].toFixed(0)),\n    liquidityPercentChangeCallback\n  )\n\n  return (\n    <>\n      <AppBody>\n        <AddRemoveTabs creating={false} adding={false} defaultSlippage={DEFAULT_REMOVE_LIQUIDITY_SLIPPAGE_TOLERANCE} />\n        <Wrapper>\n          <TransactionConfirmationModal\n            isOpen={showConfirm}\n            onDismiss={handleDismissConfirmation}\n            attemptingTxn={attemptingTxn}\n            hash={txHash ? txHash : ''}\n            content={() => (\n              <ConfirmationModalContent\n                title={<Trans>You will receive</Trans>}\n                onDismiss={handleDismissConfirmation}\n                topContent={modalHeader}\n                bottomContent={modalBottom}\n              />\n            )}\n            pendingText={pendingText}\n          />\n          <AutoColumn gap=\"md\">\n            <BlueCard>\n              <AutoColumn gap=\"10px\">\n                <ThemedText.DeprecatedLink fontWeight={400} color=\"accentAction\">\n                  <Trans>\n                    <b>Tip:</b> Removing pool tokens converts your position back into underlying tokens at the current\n                    rate, proportional to your share of the pool. Accrued fees are included in the amounts you receive.\n                  </Trans>\n                </ThemedText.DeprecatedLink>\n              </AutoColumn>\n            </BlueCard>\n            <LightCard>\n              <AutoColumn gap=\"20px\">\n                <RowBetween>\n                  <Text fontWeight={500}>\n                    <Trans>Remove Amount</Trans>\n                  </Text>\n                  <ClickableText\n                    fontWeight={500}\n                    onClick={() => {\n                      setShowDetailed(!showDetailed)\n                    }}\n                  >\n                    {showDetailed ? <Trans>Simple</Trans> : <Trans>Detailed</Trans>}\n                  </ClickableText>\n                </RowBetween>\n                <Row style={{ alignItems: 'flex-end' }}>\n                  <Text fontSize={72} fontWeight={500}>\n                    {formattedAmounts[Field.LIQUIDITY_PERCENT]}%\n                  </Text>\n                </Row>\n                {!showDetailed && (\n                  <>\n                    <Slider value={innerLiquidityPercentage} onChange={setInnerLiquidityPercentage} />\n                    <RowBetween>\n                      <MaxButton onClick={() => onUserInput(Field.LIQUIDITY_PERCENT, '25')} width=\"20%\">\n                        25%\n                      </MaxButton>\n                      <MaxButton onClick={() => onUserInput(Field.LIQUIDITY_PERCENT, '50')} width=\"20%\">\n                        50%\n                      </MaxButton>\n                      <MaxButton onClick={() => onUserInput(Field.LIQUIDITY_PERCENT, '75')} width=\"20%\">\n                        75%\n                      </MaxButton>\n                      <MaxButton onClick={() => onUserInput(Field.LIQUIDITY_PERCENT, '100')} width=\"20%\">\n                        Max\n                      </MaxButton>\n                    </RowBetween>\n                  </>\n                )}\n              </AutoColumn>\n            </LightCard>\n            {!showDetailed && (\n              <>\n                <ColumnCenter>\n                  <ArrowDown size=\"16\" color={theme.textSecondary} />\n                </ColumnCenter>\n                <LightCard>\n                  <AutoColumn gap=\"10px\">\n                    <RowBetween>\n                      <Text fontSize={24} fontWeight={500}>\n                        {formattedAmounts[Field.CURRENCY_A] || '-'}\n                      </Text>\n                      <RowFixed>\n                        <CurrencyLogo currency={currencyA} style={{ marginRight: '12px' }} />\n                        <Text fontSize={24} fontWeight={500} id=\"remove-liquidity-tokena-symbol\">\n                          {currencyA?.symbol}\n                        </Text>\n                      </RowFixed>\n                    </RowBetween>\n                    <RowBetween>\n                      <Text fontSize={24} fontWeight={500}>\n                        {formattedAmounts[Field.CURRENCY_B] || '-'}\n                      </Text>\n                      <RowFixed>\n                        <CurrencyLogo currency={currencyB} style={{ marginRight: '12px' }} />\n                        <Text fontSize={24} fontWeight={500} id=\"remove-liquidity-tokenb-symbol\">\n                          {currencyB?.symbol}\n                        </Text>\n                      </RowFixed>\n                    </RowBetween>\n                    {chainId && (oneCurrencyIsWETH || oneCurrencyIsETH) ? (\n                      <RowBetween style={{ justifyContent: 'flex-end' }}>\n                        {oneCurrencyIsETH ? (\n                          <StyledInternalLink\n                            to={`/remove/v2/${\n                              currencyA?.isNative && chainId && WRAPPED_NATIVE_CURRENCY[chainId]\n                                ? WRAPPED_NATIVE_CURRENCY[chainId]?.address\n                                : currencyIdA\n                            }/${\n                              currencyB?.isNative && chainId && WRAPPED_NATIVE_CURRENCY[chainId]\n                                ? WRAPPED_NATIVE_CURRENCY[chainId]?.address\n                                : currencyIdB\n                            }`}\n                          >\n                            Receive WETH\n                          </StyledInternalLink>\n                        ) : oneCurrencyIsWETH ? (\n                          <StyledInternalLink\n                            to={`/remove/v2/${\n                              currencyA && WRAPPED_NATIVE_CURRENCY[chainId]?.equals(currencyA) ? 'ETH' : currencyIdA\n                            }/${\n                              currencyB && WRAPPED_NATIVE_CURRENCY[chainId]?.equals(currencyB) ? 'ETH' : currencyIdB\n                            }`}\n                          >\n                            Receive ETH\n                          </StyledInternalLink>\n                        ) : null}\n                      </RowBetween>\n                    ) : null}\n                  </AutoColumn>\n                </LightCard>\n              </>\n            )}\n\n            {showDetailed && (\n              <>\n                <CurrencyInputPanel\n                  value={formattedAmounts[Field.LIQUIDITY]}\n                  onUserInput={onLiquidityInput}\n                  onMax={() => {\n                    onUserInput(Field.LIQUIDITY_PERCENT, '100')\n                  }}\n                  showMaxButton={!atMaxAmount}\n                  currency={pair?.liquidityToken}\n                  pair={pair}\n                  id=\"liquidity-amount\"\n                />\n                <ColumnCenter>\n                  <ArrowDown size=\"16\" color={theme.textSecondary} />\n                </ColumnCenter>\n                <CurrencyInputPanel\n                  hideBalance={true}\n                  value={formattedAmounts[Field.CURRENCY_A]}\n                  onUserInput={onCurrencyAInput}\n                  onMax={() => onUserInput(Field.LIQUIDITY_PERCENT, '100')}\n                  showMaxButton={!atMaxAmount}\n                  currency={currencyA}\n                  label=\"Output\"\n                  onCurrencySelect={handleSelectCurrencyA}\n                  id=\"remove-liquidity-tokena\"\n                />\n                <ColumnCenter>\n                  <Plus size=\"16\" color={theme.textSecondary} />\n                </ColumnCenter>\n                <CurrencyInputPanel\n                  hideBalance={true}\n                  value={formattedAmounts[Field.CURRENCY_B]}\n                  onUserInput={onCurrencyBInput}\n                  onMax={() => onUserInput(Field.LIQUIDITY_PERCENT, '100')}\n                  showMaxButton={!atMaxAmount}\n                  currency={currencyB}\n                  label=\"Output\"\n                  onCurrencySelect={handleSelectCurrencyB}\n                  id=\"remove-liquidity-tokenb\"\n                />\n              </>\n            )}\n            {pair && (\n              <div style={{ padding: '10px 20px' }}>\n                <RowBetween>\n                  <Trans>Price:</Trans>\n                  <div>\n                    1 {currencyA?.symbol} = {tokenA ? pair.priceOf(tokenA).toSignificant(6) : '-'} {currencyB?.symbol}\n                  </div>\n                </RowBetween>\n                <RowBetween>\n                  <div />\n                  <div>\n                    1 {currencyB?.symbol} = {tokenB ? pair.priceOf(tokenB).toSignificant(6) : '-'} {currencyA?.symbol}\n                  </div>\n                </RowBetween>\n              </div>\n            )}\n            <div style={{ position: 'relative' }}>\n              {!account ? (\n                <TraceEvent\n                  events={[BrowserEvent.onClick]}\n                  name={EventName.CONNECT_WALLET_BUTTON_CLICKED}\n                  properties={{ received_swap_quote: false }}\n                  element={ElementName.CONNECT_WALLET_BUTTON}\n                >\n                  <ButtonLight onClick={toggleWalletModal}>\n                    <Trans>Connect Wallet</Trans>\n                  </ButtonLight>\n                </TraceEvent>\n              ) : (\n                <RowBetween>\n                  <ButtonConfirmed\n                    onClick={onAttemptToApprove}\n                    confirmed={approval === ApprovalState.APPROVED || signatureData !== null}\n                    disabled={approval !== ApprovalState.NOT_APPROVED || signatureData !== null}\n                    mr=\"0.5rem\"\n                    fontWeight={500}\n                    fontSize={16}\n                  >\n                    {approval === ApprovalState.PENDING ? (\n                      <Dots>\n                        <Trans>Approving</Trans>\n                      </Dots>\n                    ) : approval === ApprovalState.APPROVED || signatureData !== null ? (\n                      <Trans>Approved</Trans>\n                    ) : (\n                      <Trans>Approve</Trans>\n                    )}\n                  </ButtonConfirmed>\n                  <ButtonError\n                    onClick={() => {\n                      setShowConfirm(true)\n                    }}\n                    disabled={!isValid || (signatureData === null && approval !== ApprovalState.APPROVED)}\n                    error={!isValid && !!parsedAmounts[Field.CURRENCY_A] && !!parsedAmounts[Field.CURRENCY_B]}\n                  >\n                    <Text fontSize={16} fontWeight={500}>\n                      {error || <Trans>Remove</Trans>}\n                    </Text>\n                  </ButtonError>\n                </RowBetween>\n              )}\n            </div>\n          </AutoColumn>\n        </Wrapper>\n      </AppBody>\n\n      {pair ? (\n        <AutoColumn style={{ minWidth: '20rem', width: '100%', maxWidth: '400px', marginTop: '1rem' }}>\n          <MinimalPositionCard showUnwrapped={oneCurrencyIsWETH} pair={pair} />\n        </AutoColumn>\n      ) : null}\n    </>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}