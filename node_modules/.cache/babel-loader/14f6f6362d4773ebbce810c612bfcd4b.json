{"ast":null,"code":"import _objectSpread from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _styled from\"styled-components\";import{fetchTicksSurroundingPrice}from'data/pools/tickData';import React,{useEffect,useMemo,useState,useCallback}from'react';import{BarChart,Bar,LabelList,XAxis,Tooltip,ResponsiveContainer,Cell}from'recharts';import Loader from'components/Loader';import useTheme from'hooks/useTheme';import{usePoolDatas,usePoolTickData}from'state/pools/hooks';import{MAX_UINT128}from'../../constants/index';import{isAddress}from'utils';import{Pool,TickMath,TICK_SPACINGS}from'@uniswap/v3-sdk';import CurrentPriceLabel from'./CurrentPriceLabel';import CustomToolTip from'./CustomToolTip';import{Token,CurrencyAmount}from'@uniswap/sdk-core';import JSBI from'jsbi';import{useClients}from'state/application/hooks';import{vars}from'nft/css/sprinkles.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Wrapper=_styled.div.withConfig({componentId:\"sc-4ueumo-0\"})([\"position:relative;width:100%;height:400px;\"]);var ControlsWrapper=_styled.div.withConfig({componentId:\"sc-4ueumo-1\"})([\"position:absolute;right:40px;bottom:100px;padding:4px;border-radius:8px;display:grid;grid-template-columns:1fr 1fr;grid-column-gap:6px;\"]);var ActionButton=_styled.div.withConfig({componentId:\"sc-4ueumo-2\"})([\"width:32x;border-radius:50%;background-color:black;padding:4px 8px;display:flex;justify-content:center;font-size:18px;font-weight:500;align-items:center;opacity:\",\";background-color:\",\";user-select:none;:hover{cursor:pointer;opacity:0.4;}\"],function(_ref){var disabled=_ref.disabled;return disabled?0.4:0.9;},function(_ref2){var theme=_ref2.theme,disabled=_ref2.disabled;return disabled?theme.deprecated_bg3:theme.deprecated_bg1;});var INITIAL_TICKS_TO_FETCH=200;var ZOOM_INTERVAL=20;var initialState={left:0,right:INITIAL_TICKS_TO_FETCH*2+1,refAreaLeft:'',refAreaRight:''};export default function DensityChart(_ref3){var address=_ref3.address;var theme=useTheme();var _useClients=useClients(),dataClient=_useClients.dataClient;// poolData\nvar poolData=usePoolDatas([address])[0];var formattedAddress0=isAddress(poolData.token0.address);var formattedAddress1=isAddress(poolData.token1.address);var feeTier=poolData===null||poolData===void 0?void 0:poolData.feeTier;// parsed tokens\nvar token0=useMemo(function(){return poolData&&formattedAddress0&&formattedAddress1?new Token(1,formattedAddress0,poolData.token0.decimals):undefined;},[formattedAddress0,formattedAddress1,poolData]);var token1=useMemo(function(){return poolData&&formattedAddress1&&formattedAddress1?new Token(1,formattedAddress1,poolData.token1.decimals):undefined;},[formattedAddress1,poolData]);// tick data tracking\nvar _usePoolTickData=usePoolTickData(address),_usePoolTickData2=_slicedToArray(_usePoolTickData,2),poolTickData=_usePoolTickData2[0],updatePoolTickData=_usePoolTickData2[1];var _useState=useState(INITIAL_TICKS_TO_FETCH),_useState2=_slicedToArray(_useState,2),ticksToFetch=_useState2[0],setTicksToFetch=_useState2[1];var amountTicks=ticksToFetch*2+1;var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(initialState),_useState6=_slicedToArray(_useState5,2),zoomState=_useState6[0],setZoomState=_useState6[1];useEffect(function(){function fetch(){return _fetch.apply(this,arguments);}function _fetch(){_fetch=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$fetchTicksSurr,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetchTicksSurroundingPrice(address,dataClient,ticksToFetch);case 2:_yield$fetchTicksSurr=_context.sent;data=_yield$fetchTicksSurr.data;if(data){updatePoolTickData(address,data);}case 5:case\"end\":return _context.stop();}}},_callee);}));return _fetch.apply(this,arguments);}if(!poolTickData||poolTickData&&poolTickData.ticksProcessed.length<amountTicks){fetch();}},[address,poolTickData,updatePoolTickData,ticksToFetch,amountTicks,dataClient]);var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),formattedData=_useState8[0],setFormattedData=_useState8[1];useEffect(function(){function formatData(){return _formatData.apply(this,arguments);}function _formatData(){_formatData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var newData;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!poolTickData){_context3.next=9;break;}_context3.next=3;return Promise.all(poolTickData.ticksProcessed.map(/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(t,i){var active,sqrtPriceX96,feeAmount,mockTicks,pool,nextSqrtX96,maxAmountToken0,outputRes0,token1Amount,amount0,amount1;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:active=t.tickIdx===poolTickData.activeTickIdx;sqrtPriceX96=TickMath.getSqrtRatioAtTick(t.tickIdx);feeAmount=poolData.feeTier;mockTicks=[{index:t.tickIdx-TICK_SPACINGS[feeAmount],liquidityGross:t.liquidityGross,liquidityNet:JSBI.multiply(t.liquidityNet,JSBI.BigInt('-1'))},{index:t.tickIdx,liquidityGross:t.liquidityGross,liquidityNet:t.liquidityNet}];pool=token0&&token1&&feeTier?new Pool(token0,token1,feeTier,sqrtPriceX96,t.liquidityActive,t.tickIdx,mockTicks):undefined;nextSqrtX96=poolTickData.ticksProcessed[i-1]?TickMath.getSqrtRatioAtTick(poolTickData.ticksProcessed[i-1].tickIdx):undefined;maxAmountToken0=token0?CurrencyAmount.fromRawAmount(token0,MAX_UINT128.toString()):undefined;if(!(pool&&maxAmountToken0)){_context2.next=13;break;}_context2.next=10;return pool.getOutputAmount(maxAmountToken0,nextSqrtX96);case 10:_context2.t0=_context2.sent;_context2.next=14;break;case 13:_context2.t0=undefined;case 14:outputRes0=_context2.t0;token1Amount=outputRes0===null||outputRes0===void 0?void 0:outputRes0[0];amount0=token1Amount?parseFloat(token1Amount.toExact())*parseFloat(t.price1):0;amount1=token1Amount?parseFloat(token1Amount.toExact()):0;return _context2.abrupt(\"return\",{index:i,isCurrent:active,activeLiquidity:parseFloat(t.liquidityActive.toString()),price0:parseFloat(t.price0),price1:parseFloat(t.price1),tvlToken0:amount0,tvlToken1:amount1});case 19:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x,_x2){return _ref4.apply(this,arguments);};}()));case 3:newData=_context3.sent;// offset the values to line off bars with TVL used to swap across bar\nnewData===null||newData===void 0?void 0:newData.map(function(entry,i){if(i>0){newData[i-1].tvlToken0=entry.tvlToken0;newData[i-1].tvlToken1=entry.tvlToken1;}});if(newData){if(loading){setLoading(false);}setFormattedData(newData);}return _context3.abrupt(\"return\");case 9:return _context3.abrupt(\"return\",[]);case 10:case\"end\":return _context3.stop();}}},_callee3);}));return _formatData.apply(this,arguments);}if(!formattedData){formatData();}},[feeTier,formattedData,loading,poolData.feeTier,poolTickData,token0,token1]);var atZoomMax=zoomState.left+ZOOM_INTERVAL>=zoomState.right-ZOOM_INTERVAL-1;var atZoomMin=zoomState.left-ZOOM_INTERVAL<0;var handleZoomIn=useCallback(function(){!atZoomMax&&setZoomState(_objectSpread(_objectSpread({},zoomState),{},{left:zoomState.left+ZOOM_INTERVAL,right:zoomState.right-ZOOM_INTERVAL}));},[zoomState,atZoomMax]);var handleZoomOut=useCallback(function(){if(atZoomMin){setLoading(true);setTicksToFetch(ticksToFetch+ZOOM_INTERVAL);setFormattedData(undefined);setZoomState(_objectSpread(_objectSpread({},zoomState),{},{left:0,right:amountTicks}));}else{setZoomState(_objectSpread(_objectSpread({},zoomState),{},{left:zoomState.left-ZOOM_INTERVAL,right:zoomState.right+ZOOM_INTERVAL}));}},[amountTicks,atZoomMin,ticksToFetch,zoomState]);var zoomedData=useMemo(function(){if(formattedData){return formattedData.slice(zoomState.left,zoomState.right);}return undefined;},[formattedData,zoomState.left,zoomState.right]);// reset data on address change\nuseEffect(function(){setFormattedData(undefined);},[address]);if(!poolTickData){return/*#__PURE__*/_jsx(Loader,{});}var CustomBar=function CustomBar(_ref5){var x=_ref5.x,y=_ref5.y,width=_ref5.width,height=_ref5.height,fill=_ref5.fill;return/*#__PURE__*/_jsx(\"g\",{children:/*#__PURE__*/_jsx(\"rect\",{x:x,y:y,fill:fill,width:width,height:height,rx:\"2\"})});};return/*#__PURE__*/_jsxs(Wrapper,{children:[!loading?/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:\"100%\",children:/*#__PURE__*/_jsxs(BarChart,{width:500,height:300,data:zoomedData,margin:{top:5,right:30,left:20,bottom:60},children:[/*#__PURE__*/_jsx(Tooltip,{content:function content(props){return/*#__PURE__*/_jsx(CustomToolTip,{chartProps:props,poolData:poolData,currentPrice:poolData.token0Price});}}),/*#__PURE__*/_jsx(XAxis,{reversed:true,tick:false}),/*#__PURE__*/_jsxs(Bar,{dataKey:\"activeLiquidity\",fill:\"#2172E5\",isAnimationActive:false,shape:function shape(props){// eslint-disable-next-line react/prop-types\nreturn/*#__PURE__*/_jsx(CustomBar,{height:props.height,width:props.width,x:props.x,y:props.y,fill:props.fill});},children:[zoomedData===null||zoomedData===void 0?void 0:zoomedData.map(function(entry,index){return/*#__PURE__*/_jsx(Cell,{fill:entry.isCurrent?vars.color.pink400:vars.color.blue400},\"cell-\".concat(index));}),/*#__PURE__*/_jsx(LabelList,{dataKey:\"activeLiquidity\",position:\"inside\",content:function content(props){return/*#__PURE__*/_jsx(CurrentPriceLabel,{chartProps:props,poolData:poolData,data:zoomedData});}})]})]})}):/*#__PURE__*/_jsx(Loader,{}),/*#__PURE__*/_jsxs(ControlsWrapper,{children:[/*#__PURE__*/_jsx(ActionButton,{disabled:false,onClick:handleZoomOut,children:\"-\"}),/*#__PURE__*/_jsx(ActionButton,{disabled:atZoomMax,onClick:handleZoomIn,children:\"+\"})]})]});}","map":{"version":3,"names":["fetchTicksSurroundingPrice","React","useEffect","useMemo","useState","useCallback","BarChart","Bar","LabelList","XAxis","Tooltip","ResponsiveContainer","Cell","Loader","useTheme","usePoolDatas","usePoolTickData","MAX_UINT128","isAddress","Pool","TickMath","TICK_SPACINGS","CurrentPriceLabel","CustomToolTip","Token","CurrencyAmount","JSBI","useClients","vars","Wrapper","styled","div","ControlsWrapper","ActionButton","disabled","theme","deprecated_bg3","deprecated_bg1","INITIAL_TICKS_TO_FETCH","ZOOM_INTERVAL","initialState","left","right","refAreaLeft","refAreaRight","DensityChart","address","dataClient","poolData","formattedAddress0","token0","formattedAddress1","token1","feeTier","decimals","undefined","poolTickData","updatePoolTickData","ticksToFetch","setTicksToFetch","amountTicks","loading","setLoading","zoomState","setZoomState","fetch","data","ticksProcessed","length","formattedData","setFormattedData","formatData","Promise","all","map","t","i","active","tickIdx","activeTickIdx","sqrtPriceX96","getSqrtRatioAtTick","feeAmount","mockTicks","index","liquidityGross","liquidityNet","multiply","BigInt","pool","liquidityActive","nextSqrtX96","maxAmountToken0","fromRawAmount","toString","getOutputAmount","outputRes0","token1Amount","amount0","parseFloat","toExact","price1","amount1","isCurrent","activeLiquidity","price0","tvlToken0","tvlToken1","newData","entry","atZoomMax","atZoomMin","handleZoomIn","handleZoomOut","zoomedData","slice","CustomBar","x","y","width","height","fill","top","bottom","props","token0Price","color","pink400","blue400"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/components/DensityChart/index.tsx"],"sourcesContent":["import { fetchTicksSurroundingPrice, TickProcessed } from 'data/pools/tickData'\nimport React, { useEffect, useMemo, useState, useCallback } from 'react'\nimport { BarChart, Bar, LabelList, XAxis, Tooltip, ResponsiveContainer, Cell } from 'recharts'\nimport Loader from 'components/Loader'\nimport styled from 'styled-components/macro'\nimport useTheme from 'hooks/useTheme'\nimport { usePoolDatas, usePoolTickData } from 'state/pools/hooks'\nimport { MAX_UINT128 } from '../../constants/index'\nimport { isAddress } from 'utils'\nimport { Pool, TickMath, TICK_SPACINGS, FeeAmount } from '@uniswap/v3-sdk'\nimport { PoolData } from 'state/pools/reducer'\nimport CurrentPriceLabel  from './CurrentPriceLabel'\nimport CustomToolTip from './CustomToolTip'\nimport { Token, CurrencyAmount } from '@uniswap/sdk-core'\nimport JSBI from 'jsbi'\nimport { useClients } from 'state/application/hooks'\nimport { vars } from 'nft/css/sprinkles.css'\n\nconst Wrapper = styled.div`\n  position: relative;\n  width: 100%;\n  height: 400px;\n`\n\nconst ControlsWrapper = styled.div`\n  position: absolute;\n  right: 40px;\n  bottom: 100px;\n  padding: 4px;\n  border-radius: 8px;\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  grid-column-gap: 6px;\n`\n\nconst ActionButton = styled.div<{ disabled?: boolean }>`\n  width: 32x;\n  border-radius: 50%;\n  background-color: black;\n  padding: 4px 8px;\n  display: flex;\n  justify-content: center;\n  font-size: 18px;\n  font-weight: 500;\n  align-items: center;\n  opacity: ${({ disabled }) => (disabled ? 0.4 : 0.9)};\n  background-color: ${({ theme, disabled }) => (disabled ? theme.deprecated_bg3 : theme.deprecated_bg1)};\n  user-select: none;\n\n  :hover {\n    cursor: pointer;\n    opacity: 0.4;\n  }\n`\n\ninterface DensityChartProps {\n  address: string\n}\n\nexport interface ChartEntry {\n  index: number\n  isCurrent: boolean\n  activeLiquidity: number\n  price0: number\n  price1: number\n  tvlToken0: number\n  tvlToken1: number\n}\n\ninterface ZoomStateProps {\n  left: number\n  right: number\n  refAreaLeft: string | number\n  refAreaRight: string | number\n}\n\nconst INITIAL_TICKS_TO_FETCH = 200\nconst ZOOM_INTERVAL = 20\n\nconst initialState = {\n  left: 0,\n  right: INITIAL_TICKS_TO_FETCH * 2 + 1,\n  refAreaLeft: '',\n  refAreaRight: '',\n}\n\nexport default function DensityChart({ address }: DensityChartProps) {\n  const theme = useTheme()\n  const { dataClient } = useClients()\n\n  // poolData\n  const poolData: PoolData = usePoolDatas([address])[0]\n  const formattedAddress0 = isAddress(poolData.token0.address)\n  const formattedAddress1 = isAddress(poolData.token1.address)\n  const feeTier = poolData?.feeTier\n\n  // parsed tokens\n  const token0 = useMemo(() => {\n    return poolData && formattedAddress0 && formattedAddress1\n      ? new Token(1, formattedAddress0, poolData.token0.decimals)\n      : undefined\n  }, [formattedAddress0, formattedAddress1, poolData])\n  const token1 = useMemo(() => {\n    return poolData && formattedAddress1 && formattedAddress1\n      ? new Token(1, formattedAddress1, poolData.token1.decimals)\n      : undefined\n  }, [formattedAddress1, poolData])\n\n  // tick data tracking\n  const [poolTickData, updatePoolTickData] = usePoolTickData(address)\n  const [ticksToFetch, setTicksToFetch] = useState(INITIAL_TICKS_TO_FETCH)\n  const amountTicks = ticksToFetch * 2 + 1\n\n  const [loading, setLoading] = useState(false)\n  const [zoomState, setZoomState] = useState<ZoomStateProps>(initialState)\n\n  useEffect(() => {\n    async function fetch() {\n      const { data } = await fetchTicksSurroundingPrice(address, dataClient, ticksToFetch)\n      if (data) {\n        updatePoolTickData(address, data)\n      }\n    }\n    if (!poolTickData || (poolTickData && poolTickData.ticksProcessed.length < amountTicks)) {\n      fetch()\n    }\n  }, [address, poolTickData, updatePoolTickData, ticksToFetch, amountTicks, dataClient])\n\n  const [formattedData, setFormattedData] = useState<ChartEntry[] | undefined>()\n  useEffect(() => {\n    async function formatData() {\n      if (poolTickData) {\n        const newData = await Promise.all(\n          poolTickData.ticksProcessed.map(async (t: TickProcessed, i:any) => {\n            const active = t.tickIdx === poolTickData.activeTickIdx\n            const sqrtPriceX96 = TickMath.getSqrtRatioAtTick(t.tickIdx)\n            const feeAmount: FeeAmount = poolData.feeTier\n            const mockTicks = [\n              {\n                index: t.tickIdx - TICK_SPACINGS[feeAmount],\n                liquidityGross: t.liquidityGross,\n                liquidityNet: JSBI.multiply(t.liquidityNet, JSBI.BigInt('-1')),\n              },\n              {\n                index: t.tickIdx,\n                liquidityGross: t.liquidityGross,\n                liquidityNet: t.liquidityNet,\n              },\n            ]\n            const pool =\n              token0 && token1 && feeTier\n                ? new Pool(token0, token1, feeTier, sqrtPriceX96, t.liquidityActive, t.tickIdx, mockTicks)\n                : undefined\n            const nextSqrtX96 = poolTickData.ticksProcessed[i - 1]\n              ? TickMath.getSqrtRatioAtTick(poolTickData.ticksProcessed[i - 1].tickIdx)\n              : undefined\n            const maxAmountToken0 = token0 ? CurrencyAmount.fromRawAmount(token0, MAX_UINT128.toString()) : undefined\n            const outputRes0 =\n              pool && maxAmountToken0 ? await pool.getOutputAmount(maxAmountToken0, nextSqrtX96) : undefined\n\n            const token1Amount = outputRes0?.[0] as CurrencyAmount<Token> | undefined\n\n            const amount0 = token1Amount ? parseFloat(token1Amount.toExact()) * parseFloat(t.price1) : 0\n            const amount1 = token1Amount ? parseFloat(token1Amount.toExact()) : 0\n\n            return {\n              index: i,\n              isCurrent: active,\n              activeLiquidity: parseFloat(t.liquidityActive.toString()),\n              price0: parseFloat(t.price0),\n              price1: parseFloat(t.price1),\n              tvlToken0: amount0,\n              tvlToken1: amount1,\n            }\n          })\n        )\n        // offset the values to line off bars with TVL used to swap across bar\n        newData?.map((entry, i) => {\n          if (i > 0) {\n            newData[i - 1].tvlToken0 = entry.tvlToken0\n            newData[i - 1].tvlToken1 = entry.tvlToken1\n          }\n        })\n\n        if (newData) {\n          if (loading) {\n            setLoading(false)\n          }\n          setFormattedData(newData)\n        }\n        return\n      } else {\n        return []\n      }\n    }\n    if (!formattedData) {\n      formatData()\n    }\n  }, [feeTier, formattedData, loading, poolData.feeTier, poolTickData, token0, token1])\n\n  const atZoomMax = zoomState.left + ZOOM_INTERVAL >= zoomState.right - ZOOM_INTERVAL - 1\n  const atZoomMin = zoomState.left - ZOOM_INTERVAL < 0\n\n  const handleZoomIn = useCallback(() => {\n    !atZoomMax &&\n      setZoomState({\n        ...zoomState,\n        left: zoomState.left + ZOOM_INTERVAL,\n        right: zoomState.right - ZOOM_INTERVAL,\n      })\n  }, [zoomState, atZoomMax])\n\n  const handleZoomOut = useCallback(() => {\n    if (atZoomMin) {\n      setLoading(true)\n      setTicksToFetch(ticksToFetch + ZOOM_INTERVAL)\n      setFormattedData(undefined)\n      setZoomState({\n        ...zoomState,\n        left: 0,\n        right: amountTicks,\n      })\n    } else {\n      setZoomState({\n        ...zoomState,\n        left: zoomState.left - ZOOM_INTERVAL,\n        right: zoomState.right + ZOOM_INTERVAL,\n      })\n    }\n  }, [amountTicks, atZoomMin, ticksToFetch, zoomState])\n\n  const zoomedData = useMemo(() => {\n    if (formattedData) {\n      return formattedData.slice(zoomState.left, zoomState.right)\n    }\n    return undefined\n  }, [formattedData, zoomState.left, zoomState.right])\n\n  // reset data on address change\n  useEffect(() => {\n    setFormattedData(undefined)\n  }, [address])\n\n  if (!poolTickData) {\n    return <Loader />\n  }\n\n  const CustomBar = ({\n    x,\n    y,\n    width,\n    height,\n    fill,\n  }: {\n    x: number\n    y: number\n    width: number\n    height: number\n    fill: string\n  }) => {\n    return (\n      <g>\n        <rect x={x} y={y} fill={fill} width={width} height={height} rx=\"2\" />\n      </g>\n    )\n  }\n  return (\n    <Wrapper>\n      {!loading ? (\n        <ResponsiveContainer width=\"100%\" height=\"100%\">\n          <BarChart\n            width={500}\n            height={300}\n            data={zoomedData}\n            margin={{\n              top: 5,\n              right: 30,\n              left: 20,\n              bottom: 60,\n            }}\n          >\n            <Tooltip\n              content={(props) => (\n                <CustomToolTip chartProps={props} poolData={poolData} currentPrice={poolData.token0Price} />\n              )}\n            />\n            <XAxis reversed={true} tick={false} />\n            <Bar\n              dataKey=\"activeLiquidity\"\n              fill=\"#2172E5\"\n              isAnimationActive={false}\n              shape={(props) => {\n                // eslint-disable-next-line react/prop-types\n                return <CustomBar height={props.height} width={props.width} x={props.x} y={props.y} fill={props.fill} />\n              }}\n            >\n              {zoomedData?.map((entry, index) => {\n                return <Cell key={`cell-${index}`} fill={entry.isCurrent ? vars.color.pink400 : vars.color.blue400} />\n              })}\n              <LabelList\n                dataKey=\"activeLiquidity\"\n                position=\"inside\"\n                content={(props) => <CurrentPriceLabel chartProps={props} poolData={poolData} data={zoomedData} />}\n              />\n            </Bar>\n          </BarChart>\n        </ResponsiveContainer>\n      ) : (\n        <Loader />\n      )}\n      <ControlsWrapper>\n        <ActionButton disabled={false} onClick={handleZoomOut}>\n          -\n        </ActionButton>\n        <ActionButton disabled={atZoomMax} onClick={handleZoomIn}>\n          +\n        </ActionButton>\n      </ControlsWrapper>\n    </Wrapper>\n  )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}