{"ast":null,"code":"import _objectSpread from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectWithoutProperties from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import _styled from\"styled-components\";var _excluded=[\"trade\",\"syncing\",\"fixedOpen\"];import{Trans}from\"@lingui/react\";import{TraceEvent}from'@uniswap/analytics';import{BrowserEvent,ElementName,EventName}from'@uniswap/analytics-events';import{Percent,TradeType}from'@uniswap/sdk-core';import{Pair}from'@uniswap/v2-sdk';import{useWeb3React}from'@web3-react/core';import AnimatedDropdown from'components/AnimatedDropdown';import{AutoColumn}from'components/Column';import{LoadingRows}from'components/Loader/styled';import RoutingDiagram from'components/RoutingDiagram/RoutingDiagram';import{AutoRow,RowBetween}from'components/Row';import{SUPPORTED_GAS_ESTIMATE_CHAIN_IDS}from'constants/chains';import useAutoRouterSupported from'hooks/useAutoRouterSupported';import{memo,useState}from'react';import{Plus}from'react-feather';import{useDarkModeManager}from'state/user/hooks';import{Separator,ThemedText}from'theme';import{AutoRouterLabel,AutoRouterLogo}from'./RouterLabel';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Wrapper=_styled(AutoColumn).withConfig({componentId:\"sc-176vpyh-0\"})([\"padding:\",\";border-radius:16px;border:1px solid \",\";cursor:pointer;\"],function(_ref){var fixedOpen=_ref.fixedOpen;return fixedOpen?'12px':'12px 8px 12px 12px';},function(_ref2){var theme=_ref2.theme,fixedOpen=_ref2.fixedOpen;return fixedOpen?'transparent':theme.backgroundOutline;});var OpenCloseIcon=_styled(Plus).withConfig({componentId:\"sc-176vpyh-1\"})([\"margin-left:8px;height:20px;stroke-width:2px;transition:transform 0.1s;transform:\",\";stroke:\",\";cursor:pointer;:hover{opacity:0.8;}\"],function(_ref3){var open=_ref3.open;return open?'rotate(45deg)':'none';},function(_ref4){var theme=_ref4.theme;return theme.textTertiary;});export default/*#__PURE__*/memo(function SwapRoute(_ref5){var trade=_ref5.trade,syncing=_ref5.syncing,_ref5$fixedOpen=_ref5.fixedOpen,fixedOpen=_ref5$fixedOpen===void 0?false:_ref5$fixedOpen,rest=_objectWithoutProperties(_ref5,_excluded);var autoRouterSupported=useAutoRouterSupported();var routes=getTokenPath(trade);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var _useWeb3React=useWeb3React(),chainId=_useWeb3React.chainId;var _useDarkModeManager=useDarkModeManager(),_useDarkModeManager2=_slicedToArray(_useDarkModeManager,1),darkMode=_useDarkModeManager2[0];var formattedGasPriceString=(trade===null||trade===void 0?void 0:trade.gasUseEstimateUSD)?trade.gasUseEstimateUSD.toFixed(2)==='0.00'?'<$0.01':'$'+trade.gasUseEstimateUSD.toFixed(2):undefined;return/*#__PURE__*/_jsxs(Wrapper,_objectSpread(_objectSpread({},rest),{},{darkMode:darkMode,fixedOpen:fixedOpen,children:[/*#__PURE__*/_jsx(TraceEvent,{events:[BrowserEvent.onClick],name:EventName.SWAP_AUTOROUTER_VISUALIZATION_EXPANDED,element:ElementName.AUTOROUTER_VISUALIZATION_ROW,shouldLogImpression:!open,children:/*#__PURE__*/_jsxs(RowBetween,{onClick:function onClick(){return setOpen(!open);},children:[/*#__PURE__*/_jsxs(AutoRow,{gap:\"4px\",width:\"auto\",children:[/*#__PURE__*/_jsx(AutoRouterLogo,{}),/*#__PURE__*/_jsx(AutoRouterLabel,{})]}),fixedOpen?null:/*#__PURE__*/_jsx(OpenCloseIcon,{open:open})]})}),/*#__PURE__*/_jsx(AnimatedDropdown,{open:open||fixedOpen,children:/*#__PURE__*/_jsxs(AutoRow,{gap:\"4px\",width:\"auto\",style:{paddingTop:'12px',margin:0},children:[syncing?/*#__PURE__*/_jsx(LoadingRows,{children:/*#__PURE__*/_jsx(\"div\",{style:{width:'400px',height:'30px'}})}):/*#__PURE__*/_jsx(RoutingDiagram,{currencyIn:trade.inputAmount.currency,currencyOut:trade.outputAmount.currency,routes:routes}),autoRouterSupported&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Separator,{}),syncing?/*#__PURE__*/_jsx(LoadingRows,{children:/*#__PURE__*/_jsx(\"div\",{style:{width:'250px',height:'15px'}})}):/*#__PURE__*/_jsxs(ThemedText.DeprecatedMain,{fontSize:12,width:400,margin:0,children:[(trade===null||trade===void 0?void 0:trade.gasUseEstimateUSD)&&chainId&&SUPPORTED_GAS_ESTIMATE_CHAIN_IDS.includes(chainId)?/*#__PURE__*/_jsx(Trans,{id:\"Best price route costs ~{formattedGasPriceString} in gas.\",values:{formattedGasPriceString:formattedGasPriceString}}):null,' ',/*#__PURE__*/_jsx(Trans,{id:\"This route optimizes your total output by considering split routes, multiple hops, and the gas cost of each step.\"})]})]})]})})]}));});var V2_DEFAULT_FEE_TIER=3000;/**\n * Loops through all routes on a trade and returns an array of diagram entries.\n */export function getTokenPath(trade){return trade.swaps.map(function(_ref6){var _ref6$route=_ref6.route,tokenPath=_ref6$route.path,pools=_ref6$route.pools,protocol=_ref6$route.protocol,inputAmount=_ref6.inputAmount,outputAmount=_ref6.outputAmount;var portion=trade.tradeType===TradeType.EXACT_INPUT?inputAmount.divide(trade.inputAmount):outputAmount.divide(trade.outputAmount);var percent=new Percent(portion.numerator,portion.denominator);var path=[];for(var i=0;i<pools.length;i++){var nextPool=pools[i];var tokenIn=tokenPath[i];var tokenOut=tokenPath[i+1];var entry=[tokenIn,tokenOut,nextPool instanceof Pair?V2_DEFAULT_FEE_TIER:nextPool.fee];path.push(entry);}return{percent:percent,path:path,protocol:protocol};});}","map":{"version":3,"names":["TraceEvent","BrowserEvent","ElementName","EventName","Percent","TradeType","Pair","useWeb3React","AnimatedDropdown","AutoColumn","LoadingRows","RoutingDiagram","AutoRow","RowBetween","SUPPORTED_GAS_ESTIMATE_CHAIN_IDS","useAutoRouterSupported","memo","useState","Plus","useDarkModeManager","Separator","ThemedText","AutoRouterLabel","AutoRouterLogo","Wrapper","styled","fixedOpen","theme","backgroundOutline","OpenCloseIcon","open","textTertiary","SwapRoute","trade","syncing","rest","autoRouterSupported","routes","getTokenPath","setOpen","chainId","darkMode","formattedGasPriceString","gasUseEstimateUSD","toFixed","undefined","onClick","SWAP_AUTOROUTER_VISUALIZATION_EXPANDED","AUTOROUTER_VISUALIZATION_ROW","paddingTop","margin","width","height","inputAmount","currency","outputAmount","includes","V2_DEFAULT_FEE_TIER","swaps","map","route","tokenPath","path","pools","protocol","portion","tradeType","EXACT_INPUT","divide","percent","numerator","denominator","i","length","nextPool","tokenIn","tokenOut","entry","fee","push"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/components/swap/SwapRoute.tsx"],"sourcesContent":["import { Trans } from '@lingui/macro'\nimport { TraceEvent } from '@uniswap/analytics'\nimport { BrowserEvent, ElementName, EventName } from '@uniswap/analytics-events'\nimport { Protocol } from '@uniswap/router-sdk'\nimport { Currency, Percent, TradeType } from '@uniswap/sdk-core'\nimport { Pair } from '@uniswap/v2-sdk'\nimport { FeeAmount } from '@uniswap/v3-sdk'\nimport { useWeb3React } from '@web3-react/core'\nimport AnimatedDropdown from 'components/AnimatedDropdown'\nimport { AutoColumn } from 'components/Column'\nimport { LoadingRows } from 'components/Loader/styled'\nimport RoutingDiagram from 'components/RoutingDiagram/RoutingDiagram'\nimport { AutoRow, RowBetween } from 'components/Row'\nimport { SUPPORTED_GAS_ESTIMATE_CHAIN_IDS } from 'constants/chains'\nimport useAutoRouterSupported from 'hooks/useAutoRouterSupported'\nimport { memo, useState } from 'react'\nimport { Plus } from 'react-feather'\nimport { InterfaceTrade } from 'state/routing/types'\nimport { useDarkModeManager } from 'state/user/hooks'\nimport styled from 'styled-components/macro'\nimport { Separator, ThemedText } from 'theme'\n\nimport { AutoRouterLabel, AutoRouterLogo } from './RouterLabel'\n\nconst Wrapper = styled(AutoColumn)<{ darkMode?: boolean; fixedOpen?: boolean }>`\n  padding: ${({ fixedOpen }) => (fixedOpen ? '12px' : '12px 8px 12px 12px')};\n  border-radius: 16px;\n  border: 1px solid ${({ theme, fixedOpen }) => (fixedOpen ? 'transparent' : theme.backgroundOutline)};\n  cursor: pointer;\n`\n\nconst OpenCloseIcon = styled(Plus)<{ open?: boolean }>`\n  margin-left: 8px;\n  height: 20px;\n  stroke-width: 2px;\n  transition: transform 0.1s;\n  transform: ${({ open }) => (open ? 'rotate(45deg)' : 'none')};\n  stroke: ${({ theme }) => theme.textTertiary};\n  cursor: pointer;\n  :hover {\n    opacity: 0.8;\n  }\n`\n\ninterface SwapRouteProps extends React.HTMLAttributes<HTMLDivElement> {\n  trade: InterfaceTrade<Currency, Currency, TradeType>\n  syncing: boolean\n  fixedOpen?: boolean // fixed in open state, hide open/close icon\n}\n\nexport default memo(function SwapRoute({ trade, syncing, fixedOpen = false, ...rest }: SwapRouteProps) {\n  const autoRouterSupported = useAutoRouterSupported()\n  const routes = getTokenPath(trade)\n  const [open, setOpen] = useState(false)\n  const { chainId } = useWeb3React()\n\n  const [darkMode] = useDarkModeManager()\n\n  const formattedGasPriceString = trade?.gasUseEstimateUSD\n    ? trade.gasUseEstimateUSD.toFixed(2) === '0.00'\n      ? '<$0.01'\n      : '$' + trade.gasUseEstimateUSD.toFixed(2)\n    : undefined\n\n  return (\n    <Wrapper {...rest} darkMode={darkMode} fixedOpen={fixedOpen}>\n      <TraceEvent\n        events={[BrowserEvent.onClick]}\n        name={EventName.SWAP_AUTOROUTER_VISUALIZATION_EXPANDED}\n        element={ElementName.AUTOROUTER_VISUALIZATION_ROW}\n        shouldLogImpression={!open}\n      >\n        <RowBetween onClick={() => setOpen(!open)}>\n          <AutoRow gap=\"4px\" width=\"auto\">\n            <AutoRouterLogo />\n            <AutoRouterLabel />\n          </AutoRow>\n          {fixedOpen ? null : <OpenCloseIcon open={open} />}\n        </RowBetween>\n      </TraceEvent>\n      <AnimatedDropdown open={open || fixedOpen}>\n        <AutoRow gap=\"4px\" width=\"auto\" style={{ paddingTop: '12px', margin: 0 }}>\n          {syncing ? (\n            <LoadingRows>\n              <div style={{ width: '400px', height: '30px' }} />\n            </LoadingRows>\n          ) : (\n            <RoutingDiagram\n              currencyIn={trade.inputAmount.currency}\n              currencyOut={trade.outputAmount.currency}\n              routes={routes}\n            />\n          )}\n\n          {autoRouterSupported && (\n            <>\n              <Separator />\n              {syncing ? (\n                <LoadingRows>\n                  <div style={{ width: '250px', height: '15px' }} />\n                </LoadingRows>\n              ) : (\n                <ThemedText.DeprecatedMain fontSize={12} width={400} margin={0}>\n                  {trade?.gasUseEstimateUSD && chainId && SUPPORTED_GAS_ESTIMATE_CHAIN_IDS.includes(chainId) ? (\n                    <Trans>Best price route costs ~{formattedGasPriceString} in gas. </Trans>\n                  ) : null}{' '}\n                  <Trans>\n                    This route optimizes your total output by considering split routes, multiple hops, and the gas cost\n                    of each step.\n                  </Trans>\n                </ThemedText.DeprecatedMain>\n              )}\n            </>\n          )}\n        </AutoRow>\n      </AnimatedDropdown>\n    </Wrapper>\n  )\n})\n\nexport interface RoutingDiagramEntry {\n  percent: Percent\n  path: [Currency, Currency, FeeAmount][]\n  protocol: Protocol\n}\n\nconst V2_DEFAULT_FEE_TIER = 3000\n\n/**\n * Loops through all routes on a trade and returns an array of diagram entries.\n */\nexport function getTokenPath(trade: InterfaceTrade<Currency, Currency, TradeType>): RoutingDiagramEntry[] {\n  return trade.swaps.map(({ route: { path: tokenPath, pools, protocol }, inputAmount, outputAmount }) => {\n    const portion =\n      trade.tradeType === TradeType.EXACT_INPUT\n        ? inputAmount.divide(trade.inputAmount)\n        : outputAmount.divide(trade.outputAmount)\n    const percent = new Percent(portion.numerator, portion.denominator)\n    const path: RoutingDiagramEntry['path'] = []\n    for (let i = 0; i < pools.length; i++) {\n      const nextPool = pools[i]\n      const tokenIn = tokenPath[i]\n      const tokenOut = tokenPath[i + 1]\n      const entry: RoutingDiagramEntry['path'][0] = [\n        tokenIn,\n        tokenOut,\n        nextPool instanceof Pair ? V2_DEFAULT_FEE_TIER : nextPool.fee,\n      ]\n      path.push(entry)\n    }\n    return {\n      percent,\n      path,\n      protocol,\n    }\n  })\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}