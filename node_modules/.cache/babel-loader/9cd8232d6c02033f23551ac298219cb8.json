{"ast":null,"code":"import _toConsumableArray from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _styled from\"styled-components\";import{SMALL_MEDIA_BREAKPOINT}from'components/Tokens/constants';import{useOnClickOutside}from'hooks/useOnClickOutside';import{Column,Row}from'nft/components/Flex';import{ChevronUpIcon}from'nft/components/icons';import{Checkbox}from'nft/components/layout/Checkbox';import{buttonTextMedium,caption}from'nft/css/common.css';import{themeVars}from'nft/css/sprinkles.css';import{ListingMarkets}from'nft/utils/listNfts';import{useMemo,useReducer,useRef}from'react';import{ThemedText}from'theme';import{Z_INDEX}from'theme/zIndex';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MarketplaceRowWrapper=_styled(Row).withConfig({componentId:\"sc-ak53ch-0\"})([\"gap:6px;height:44px;width:100%;cursor:pointer;justify-content:space-between;padding:0px 16px;&:hover{background-color:\",\";}border-radius:12px;\"],function(_ref){var theme=_ref.theme;return theme.backgroundInteractive;});var MarketplaceDropdownIcon=_styled.img.withConfig({componentId:\"sc-ak53ch-1\"})([\"width:24px;height:24px;border-radius:4px;object-fit:cover;\"]);var FeeText=_styled.div.withConfig({componentId:\"sc-ak53ch-2\"})([\"color:\",\";\"],function(_ref2){var theme=_ref2.theme;return theme.textSecondary;});var MarketplaceRow=function MarketplaceRow(_ref3){var market=_ref3.market,setSelectedMarkets=_ref3.setSelectedMarkets,selectedMarkets=_ref3.selectedMarkets;var isSelected=selectedMarkets.includes(market);var _useReducer=useReducer(function(s){return!s;},false),_useReducer2=_slicedToArray(_useReducer,2),hovered=_useReducer2[0],toggleHovered=_useReducer2[1];var toggleSelected=function toggleSelected(){if(selectedMarkets.length===1&&isSelected)return;isSelected?setSelectedMarkets(selectedMarkets.filter(function(selected){return selected!==market;})):setSelectedMarkets([].concat(_toConsumableArray(selectedMarkets),[market]));};var handleCheckbox=function handleCheckbox(e){e.preventDefault();e.stopPropagation();};return/*#__PURE__*/_jsxs(MarketplaceRowWrapper,{onMouseEnter:toggleHovered,onMouseLeave:toggleHovered,onClick:toggleSelected,children:[/*#__PURE__*/_jsxs(Row,{gap:\"12\",onClick:toggleSelected,children:[/*#__PURE__*/_jsx(MarketplaceDropdownIcon,{alt:market.name,src:market.icon}),/*#__PURE__*/_jsxs(Column,{children:[/*#__PURE__*/_jsx(ThemedText.BodyPrimary,{children:market.name}),/*#__PURE__*/_jsxs(FeeText,{className:caption,children:[market.fee,\"% fee\"]})]})]}),/*#__PURE__*/_jsx(Checkbox,{hovered:hovered,checked:isSelected,onClick:handleCheckbox,children:/*#__PURE__*/_jsx(\"span\",{})})]});};var HeaderButtonWrap=_styled(Row).withConfig({componentId:\"sc-ak53ch-3\"})([\"padding:12px;border-radius:12px;width:180px;justify-content:space-between;background:\",\";cursor:pointer;&:hover{background-color:\",\";}@media screen and (min-width:\",\"){width:220px;}\"],function(_ref4){var theme=_ref4.theme;return theme.backgroundModule;},function(_ref5){var theme=_ref5.theme;return theme.backgroundInteractive;},SMALL_MEDIA_BREAKPOINT);var HeaderButtonContentWrapper=_styled.div.withConfig({componentId:\"sc-ak53ch-4\"})([\"display:flex;\"]);var MarketIcon=_styled.img.withConfig({componentId:\"sc-ak53ch-5\"})([\"height:20px;width:20px;margin-right:8px;border:1px solid;border-color:\",\";border-radius:4px;z-index:\",\";margin-left:\",\";\"],function(_ref6){var theme=_ref6.theme;return theme.backgroundInteractive;},function(_ref7){var index=_ref7.index,totalSelected=_ref7.totalSelected;return totalSelected-index;},function(_ref8){var index=_ref8.index;return\"\".concat(index===0?0:-18,\"px\");});var Chevron=_styled(ChevronUpIcon).withConfig({componentId:\"sc-ak53ch-6\"})([\"height:20px;width:20px;fill:\",\";transition:\",\";transform:\",\";\"],function(_ref9){var theme=_ref9.theme;return theme.textPrimary;},function(_ref10){var duration=_ref10.theme.transition.duration;return\"\".concat(duration.fast,\" transform\");},function(_ref11){var isOpen=_ref11.isOpen;return\"rotate(\".concat(isOpen?0:180,\"deg)\");});var ModalWrapper=_styled.div.withConfig({componentId:\"sc-ak53ch-7\"})([\"display:flex;flex-direction:column;position:relative;\"]);var DropdownWrapper=_styled(Column).withConfig({componentId:\"sc-ak53ch-8\"})([\"padding:16px 0px;background-color:\",\";display:\",\";position:absolute;top:52px;width:100%;border-radius:12px;gap:12px;z-index:\",\";\"],function(_ref12){var theme=_ref12.theme;return theme.backgroundModule;},function(_ref13){var isOpen=_ref13.isOpen;return isOpen?'flex':'none';},Z_INDEX.modalBackdrop);export var SelectMarketplacesDropdown=function SelectMarketplacesDropdown(_ref14){var setSelectedMarkets=_ref14.setSelectedMarkets,selectedMarkets=_ref14.selectedMarkets;var _useReducer3=useReducer(function(s){return!s;},false),_useReducer4=_slicedToArray(_useReducer3,2),isOpen=_useReducer4[0],toggleIsOpen=_useReducer4[1];var dropdownDisplayText=useMemo(function(){return selectedMarkets.length===1?selectedMarkets[0].name:'Multiple';},[selectedMarkets]);var ref=useRef(null);useOnClickOutside(ref,function(){return isOpen&&toggleIsOpen();});return/*#__PURE__*/_jsxs(ModalWrapper,{ref:ref,children:[/*#__PURE__*/_jsxs(HeaderButtonWrap,{className:buttonTextMedium,onClick:toggleIsOpen,children:[/*#__PURE__*/_jsxs(HeaderButtonContentWrapper,{children:[selectedMarkets.map(function(market,index){return/*#__PURE__*/_jsx(MarketIcon,{alt:market.name,src:market.icon,totalSelected:selectedMarkets.length,index:index},index);}),dropdownDisplayText]}),/*#__PURE__*/_jsx(Chevron,{isOpen:isOpen,secondaryColor:themeVars.colors.textPrimary})]}),/*#__PURE__*/_jsx(DropdownWrapper,{isOpen:isOpen,children:ListingMarkets.map(function(market){return MarketplaceRow({market:market,setSelectedMarkets:setSelectedMarkets,selectedMarkets:selectedMarkets});})})]});};","map":{"version":3,"names":["SMALL_MEDIA_BREAKPOINT","useOnClickOutside","Column","Row","ChevronUpIcon","Checkbox","buttonTextMedium","caption","themeVars","ListingMarkets","useMemo","useReducer","useRef","ThemedText","Z_INDEX","MarketplaceRowWrapper","styled","theme","backgroundInteractive","MarketplaceDropdownIcon","img","FeeText","div","textSecondary","MarketplaceRow","market","setSelectedMarkets","selectedMarkets","isSelected","includes","s","hovered","toggleHovered","toggleSelected","length","filter","selected","handleCheckbox","e","preventDefault","stopPropagation","name","icon","fee","HeaderButtonWrap","backgroundModule","HeaderButtonContentWrapper","MarketIcon","index","totalSelected","Chevron","textPrimary","duration","transition","fast","isOpen","ModalWrapper","DropdownWrapper","modalBackdrop","SelectMarketplacesDropdown","toggleIsOpen","dropdownDisplayText","ref","map","colors"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/nft/components/profile/list/SelectMarketplacesDropdown.tsx"],"sourcesContent":["import { SMALL_MEDIA_BREAKPOINT } from 'components/Tokens/constants'\nimport { useOnClickOutside } from 'hooks/useOnClickOutside'\nimport { Column, Row } from 'nft/components/Flex'\nimport { ChevronUpIcon } from 'nft/components/icons'\nimport { Checkbox } from 'nft/components/layout/Checkbox'\nimport { buttonTextMedium, caption } from 'nft/css/common.css'\nimport { themeVars } from 'nft/css/sprinkles.css'\nimport { ListingMarket } from 'nft/types'\nimport { ListingMarkets } from 'nft/utils/listNfts'\nimport { Dispatch, FormEvent, useMemo, useReducer, useRef } from 'react'\nimport styled from 'styled-components/macro'\nimport { ThemedText } from 'theme'\nimport { Z_INDEX } from 'theme/zIndex'\n\nconst MarketplaceRowWrapper = styled(Row)`\n  gap: 6px;\n  height: 44px;\n  width: 100%;\n  cursor: pointer;\n  justify-content: space-between;\n  padding: 0px 16px;\n  &:hover {\n    background-color: ${({ theme }) => theme.backgroundInteractive};\n  }\n  border-radius: 12px;\n`\n\nconst MarketplaceDropdownIcon = styled.img`\n  width: 24px;\n  height: 24px;\n  border-radius: 4px;\n  object-fit: cover;\n`\n\nconst FeeText = styled.div`\n  color: ${({ theme }) => theme.textSecondary};\n`\n\ninterface MarketplaceRowProps {\n  market: ListingMarket\n  setSelectedMarkets: Dispatch<ListingMarket[]>\n  selectedMarkets: ListingMarket[]\n}\n\nconst MarketplaceRow = ({ market, setSelectedMarkets, selectedMarkets }: MarketplaceRowProps) => {\n  const isSelected = selectedMarkets.includes(market)\n  const [hovered, toggleHovered] = useReducer((s) => !s, false)\n\n  const toggleSelected = () => {\n    if (selectedMarkets.length === 1 && isSelected) return\n    isSelected\n      ? setSelectedMarkets(selectedMarkets.filter((selected: ListingMarket) => selected !== market))\n      : setSelectedMarkets([...selectedMarkets, market])\n  }\n\n  const handleCheckbox = (e: FormEvent) => {\n    e.preventDefault()\n    e.stopPropagation()\n  }\n  return (\n    <MarketplaceRowWrapper onMouseEnter={toggleHovered} onMouseLeave={toggleHovered} onClick={toggleSelected}>\n      <Row gap=\"12\" onClick={toggleSelected}>\n        <MarketplaceDropdownIcon alt={market.name} src={market.icon} />\n        <Column>\n          <ThemedText.BodyPrimary>{market.name}</ThemedText.BodyPrimary>\n          <FeeText className={caption}>{market.fee}% fee</FeeText>\n        </Column>\n      </Row>\n\n      <Checkbox hovered={hovered} checked={isSelected} onClick={handleCheckbox}>\n        <span />\n      </Checkbox>\n    </MarketplaceRowWrapper>\n  )\n}\n\nconst HeaderButtonWrap = styled(Row)`\n  padding: 12px;\n  border-radius: 12px;\n  width: 180px;\n  justify-content: space-between;\n  background: ${({ theme }) => theme.backgroundModule};\n  cursor: pointer;\n  &:hover {\n    background-color: ${({ theme }) => theme.backgroundInteractive};\n  }\n  @media screen and (min-width: ${SMALL_MEDIA_BREAKPOINT}) {\n    width: 220px;\n  }\n`\n\nconst HeaderButtonContentWrapper = styled.div`\n  display: flex;\n`\n\nconst MarketIcon = styled.img<{ index: number; totalSelected: number }>`\n  height: 20px;\n  width: 20px;\n  margin-right: 8px;\n  border: 1px solid;\n  border-color: ${({ theme }) => theme.backgroundInteractive};\n  border-radius: 4px;\n  z-index: ${({ index, totalSelected }) => totalSelected - index};\n  margin-left: ${({ index }) => `${index === 0 ? 0 : -18}px`};\n`\n\nconst Chevron = styled(ChevronUpIcon)<{ isOpen: boolean }>`\n  height: 20px;\n  width: 20px;\n  fill: ${({ theme }) => theme.textPrimary};\n  transition: ${({\n    theme: {\n      transition: { duration },\n    },\n  }) => `${duration.fast} transform`};\n  transform: ${({ isOpen }) => `rotate(${isOpen ? 0 : 180}deg)`};\n`\n\nconst ModalWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  position: relative;\n`\n\nconst DropdownWrapper = styled(Column)<{ isOpen: boolean }>`\n  padding: 16px 0px;\n  background-color: ${({ theme }) => theme.backgroundModule};\n  display: ${({ isOpen }) => (isOpen ? 'flex' : 'none')};\n  position: absolute;\n  top: 52px;\n  width: 100%;\n  border-radius: 12px;\n  gap: 12px;\n  z-index: ${Z_INDEX.modalBackdrop};\n`\n\nexport const SelectMarketplacesDropdown = ({\n  setSelectedMarkets,\n  selectedMarkets,\n}: {\n  setSelectedMarkets: Dispatch<ListingMarket[]>\n  selectedMarkets: ListingMarket[]\n}) => {\n  const [isOpen, toggleIsOpen] = useReducer((s) => !s, false)\n  const dropdownDisplayText = useMemo(\n    () => (selectedMarkets.length === 1 ? selectedMarkets[0].name : 'Multiple'),\n    [selectedMarkets]\n  )\n  const ref = useRef<HTMLDivElement>(null)\n  useOnClickOutside(ref, () => isOpen && toggleIsOpen())\n  return (\n    <ModalWrapper ref={ref}>\n      <HeaderButtonWrap className={buttonTextMedium} onClick={toggleIsOpen}>\n        <HeaderButtonContentWrapper>\n          {selectedMarkets.map((market, index) => {\n            return (\n              <MarketIcon\n                key={index}\n                alt={market.name}\n                src={market.icon}\n                totalSelected={selectedMarkets.length}\n                index={index}\n              />\n            )\n          })}\n          {dropdownDisplayText}\n        </HeaderButtonContentWrapper>\n\n        <Chevron isOpen={isOpen} secondaryColor={themeVars.colors.textPrimary} />\n      </HeaderButtonWrap>\n      <DropdownWrapper isOpen={isOpen}>\n        {ListingMarkets.map((market) => {\n          return MarketplaceRow({ market, setSelectedMarkets, selectedMarkets })\n        })}\n      </DropdownWrapper>\n    </ModalWrapper>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}