{"ast":null,"code":"import { __awaiter, __generator } from \"tslib\";\nvar MemoryStorage = /** @class */function () {\n  function MemoryStorage() {\n    this.memoryStorage = new Map();\n  }\n  MemoryStorage.prototype.isEnabled = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2 /*return*/, true];\n      });\n    });\n  };\n  MemoryStorage.prototype.get = function (key) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2 /*return*/, this.memoryStorage.get(key)];\n      });\n    });\n  };\n  MemoryStorage.prototype.getRaw = function (key) {\n    return __awaiter(this, void 0, void 0, function () {\n      var value;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            return [4 /*yield*/, this.get(key)];\n          case 1:\n            value = _a.sent();\n            return [2 /*return*/, value ? JSON.stringify(value) : undefined];\n        }\n      });\n    });\n  };\n  MemoryStorage.prototype.set = function (key, value) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        this.memoryStorage.set(key, value);\n        return [2 /*return*/];\n      });\n    });\n  };\n\n  MemoryStorage.prototype.remove = function (key) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        this.memoryStorage.delete(key);\n        return [2 /*return*/];\n      });\n    });\n  };\n\n  MemoryStorage.prototype.reset = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        this.memoryStorage.clear();\n        return [2 /*return*/];\n      });\n    });\n  };\n\n  return MemoryStorage;\n}();\nexport { MemoryStorage };","map":{"version":3,"sources":["../../../src/storage/memory.ts"],"names":[],"mappings":";AAEA,IAAA,aAAA,GAAA,aAAA,YAAA;EAAA,SAAA,aAAA,GAAA;IACE,IAAA,CAAA,aAAa,GAAmB,IAAI,GAAG,EAAE;EA0B3C;EAxBQ,aAAA,CAAA,SAAA,CAAA,SAAS,GAAf,YAAA;;;QACE,OAAA,CAAA,CAAA,CAAA,YAAO,IAAI,CAAA;;;GACZ;EAEK,aAAA,CAAA,SAAA,CAAA,GAAG,GAAT,UAAU,GAAW,EAAA;;;QACnB,OAAA,CAAA,CAAA,CAAA,YAAO,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,GAAG,CAAC,CAAA;;;GACnC;EAEK,aAAA,CAAA,SAAA,CAAA,MAAM,GAAZ,UAAa,GAAW,EAAA;;;;;;YACR,OAAA,CAAA,CAAA,CAAA,WAAM,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAA;;YAA3B,KAAK,GAAG,EAAA,CAAA,IAAA,EAAmB;YACjC,OAAA,CAAA,CAAA,CAAA,YAAO,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,SAAS,CAAA;QAAC;;;GAClD;EAEK,aAAA,CAAA,SAAA,CAAA,GAAG,GAAT,UAAU,GAAW,EAAE,KAAQ,EAAA;;;QAC7B,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,GAAG,EAAE,KAAK,CAAC;;;;GACnC;;EAEK,aAAA,CAAA,SAAA,CAAA,MAAM,GAAZ,UAAa,GAAW,EAAA;;;QACtB,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,GAAG,CAAC;;;;GAC/B;;EAEK,aAAA,CAAA,SAAA,CAAA,KAAK,GAAX,YAAA;;;QACE,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE;;;;GAC3B;;EACH,OAAA,aAAC;AAAD,CAAC,EAAA","sourcesContent":["import { Storage } from '@amplitude/analytics-types';\n\nexport class MemoryStorage<T> implements Storage<T> {\n  memoryStorage: Map<string, T> = new Map();\n\n  async isEnabled(): Promise<boolean> {\n    return true;\n  }\n\n  async get(key: string): Promise<T | undefined> {\n    return this.memoryStorage.get(key);\n  }\n\n  async getRaw(key: string): Promise<string | undefined> {\n    const value = await this.get(key);\n    return value ? JSON.stringify(value) : undefined;\n  }\n\n  async set(key: string, value: T): Promise<void> {\n    this.memoryStorage.set(key, value);\n  }\n\n  async remove(key: string): Promise<void> {\n    this.memoryStorage.delete(key);\n  }\n\n  async reset(): Promise<void> {\n    this.memoryStorage.clear();\n  }\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}