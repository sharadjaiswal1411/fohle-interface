{"ast":null,"code":"import _slicedToArray from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useTheme as _useTheme}from\"styled-components\";import _styled from\"styled-components\";import{i18n}from\"@lingui/core\";import{Trans}from\"@lingui/react\";import{formatCurrencyAmount,formatPriceImpact,NumberType}from'@uniswap/conedison/format';import{LoadingBubble}from'components/Tokens/loading';import{MouseoverTooltip}from'components/Tooltip';import{useEffect,useMemo,useState}from'react';import{ThemedText}from'../../theme';import{warningSeverity}from'../../utils/prices';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var FiatLoadingBubble=_styled(LoadingBubble).withConfig({componentId:\"sc-1s3w89n-0\"})([\"border-radius:4px;width:4rem;height:1rem;\"]);export function FiatValue(_ref){var fiatValue=_ref.fiatValue,priceImpact=_ref.priceImpact,_ref$isLoading=_ref.isLoading,isLoading=_ref$isLoading===void 0?false:_ref$isLoading;var theme=_useTheme();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showLoadingPlaceholder=_useState2[0],setShowLoadingPlaceholder=_useState2[1];var priceImpactColor=useMemo(function(){if(!priceImpact)return undefined;if(priceImpact.lessThan('0'))return theme.accentSuccess;var severity=warningSeverity(priceImpact);if(severity<1)return theme.textTertiary;if(severity<3)return theme.deprecated_yellow1;return theme.accentFailure;},[priceImpact,theme.accentSuccess,theme.accentFailure,theme.textTertiary,theme.deprecated_yellow1]);useEffect(function(){var stale=false;var timeoutId=0;if(isLoading&&!fiatValue){timeoutId=setTimeout(function(){if(!stale)setShowLoadingPlaceholder(true);},200);}else{setShowLoadingPlaceholder(false);}return function(){return clearTimeout(timeoutId);};},[isLoading,fiatValue]);return/*#__PURE__*/_jsx(ThemedText.DeprecatedBody,{fontSize:14,color:theme.textSecondary,children:showLoadingPlaceholder?/*#__PURE__*/_jsx(FiatLoadingBubble,{}):/*#__PURE__*/_jsxs(\"div\",{children:[fiatValue&&/*#__PURE__*/_jsx(_Fragment,{children:formatCurrencyAmount(fiatValue,NumberType.FiatTokenPrice)}),priceImpact&&/*#__PURE__*/_jsxs(\"span\",{style:{color:priceImpactColor},children:[' ',/*#__PURE__*/_jsxs(MouseoverTooltip,{text:/*i18n*/i18n._(\"The estimated difference between the USD values of input and output amounts.\"),children:[\"(\",/*#__PURE__*/_jsx(Trans,{id:\"{0}\",values:{0:formatPriceImpact(priceImpact)}}),\")\"]})]})]})});}","map":{"version":3,"names":["formatCurrencyAmount","formatPriceImpact","NumberType","LoadingBubble","MouseoverTooltip","useEffect","useMemo","useState","ThemedText","warningSeverity","FiatLoadingBubble","styled","FiatValue","fiatValue","priceImpact","isLoading","theme","useTheme","showLoadingPlaceholder","setShowLoadingPlaceholder","priceImpactColor","undefined","lessThan","accentSuccess","severity","textTertiary","deprecated_yellow1","accentFailure","stale","timeoutId","setTimeout","clearTimeout","textSecondary","FiatTokenPrice","color"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/components/CurrencyInputPanel/FiatValue.tsx"],"sourcesContent":["import { Trans } from '@lingui/macro'\n// eslint-disable-next-line no-restricted-imports\nimport { t } from '@lingui/macro'\nimport { formatCurrencyAmount, formatPriceImpact, NumberType } from '@uniswap/conedison/format'\nimport { Currency, CurrencyAmount, Percent } from '@uniswap/sdk-core'\nimport { LoadingBubble } from 'components/Tokens/loading'\nimport { MouseoverTooltip } from 'components/Tooltip'\nimport { useEffect, useMemo, useState } from 'react'\nimport styled, { useTheme } from 'styled-components/macro'\n\nimport { ThemedText } from '../../theme'\nimport { warningSeverity } from '../../utils/prices'\n\nconst FiatLoadingBubble = styled(LoadingBubble)`\n  border-radius: 4px;\n  width: 4rem;\n  height: 1rem;\n`\n\nexport function FiatValue({\n  fiatValue,\n  priceImpact,\n  isLoading = false,\n}: {\n  fiatValue: CurrencyAmount<Currency> | null | undefined\n  priceImpact?: Percent\n  isLoading?: boolean\n}) {\n  const theme = useTheme()\n  const [showLoadingPlaceholder, setShowLoadingPlaceholder] = useState(false)\n  const priceImpactColor = useMemo(() => {\n    if (!priceImpact) return undefined\n    if (priceImpact.lessThan('0')) return theme.accentSuccess\n    const severity = warningSeverity(priceImpact)\n    if (severity < 1) return theme.textTertiary\n    if (severity < 3) return theme.deprecated_yellow1\n    return theme.accentFailure\n  }, [priceImpact, theme.accentSuccess, theme.accentFailure, theme.textTertiary, theme.deprecated_yellow1])\n\n  useEffect(() => {\n    const stale = false\n    let timeoutId = 0\n    if (isLoading && !fiatValue) {\n      timeoutId = setTimeout(() => {\n        if (!stale) setShowLoadingPlaceholder(true)\n      }, 200) as unknown as number\n    } else {\n      setShowLoadingPlaceholder(false)\n    }\n    return () => clearTimeout(timeoutId)\n  }, [isLoading, fiatValue])\n\n  return (\n    <ThemedText.DeprecatedBody fontSize={14} color={theme.textSecondary}>\n      {showLoadingPlaceholder ? (\n        <FiatLoadingBubble />\n      ) : (\n        <div>\n          {fiatValue && <>{formatCurrencyAmount(fiatValue, NumberType.FiatTokenPrice)}</>}\n          {priceImpact && (\n            <span style={{ color: priceImpactColor }}>\n              {' '}\n              <MouseoverTooltip text={t`The estimated difference between the USD values of input and output amounts.`}>\n                (<Trans>{formatPriceImpact(priceImpact)}</Trans>)\n              </MouseoverTooltip>\n            </span>\n          )}\n        </div>\n      )}\n    </ThemedText.DeprecatedBody>\n  )\n}\n"],"mappings":"wUAGA,OAASA,oBAAoB,CAAEC,iBAAiB,CAAEC,UAAU,KAAQ,2BAA2B,CAE/F,OAASC,aAAa,KAAQ,2BAA2B,CACzD,OAASC,gBAAgB,KAAQ,oBAAoB,CACrD,OAASC,SAAS,CAAEC,OAAO,CAAEC,QAAQ,KAAQ,OAAO,CAGpD,OAASC,UAAU,KAAQ,aAAa,CACxC,OAASC,eAAe,KAAQ,oBAAoB,8IAEpD,GAAMC,kBAAiB,CAAGC,OAAM,CAACR,aAAa,CAAC,wFAI9C,CAED,MAAO,SAASS,UAAS,MAQtB,IAPDC,UAAS,MAATA,SAAS,CACTC,WAAW,MAAXA,WAAW,qBACXC,SAAS,CAATA,SAAS,yBAAG,KAAK,gBAMjB,GAAMC,MAAK,CAAGC,SAAQ,EAAE,CACxB,cAA4DV,QAAQ,CAAC,KAAK,CAAC,wCAApEW,sBAAsB,eAAEC,yBAAyB,eACxD,GAAMC,iBAAgB,CAAGd,OAAO,CAAC,UAAM,CACrC,GAAI,CAACQ,WAAW,CAAE,MAAOO,UAAS,CAClC,GAAIP,WAAW,CAACQ,QAAQ,CAAC,GAAG,CAAC,CAAE,MAAON,MAAK,CAACO,aAAa,CACzD,GAAMC,SAAQ,CAAGf,eAAe,CAACK,WAAW,CAAC,CAC7C,GAAIU,QAAQ,CAAG,CAAC,CAAE,MAAOR,MAAK,CAACS,YAAY,CAC3C,GAAID,QAAQ,CAAG,CAAC,CAAE,MAAOR,MAAK,CAACU,kBAAkB,CACjD,MAAOV,MAAK,CAACW,aAAa,CAC5B,CAAC,CAAE,CAACb,WAAW,CAAEE,KAAK,CAACO,aAAa,CAAEP,KAAK,CAACW,aAAa,CAAEX,KAAK,CAACS,YAAY,CAAET,KAAK,CAACU,kBAAkB,CAAC,CAAC,CAEzGrB,SAAS,CAAC,UAAM,CACd,GAAMuB,MAAK,CAAG,KAAK,CACnB,GAAIC,UAAS,CAAG,CAAC,CACjB,GAAId,SAAS,EAAI,CAACF,SAAS,CAAE,CAC3BgB,SAAS,CAAGC,UAAU,CAAC,UAAM,CAC3B,GAAI,CAACF,KAAK,CAAET,yBAAyB,CAAC,IAAI,CAAC,CAC7C,CAAC,CAAE,GAAG,CAAsB,CAC9B,CAAC,IAAM,CACLA,yBAAyB,CAAC,KAAK,CAAC,CAClC,CACA,MAAO,kBAAMY,aAAY,CAACF,SAAS,CAAC,GACtC,CAAC,CAAE,CAACd,SAAS,CAAEF,SAAS,CAAC,CAAC,CAE1B,mBACE,KAAC,UAAU,CAAC,cAAc,EAAC,QAAQ,CAAE,EAAG,CAAC,KAAK,CAAEG,KAAK,CAACgB,aAAc,UACjEd,sBAAsB,cACrB,KAAC,iBAAiB,IAAG,cAErB,uBACGL,SAAS,eAAI,yBAAGb,oBAAoB,CAACa,SAAS,CAAEX,UAAU,CAAC+B,cAAc,CAAC,EAAI,CAC9EnB,WAAW,eACV,cAAM,KAAK,CAAE,CAAEoB,KAAK,CAAEd,gBAAiB,CAAE,WACtC,GAAG,cACJ,MAAC,gBAAgB,EAAC,IAAI,SAAE,sFAAgF,4BACrG,+BAAQnB,iBAAiB,CAACa,WAAW,CAAC,GAAS,OAC/B,GAEtB,GAEJ,EACyB,CAEhC"},"metadata":{},"sourceType":"module"}