{"ast":null,"code":"import _toConsumableArray from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useTheme as _useTheme}from\"styled-components\";import _styled from\"styled-components\";import{Trans}from\"@lingui/react\";import{i18n}from\"@lingui/core\";import{Trace}from'@uniswap/analytics';import{EventName,ModalName}from'@uniswap/analytics-events';import{useWeb3React}from'@web3-react/core';import{sendEvent}from'components/analytics';import useDebounce from'hooks/useDebounce';import{useOnClickOutside}from'hooks/useOnClickOutside';import useToggle from'hooks/useToggle';import useNativeCurrency from'lib/hooks/useNativeCurrency';import{getTokenFilter}from'lib/hooks/useTokenList/filtering';import{tokenComparator,useSortTokensByQuery}from'lib/hooks/useTokenList/sorting';import{useCallback,useEffect,useMemo,useRef,useState}from'react';import AutoSizer from'react-virtualized-auto-sizer';import{Text}from'rebass';import{useAllTokenBalances}from'state/connection/hooks';import{UserAddedToken}from'types/tokens';import{useAllTokens,useIsUserAddedToken,useSearchInactiveTokenLists,useToken}from'../../hooks/Tokens';import{CloseIcon,ThemedText}from'../../theme';import{isAddress}from'../../utils';import Column from'../Column';import Row,{RowBetween}from'../Row';import CommonBases from'./CommonBases';import{CurrencyRow,formatAnalyticsEventProperties}from'./CurrencyList';import CurrencyList from'./CurrencyList';import{PaddedColumn,SearchInput,Separator}from'./styleds';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ContentWrapper=_styled(Column).withConfig({componentId:\"sc-1it7zu4-0\"})([\"background-color:\",\";width:100%;flex:1 1;position:relative;\"],function(_ref){var theme=_ref.theme;return theme.backgroundSurface;});export function CurrencySearch(_ref2){var selectedCurrency=_ref2.selectedCurrency,onCurrencySelect=_ref2.onCurrencySelect,otherSelectedCurrency=_ref2.otherSelectedCurrency,showCommonBases=_ref2.showCommonBases,showCurrencyAmount=_ref2.showCurrencyAmount,disableNonToken=_ref2.disableNonToken,onDismiss=_ref2.onDismiss,isOpen=_ref2.isOpen;var _useWeb3React=useWeb3React(),chainId=_useWeb3React.chainId;var theme=_useTheme();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),tokenLoaderTimerElapsed=_useState2[0],setTokenLoaderTimerElapsed=_useState2[1];// refs for fixed size lists\nvar fixedList=useRef();var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),searchQuery=_useState4[0],setSearchQuery=_useState4[1];var debouncedQuery=useDebounce(searchQuery,200);var isAddressSearch=isAddress(debouncedQuery);var searchToken=useToken(debouncedQuery);var searchTokenIsAdded=useIsUserAddedToken(searchToken);useEffect(function(){if(isAddressSearch){sendEvent({category:'Currency Select',action:'Search by address',label:isAddressSearch});}},[isAddressSearch]);var defaultTokens=useAllTokens();var filteredTokens=useMemo(function(){return Object.values(defaultTokens).filter(getTokenFilter(debouncedQuery));},[defaultTokens,debouncedQuery]);var _useAllTokenBalances=useAllTokenBalances(),_useAllTokenBalances2=_slicedToArray(_useAllTokenBalances,2),balances=_useAllTokenBalances2[0],balancesAreLoading=_useAllTokenBalances2[1];var sortedTokens=useMemo(function(){return!balancesAreLoading?filteredTokens.filter(function(token){// If there is no query, filter out unselected user-added tokens with no balance.\nif(!debouncedQuery&&token instanceof UserAddedToken){var _balances$token$addre;if((selectedCurrency===null||selectedCurrency===void 0?void 0:selectedCurrency.equals(token))||(otherSelectedCurrency===null||otherSelectedCurrency===void 0?void 0:otherSelectedCurrency.equals(token)))return true;return(_balances$token$addre=balances[token.address])===null||_balances$token$addre===void 0?void 0:_balances$token$addre.greaterThan(0);}return true;}).sort(tokenComparator.bind(null,balances)):[];},[balances,balancesAreLoading,debouncedQuery,filteredTokens,otherSelectedCurrency,selectedCurrency]);var isLoading=Boolean(balancesAreLoading&&!tokenLoaderTimerElapsed);var filteredSortedTokens=useSortTokensByQuery(debouncedQuery,sortedTokens);var native=useNativeCurrency();var wrapped=native.wrapped;var searchCurrencies=useMemo(function(){var s=debouncedQuery.toLowerCase().trim();var tokens=filteredSortedTokens.filter(function(t){return!(t.equals(wrapped)||disableNonToken&&t.isNative);});var natives=(disableNonToken||native.equals(wrapped)?[wrapped]:[native,wrapped]).filter(function(n){var _n$symbol,_n$symbol$toLowerCase,_n$name,_n$name$toLowerCase;return((_n$symbol=n.symbol)===null||_n$symbol===void 0?void 0:(_n$symbol$toLowerCase=_n$symbol.toLowerCase())===null||_n$symbol$toLowerCase===void 0?void 0:_n$symbol$toLowerCase.indexOf(s))!==-1||((_n$name=n.name)===null||_n$name===void 0?void 0:(_n$name$toLowerCase=_n$name.toLowerCase())===null||_n$name$toLowerCase===void 0?void 0:_n$name$toLowerCase.indexOf(s))!==-1;});return[].concat(_toConsumableArray(natives),_toConsumableArray(tokens));},[debouncedQuery,filteredSortedTokens,wrapped,disableNonToken,native]);var handleCurrencySelect=useCallback(function(currency,hasWarning){onCurrencySelect(currency,hasWarning);if(!hasWarning)onDismiss();},[onDismiss,onCurrencySelect]);// clear the input on open\nuseEffect(function(){if(isOpen)setSearchQuery('');},[isOpen]);// manage focus on modal show\nvar inputRef=useRef();var handleInput=useCallback(function(event){var _fixedList$current;var input=event.target.value;var checksummedInput=isAddress(input);setSearchQuery(checksummedInput||input);(_fixedList$current=fixedList.current)===null||_fixedList$current===void 0?void 0:_fixedList$current.scrollTo(0);},[]);var handleEnter=useCallback(function(e){if(e.key==='Enter'){var _native$symbol;var s=debouncedQuery.toLowerCase().trim();if(s===(native===null||native===void 0?void 0:(_native$symbol=native.symbol)===null||_native$symbol===void 0?void 0:_native$symbol.toLowerCase())){handleCurrencySelect(native);}else if(searchCurrencies.length>0){var _searchCurrencies$0$s;if(((_searchCurrencies$0$s=searchCurrencies[0].symbol)===null||_searchCurrencies$0$s===void 0?void 0:_searchCurrencies$0$s.toLowerCase())===debouncedQuery.trim().toLowerCase()||searchCurrencies.length===1){handleCurrencySelect(searchCurrencies[0]);}}}},[debouncedQuery,native,searchCurrencies,handleCurrencySelect]);// menu ui\nvar _useToggle=useToggle(false),_useToggle2=_slicedToArray(_useToggle,2),open=_useToggle2[0],toggle=_useToggle2[1];var node=useRef();useOnClickOutside(node,open?toggle:undefined);// if no results on main list, show option to expand into inactive\nvar filteredInactiveTokens=useSearchInactiveTokenLists(filteredTokens.length===0||debouncedQuery.length>2&&!isAddressSearch?debouncedQuery:undefined);// Timeout token loader after 3 seconds to avoid hanging in a loading state.\nuseEffect(function(){var tokenLoaderTimer=setTimeout(function(){setTokenLoaderTimerElapsed(true);},3000);return function(){return clearTimeout(tokenLoaderTimer);};},[]);return/*#__PURE__*/_jsx(ContentWrapper,{children:/*#__PURE__*/_jsxs(Trace,{name:EventName.TOKEN_SELECTOR_OPENED,modal:ModalName.TOKEN_SELECTOR,shouldLogImpression:true,children:[/*#__PURE__*/_jsxs(PaddedColumn,{gap:\"16px\",children:[/*#__PURE__*/_jsxs(RowBetween,{children:[/*#__PURE__*/_jsx(Text,{fontWeight:500,fontSize:16,children:/*#__PURE__*/_jsx(Trans,{id:\"Select a token\"})}),/*#__PURE__*/_jsx(CloseIcon,{onClick:onDismiss})]}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(SearchInput,{type:\"text\",id:\"token-search-input\",placeholder:/*i18n*/i18n._(\"Search name or paste address\"),autoComplete:\"off\",value:searchQuery,ref:inputRef,onChange:handleInput,onKeyDown:handleEnter})}),showCommonBases&&/*#__PURE__*/_jsx(CommonBases,{chainId:chainId,onSelect:handleCurrencySelect,selectedCurrency:selectedCurrency,searchQuery:searchQuery,isAddressSearch:isAddressSearch})]}),/*#__PURE__*/_jsx(Separator,{}),searchToken&&!searchTokenIsAdded?/*#__PURE__*/_jsx(Column,{style:{padding:'20px 0',height:'100%'},children:/*#__PURE__*/_jsx(CurrencyRow,{currency:searchToken,isSelected:Boolean(searchToken&&selectedCurrency&&selectedCurrency.equals(searchToken)),onSelect:function onSelect(hasWarning){return searchToken&&handleCurrencySelect(searchToken,hasWarning);},otherSelected:Boolean(searchToken&&otherSelectedCurrency&&otherSelectedCurrency.equals(searchToken)),showCurrencyAmount:showCurrencyAmount,eventProperties:formatAnalyticsEventProperties(searchToken,0,[searchToken],searchQuery,isAddressSearch)})}):(searchCurrencies===null||searchCurrencies===void 0?void 0:searchCurrencies.length)>0||(filteredInactiveTokens===null||filteredInactiveTokens===void 0?void 0:filteredInactiveTokens.length)>0||isLoading?/*#__PURE__*/_jsx(\"div\",{style:{flex:'1'},children:/*#__PURE__*/_jsx(AutoSizer,{disableWidth:true,children:function children(_ref3){var height=_ref3.height;return/*#__PURE__*/_jsx(CurrencyList,{height:height,currencies:searchCurrencies,otherListTokens:filteredInactiveTokens,onCurrencySelect:handleCurrencySelect,otherCurrency:otherSelectedCurrency,selectedCurrency:selectedCurrency,fixedListRef:fixedList,showCurrencyAmount:showCurrencyAmount,isLoading:isLoading,searchQuery:searchQuery,isAddressSearch:isAddressSearch});}})}):/*#__PURE__*/_jsx(Column,{style:{padding:'20px',height:'100%'},children:/*#__PURE__*/_jsx(ThemedText.DeprecatedMain,{color:theme.textTertiary,textAlign:\"center\",mb:\"20px\",children:/*#__PURE__*/_jsx(Trans,{id:\"No results found.\"})})})]})});}","map":{"version":3,"names":["Trace","EventName","ModalName","useWeb3React","sendEvent","useDebounce","useOnClickOutside","useToggle","useNativeCurrency","getTokenFilter","tokenComparator","useSortTokensByQuery","useCallback","useEffect","useMemo","useRef","useState","AutoSizer","Text","useAllTokenBalances","UserAddedToken","useAllTokens","useIsUserAddedToken","useSearchInactiveTokenLists","useToken","CloseIcon","ThemedText","isAddress","Column","Row","RowBetween","CommonBases","CurrencyRow","formatAnalyticsEventProperties","CurrencyList","PaddedColumn","SearchInput","Separator","ContentWrapper","styled","theme","backgroundSurface","CurrencySearch","selectedCurrency","onCurrencySelect","otherSelectedCurrency","showCommonBases","showCurrencyAmount","disableNonToken","onDismiss","isOpen","chainId","useTheme","tokenLoaderTimerElapsed","setTokenLoaderTimerElapsed","fixedList","searchQuery","setSearchQuery","debouncedQuery","isAddressSearch","searchToken","searchTokenIsAdded","category","action","label","defaultTokens","filteredTokens","Object","values","filter","balances","balancesAreLoading","sortedTokens","token","equals","address","greaterThan","sort","bind","isLoading","Boolean","filteredSortedTokens","native","wrapped","searchCurrencies","s","toLowerCase","trim","tokens","t","isNative","natives","n","symbol","indexOf","name","handleCurrencySelect","currency","hasWarning","inputRef","handleInput","event","input","target","value","checksummedInput","current","scrollTo","handleEnter","e","key","length","open","toggle","node","undefined","filteredInactiveTokens","tokenLoaderTimer","setTimeout","clearTimeout","TOKEN_SELECTOR_OPENED","TOKEN_SELECTOR","padding","height","flex","textTertiary"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/components/SearchModal/CurrencySearch.tsx"],"sourcesContent":["// eslint-disable-next-line no-restricted-imports\nimport { t, Trans } from '@lingui/macro'\nimport { Trace } from '@uniswap/analytics'\nimport { EventName, ModalName } from '@uniswap/analytics-events'\nimport { Currency, Token } from '@uniswap/sdk-core'\nimport { useWeb3React } from '@web3-react/core'\nimport { sendEvent } from 'components/analytics'\nimport useDebounce from 'hooks/useDebounce'\nimport { useOnClickOutside } from 'hooks/useOnClickOutside'\nimport useToggle from 'hooks/useToggle'\nimport useNativeCurrency from 'lib/hooks/useNativeCurrency'\nimport { getTokenFilter } from 'lib/hooks/useTokenList/filtering'\nimport { tokenComparator, useSortTokensByQuery } from 'lib/hooks/useTokenList/sorting'\nimport { ChangeEvent, KeyboardEvent, RefObject, useCallback, useEffect, useMemo, useRef, useState } from 'react'\nimport AutoSizer from 'react-virtualized-auto-sizer'\nimport { FixedSizeList } from 'react-window'\nimport { Text } from 'rebass'\nimport { useAllTokenBalances } from 'state/connection/hooks'\nimport styled, { useTheme } from 'styled-components/macro'\nimport { UserAddedToken } from 'types/tokens'\n\nimport { useAllTokens, useIsUserAddedToken, useSearchInactiveTokenLists, useToken } from '../../hooks/Tokens'\nimport { CloseIcon, ThemedText } from '../../theme'\nimport { isAddress } from '../../utils'\nimport Column from '../Column'\nimport Row, { RowBetween } from '../Row'\nimport CommonBases from './CommonBases'\nimport { CurrencyRow, formatAnalyticsEventProperties } from './CurrencyList'\nimport CurrencyList from './CurrencyList'\nimport { PaddedColumn, SearchInput, Separator } from './styleds'\n\nconst ContentWrapper = styled(Column)`\n  background-color: ${({ theme }) => theme.backgroundSurface};\n  width: 100%;\n  flex: 1 1;\n  position: relative;\n`\n\ninterface CurrencySearchProps {\n  isOpen: boolean\n  onDismiss: () => void\n  selectedCurrency?: Currency | null\n  onCurrencySelect: (currency: Currency, hasWarning?: boolean) => void\n  otherSelectedCurrency?: Currency | null\n  showCommonBases?: boolean\n  showCurrencyAmount?: boolean\n  disableNonToken?: boolean\n}\n\nexport function CurrencySearch({\n  selectedCurrency,\n  onCurrencySelect,\n  otherSelectedCurrency,\n  showCommonBases,\n  showCurrencyAmount,\n  disableNonToken,\n  onDismiss,\n  isOpen,\n}: CurrencySearchProps) {\n  const { chainId } = useWeb3React()\n  const theme = useTheme()\n\n  const [tokenLoaderTimerElapsed, setTokenLoaderTimerElapsed] = useState(false)\n\n  // refs for fixed size lists\n  const fixedList = useRef<FixedSizeList>()\n\n  const [searchQuery, setSearchQuery] = useState<string>('')\n  const debouncedQuery = useDebounce(searchQuery, 200)\n  const isAddressSearch = isAddress(debouncedQuery)\n  const searchToken = useToken(debouncedQuery)\n  const searchTokenIsAdded = useIsUserAddedToken(searchToken)\n\n  useEffect(() => {\n    if (isAddressSearch) {\n      sendEvent({\n        category: 'Currency Select',\n        action: 'Search by address',\n        label: isAddressSearch,\n      })\n    }\n  }, [isAddressSearch])\n\n  const defaultTokens = useAllTokens()\n  const filteredTokens: Token[] = useMemo(() => {\n    return Object.values(defaultTokens).filter(getTokenFilter(debouncedQuery))\n  }, [defaultTokens, debouncedQuery])\n\n  const [balances, balancesAreLoading] = useAllTokenBalances()\n  const sortedTokens: Token[] = useMemo(\n    () =>\n      !balancesAreLoading\n        ? filteredTokens\n            .filter((token) => {\n              // If there is no query, filter out unselected user-added tokens with no balance.\n              if (!debouncedQuery && token instanceof UserAddedToken) {\n                if (selectedCurrency?.equals(token) || otherSelectedCurrency?.equals(token)) return true\n                return balances[token.address]?.greaterThan(0)\n              }\n              return true\n            })\n            .sort(tokenComparator.bind(null, balances))\n        : [],\n    [balances, balancesAreLoading, debouncedQuery, filteredTokens, otherSelectedCurrency, selectedCurrency]\n  )\n  const isLoading = Boolean(balancesAreLoading && !tokenLoaderTimerElapsed)\n\n  const filteredSortedTokens = useSortTokensByQuery(debouncedQuery, sortedTokens)\n\n  const native = useNativeCurrency()\n  const wrapped = native.wrapped\n\n  const searchCurrencies: Currency[] = useMemo(() => {\n    const s = debouncedQuery.toLowerCase().trim()\n\n    const tokens = filteredSortedTokens.filter((t) => !(t.equals(wrapped) || (disableNonToken && t.isNative)))\n    const natives = (disableNonToken || native.equals(wrapped) ? [wrapped] : [native, wrapped]).filter(\n      (n) => n.symbol?.toLowerCase()?.indexOf(s) !== -1 || n.name?.toLowerCase()?.indexOf(s) !== -1\n    )\n    return [...natives, ...tokens]\n  }, [debouncedQuery, filteredSortedTokens, wrapped, disableNonToken, native])\n\n  const handleCurrencySelect = useCallback(\n    (currency: Currency, hasWarning?: boolean) => {\n      onCurrencySelect(currency, hasWarning)\n      if (!hasWarning) onDismiss()\n    },\n    [onDismiss, onCurrencySelect]\n  )\n\n  // clear the input on open\n  useEffect(() => {\n    if (isOpen) setSearchQuery('')\n  }, [isOpen])\n\n  // manage focus on modal show\n  const inputRef = useRef<HTMLInputElement>()\n  const handleInput = useCallback((event: ChangeEvent<HTMLInputElement>) => {\n    const input = event.target.value\n    const checksummedInput = isAddress(input)\n    setSearchQuery(checksummedInput || input)\n    fixedList.current?.scrollTo(0)\n  }, [])\n\n  const handleEnter = useCallback(\n    (e: KeyboardEvent<HTMLInputElement>) => {\n      if (e.key === 'Enter') {\n        const s = debouncedQuery.toLowerCase().trim()\n        if (s === native?.symbol?.toLowerCase()) {\n          handleCurrencySelect(native)\n        } else if (searchCurrencies.length > 0) {\n          if (\n            searchCurrencies[0].symbol?.toLowerCase() === debouncedQuery.trim().toLowerCase() ||\n            searchCurrencies.length === 1\n          ) {\n            handleCurrencySelect(searchCurrencies[0])\n          }\n        }\n      }\n    },\n    [debouncedQuery, native, searchCurrencies, handleCurrencySelect]\n  )\n\n  // menu ui\n  const [open, toggle] = useToggle(false)\n  const node = useRef<HTMLDivElement>()\n  useOnClickOutside(node, open ? toggle : undefined)\n\n  // if no results on main list, show option to expand into inactive\n  const filteredInactiveTokens = useSearchInactiveTokenLists(\n    filteredTokens.length === 0 || (debouncedQuery.length > 2 && !isAddressSearch) ? debouncedQuery : undefined\n  )\n\n  // Timeout token loader after 3 seconds to avoid hanging in a loading state.\n  useEffect(() => {\n    const tokenLoaderTimer = setTimeout(() => {\n      setTokenLoaderTimerElapsed(true)\n    }, 3000)\n    return () => clearTimeout(tokenLoaderTimer)\n  }, [])\n\n  return (\n    <ContentWrapper>\n      <Trace name={EventName.TOKEN_SELECTOR_OPENED} modal={ModalName.TOKEN_SELECTOR} shouldLogImpression>\n        <PaddedColumn gap=\"16px\">\n          <RowBetween>\n            <Text fontWeight={500} fontSize={16}>\n              <Trans>Select a token</Trans>\n            </Text>\n            <CloseIcon onClick={onDismiss} />\n          </RowBetween>\n          <Row>\n            <SearchInput\n              type=\"text\"\n              id=\"token-search-input\"\n              placeholder={t`Search name or paste address`}\n              autoComplete=\"off\"\n              value={searchQuery}\n              ref={inputRef as RefObject<HTMLInputElement>}\n              onChange={handleInput}\n              onKeyDown={handleEnter}\n            />\n          </Row>\n          {showCommonBases && (\n            <CommonBases\n              chainId={chainId}\n              onSelect={handleCurrencySelect}\n              selectedCurrency={selectedCurrency}\n              searchQuery={searchQuery}\n              isAddressSearch={isAddressSearch}\n            />\n          )}\n        </PaddedColumn>\n        <Separator />\n        {searchToken && !searchTokenIsAdded ? (\n          <Column style={{ padding: '20px 0', height: '100%' }}>\n            <CurrencyRow\n              currency={searchToken}\n              isSelected={Boolean(searchToken && selectedCurrency && selectedCurrency.equals(searchToken))}\n              onSelect={(hasWarning: boolean) => searchToken && handleCurrencySelect(searchToken, hasWarning)}\n              otherSelected={Boolean(searchToken && otherSelectedCurrency && otherSelectedCurrency.equals(searchToken))}\n              showCurrencyAmount={showCurrencyAmount}\n              eventProperties={formatAnalyticsEventProperties(\n                searchToken,\n                0,\n                [searchToken],\n                searchQuery,\n                isAddressSearch\n              )}\n            />\n          </Column>\n        ) : searchCurrencies?.length > 0 || filteredInactiveTokens?.length > 0 || isLoading ? (\n          <div style={{ flex: '1' }}>\n            <AutoSizer disableWidth>\n              {({ height }) => (\n                <CurrencyList\n                  height={height}\n                  currencies={searchCurrencies}\n                  otherListTokens={filteredInactiveTokens}\n                  onCurrencySelect={handleCurrencySelect}\n                  otherCurrency={otherSelectedCurrency}\n                  selectedCurrency={selectedCurrency}\n                  fixedListRef={fixedList}\n                  showCurrencyAmount={showCurrencyAmount}\n                  isLoading={isLoading}\n                  searchQuery={searchQuery}\n                  isAddressSearch={isAddressSearch}\n                />\n              )}\n            </AutoSizer>\n          </div>\n        ) : (\n          <Column style={{ padding: '20px', height: '100%' }}>\n            <ThemedText.DeprecatedMain color={theme.textTertiary} textAlign=\"center\" mb=\"20px\">\n              <Trans>No results found.</Trans>\n            </ThemedText.DeprecatedMain>\n          </Column>\n        )}\n      </Trace>\n    </ContentWrapper>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}