{"ast":null,"code":"var _jsxFileName = \"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/pages/PoolDetails/index.tsx\",\n  _s = $RefreshSig$();\nimport PoolDetails from 'components/Pools/PoolDetails';\nimport { PoolDetailsPageSkeleton } from 'components/Pools/PoolDetails/Skeleton';\nimport { NATIVE_CHAIN_ID, nativeOnChain } from 'constants/tokens';\nimport { useTokenPriceQuery, useTokenQuery } from 'graphql/data/__generated__/types-and-hooks';\nimport { CHAIN_NAME_TO_CHAIN_ID, TimePeriod, toHistoryDuration, validateUrlChainParam } from 'graphql/data/util';\nimport { EthereumNetworkInfo, SUPPORTED_NETWORK_VERSIONS } from 'constants/networks';\nimport { useActiveNetworkVersion } from 'state/application/hooks';\nimport { useAtom } from 'jotai';\nimport { atomWithStorage } from 'jotai/utils';\nimport { useMemo, useEffect } from 'react';\nimport { useParams, useLocation } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const pageTimePeriodAtom = atomWithStorage('poolDetailsTimePeriod', TimePeriod.DAY);\nexport default function PoolDetailsPage() {\n  _s();\n  const {\n    tokenAddress,\n    chainName\n  } = useParams();\n  const chain = validateUrlChainParam(chainName);\n  const pageChainId = CHAIN_NAME_TO_CHAIN_ID[chain];\n  const [activeNetwork, setActiveNetwork] = useActiveNetworkVersion();\n  const location = useLocation();\n  useEffect(() => {\n    if ((chainName === null || chainName === void 0 ? void 0 : chainName.toLowerCase()) === 'ethereum') {\n      setActiveNetwork(EthereumNetworkInfo);\n    } else {\n      console.log(\"location.pathname\", location.pathname);\n      SUPPORTED_NETWORK_VERSIONS.map(n => {\n        if (location.pathname.includes(n.route.toLocaleLowerCase())) {\n          setActiveNetwork(n);\n        }\n      });\n    }\n  }, [chainName, setActiveNetwork]);\n  console.log(\"activeNetwork\", activeNetwork);\n  const isNative = tokenAddress === NATIVE_CHAIN_ID;\n  const [timePeriod, setTimePeriod] = useAtom(pageTimePeriodAtom);\n  const [contract, duration] = useMemo(() => [{\n    address: isNative ? nativeOnChain(pageChainId).wrapped.address : tokenAddress !== null && tokenAddress !== void 0 ? tokenAddress : '',\n    chain\n  }, toHistoryDuration(timePeriod)], [chain, isNative, pageChainId, timePeriod, tokenAddress]);\n  const {\n    data: tokenQuery,\n    loading: tokenQueryLoading\n  } = useTokenQuery({\n    variables: {\n      contract\n    }\n  });\n  const {\n    data: tokenPriceQuery\n  } = useTokenPriceQuery({\n    variables: {\n      contract,\n      duration\n    }\n  });\n  if (!tokenQuery || tokenQueryLoading) return /*#__PURE__*/_jsxDEV(PoolDetailsPageSkeleton, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 48\n  }, this);\n  return /*#__PURE__*/_jsxDEV(PoolDetails, {\n    urlAddress: tokenAddress,\n    chain: chain,\n    tokenQuery: tokenQuery,\n    tokenPriceQuery: tokenPriceQuery,\n    onChangeTimePeriod: setTimePeriod\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n}\n_s(PoolDetailsPage, \"G9PMVbbY92EwGxaba8AXD5aDzF4=\", false, function () {\n  return [useParams, useActiveNetworkVersion, useLocation, useAtom, useTokenQuery, useTokenPriceQuery];\n});\n_c = PoolDetailsPage;\nvar _c;\n$RefreshReg$(_c, \"PoolDetailsPage\");","map":{"version":3,"names":["PoolDetails","PoolDetailsPageSkeleton","NATIVE_CHAIN_ID","nativeOnChain","useTokenPriceQuery","useTokenQuery","CHAIN_NAME_TO_CHAIN_ID","TimePeriod","toHistoryDuration","validateUrlChainParam","EthereumNetworkInfo","SUPPORTED_NETWORK_VERSIONS","useActiveNetworkVersion","useAtom","atomWithStorage","useMemo","useEffect","useParams","useLocation","pageTimePeriodAtom","DAY","PoolDetailsPage","tokenAddress","chainName","chain","pageChainId","activeNetwork","setActiveNetwork","location","toLowerCase","console","log","pathname","map","n","includes","route","toLocaleLowerCase","isNative","timePeriod","setTimePeriod","contract","duration","address","wrapped","data","tokenQuery","loading","tokenQueryLoading","variables","tokenPriceQuery"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/pages/PoolDetails/index.tsx"],"sourcesContent":["import PoolDetails from 'components/Pools/PoolDetails'\nimport { PoolDetailsPageSkeleton } from 'components/Pools/PoolDetails/Skeleton'\nimport { NATIVE_CHAIN_ID, nativeOnChain } from 'constants/tokens'\nimport { useTokenPriceQuery, useTokenQuery } from 'graphql/data/__generated__/types-and-hooks'\nimport { CHAIN_NAME_TO_CHAIN_ID, TimePeriod, toHistoryDuration, validateUrlChainParam } from 'graphql/data/util'\nimport { EthereumNetworkInfo, SUPPORTED_NETWORK_VERSIONS } from 'constants/networks'\nimport { useActiveNetworkVersion } from 'state/application/hooks'\nimport { useAtom } from 'jotai'\nimport { atomWithStorage } from 'jotai/utils'\nimport { useMemo,useEffect } from 'react'\nimport { useParams,useLocation } from 'react-router-dom'\n\nexport const pageTimePeriodAtom = atomWithStorage<TimePeriod>('poolDetailsTimePeriod', TimePeriod.DAY)\n\nexport default function PoolDetailsPage() {\n  const { tokenAddress, chainName } = useParams<{ tokenAddress?: string; chainName?: string }>()\n  const chain = validateUrlChainParam(chainName)\n  const pageChainId = CHAIN_NAME_TO_CHAIN_ID[chain]\n  const [activeNetwork, setActiveNetwork] = useActiveNetworkVersion()\n    const location = useLocation()\n\n  useEffect(() => {\n    if (chainName?.toLowerCase() === 'ethereum') {\n      setActiveNetwork(EthereumNetworkInfo)\n    } else {\n      console.log(\"location.pathname\",location.pathname);\n      SUPPORTED_NETWORK_VERSIONS.map((n) => {\n        if (location.pathname.includes(n.route.toLocaleLowerCase())) {\n          setActiveNetwork(n)\n        }\n      })\n    }\n  }, [chainName, setActiveNetwork])\n\n console.log(\"activeNetwork\",activeNetwork);\n  const isNative = tokenAddress === NATIVE_CHAIN_ID\n  const [timePeriod, setTimePeriod] = useAtom(pageTimePeriodAtom)\n  const [contract, duration] = useMemo(\n    () => [\n      { address: isNative ? nativeOnChain(pageChainId).wrapped.address : tokenAddress ?? '', chain },\n      toHistoryDuration(timePeriod),\n    ],\n    [chain, isNative, pageChainId, timePeriod, tokenAddress]\n  )\n\n  const { data: tokenQuery, loading: tokenQueryLoading } = useTokenQuery({\n    variables: {\n      contract,\n    },\n  })\n\n  const { data: tokenPriceQuery } = useTokenPriceQuery({\n    variables: {\n      contract,\n      duration,\n    },\n  })\n\n  if (!tokenQuery || tokenQueryLoading) return <PoolDetailsPageSkeleton />\n\n  return (\n    <PoolDetails\n      urlAddress={tokenAddress}\n      chain={chain}\n      tokenQuery={tokenQuery}\n      tokenPriceQuery={tokenPriceQuery}\n      onChangeTimePeriod={setTimePeriod}\n    />\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}