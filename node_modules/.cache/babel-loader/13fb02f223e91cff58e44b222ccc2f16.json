{"ast":null,"code":"import _createForOfIteratorHelper from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import{Protocol}from'@uniswap/router-sdk';import{routeAmountsToString}from'@uniswap/smart-order-router';import{Pool}from'@uniswap/v3-sdk';// from routing-api (https://github.com/Uniswap/routing-api/blob/main/lib/handlers/quote/quote.ts#L243-L311)\nexport function transformSwapRouteToGetQuoteResult(type,amount,_ref){var quote=_ref.quote,quoteGasAdjusted=_ref.quoteGasAdjusted,route=_ref.route,estimatedGasUsed=_ref.estimatedGasUsed,estimatedGasUsedQuoteToken=_ref.estimatedGasUsedQuoteToken,estimatedGasUsedUSD=_ref.estimatedGasUsedUSD,gasPriceWei=_ref.gasPriceWei,methodParameters=_ref.methodParameters,blockNumber=_ref.blockNumber;var routeResponse=[];var _iterator=_createForOfIteratorHelper(route),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var subRoute=_step.value;var _amount=subRoute.amount,_quote=subRoute.quote,tokenPath=subRoute.tokenPath;var pools=subRoute.protocol===Protocol.V2?subRoute.route.pairs:subRoute.route.pools;var curRoute=[];for(var i=0;i<pools.length;i++){var nextPool=pools[i];var tokenIn=tokenPath[i];var tokenOut=tokenPath[i+1];var edgeAmountIn=undefined;if(i===0){edgeAmountIn=type==='exactIn'?_amount.quotient.toString():_quote.quotient.toString();}var edgeAmountOut=undefined;if(i===pools.length-1){edgeAmountOut=type==='exactIn'?_quote.quotient.toString():_amount.quotient.toString();}if(nextPool instanceof Pool){curRoute.push({type:'v3-pool',tokenIn:{chainId:tokenIn.chainId,decimals:tokenIn.decimals,address:tokenIn.address,symbol:tokenIn.symbol},tokenOut:{chainId:tokenOut.chainId,decimals:tokenOut.decimals,address:tokenOut.address,symbol:tokenOut.symbol},fee:nextPool.fee.toString(),liquidity:nextPool.liquidity.toString(),sqrtRatioX96:nextPool.sqrtRatioX96.toString(),tickCurrent:nextPool.tickCurrent.toString(),amountIn:edgeAmountIn,amountOut:edgeAmountOut});}else{var reserve0=nextPool.reserve0;var reserve1=nextPool.reserve1;curRoute.push({type:'v2-pool',tokenIn:{chainId:tokenIn.chainId,decimals:tokenIn.decimals,address:tokenIn.address,symbol:tokenIn.symbol},tokenOut:{chainId:tokenOut.chainId,decimals:tokenOut.decimals,address:tokenOut.address,symbol:tokenOut.symbol},reserve0:{token:{chainId:reserve0.currency.wrapped.chainId,decimals:reserve0.currency.wrapped.decimals,address:reserve0.currency.wrapped.address,symbol:reserve0.currency.wrapped.symbol},quotient:reserve0.quotient.toString()},reserve1:{token:{chainId:reserve1.currency.wrapped.chainId,decimals:reserve1.currency.wrapped.decimals,address:reserve1.currency.wrapped.address,symbol:reserve1.currency.wrapped.symbol},quotient:reserve1.quotient.toString()},amountIn:edgeAmountIn,amountOut:edgeAmountOut});}}routeResponse.push(curRoute);}}catch(err){_iterator.e(err);}finally{_iterator.f();}var result={methodParameters:methodParameters,blockNumber:blockNumber.toString(),amount:amount.quotient.toString(),amountDecimals:amount.toExact(),quote:quote.quotient.toString(),quoteDecimals:quote.toExact(),quoteGasAdjusted:quoteGasAdjusted.quotient.toString(),quoteGasAdjustedDecimals:quoteGasAdjusted.toExact(),gasUseEstimateQuote:estimatedGasUsedQuoteToken.quotient.toString(),gasUseEstimateQuoteDecimals:estimatedGasUsedQuoteToken.toExact(),gasUseEstimate:estimatedGasUsed.toString(),gasUseEstimateUSD:estimatedGasUsedUSD.toExact(),gasPriceWei:gasPriceWei.toString(),route:routeResponse,routeString:routeAmountsToString(route)};return result;}","map":{"version":3,"names":["Protocol","routeAmountsToString","Pool","transformSwapRouteToGetQuoteResult","type","amount","quote","quoteGasAdjusted","route","estimatedGasUsed","estimatedGasUsedQuoteToken","estimatedGasUsedUSD","gasPriceWei","methodParameters","blockNumber","routeResponse","subRoute","tokenPath","pools","protocol","V2","pairs","curRoute","i","length","nextPool","tokenIn","tokenOut","edgeAmountIn","undefined","quotient","toString","edgeAmountOut","push","chainId","decimals","address","symbol","fee","liquidity","sqrtRatioX96","tickCurrent","amountIn","amountOut","reserve0","reserve1","token","currency","wrapped","result","amountDecimals","toExact","quoteDecimals","quoteGasAdjustedDecimals","gasUseEstimateQuote","gasUseEstimateQuoteDecimals","gasUseEstimate","gasUseEstimateUSD","routeString"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/utils/transformSwapRouteToGetQuoteResult.ts"],"sourcesContent":["import { Protocol } from '@uniswap/router-sdk'\nimport { Currency, CurrencyAmount } from '@uniswap/sdk-core'\nimport { routeAmountsToString, SwapRoute } from '@uniswap/smart-order-router'\nimport { Pool } from '@uniswap/v3-sdk'\nimport { GetQuoteResult, V2PoolInRoute, V3PoolInRoute } from 'state/routing/types'\n\n// from routing-api (https://github.com/Uniswap/routing-api/blob/main/lib/handlers/quote/quote.ts#L243-L311)\nexport function transformSwapRouteToGetQuoteResult(\n  type: 'exactIn' | 'exactOut',\n  amount: CurrencyAmount<Currency>,\n  {\n    quote,\n    quoteGasAdjusted,\n    route,\n    estimatedGasUsed,\n    estimatedGasUsedQuoteToken,\n    estimatedGasUsedUSD,\n    gasPriceWei,\n    methodParameters,\n    blockNumber,\n  }: SwapRoute\n): GetQuoteResult {\n  const routeResponse: Array<(V3PoolInRoute | V2PoolInRoute)[]> = []\n\n  for (const subRoute of route) {\n    const { amount, quote, tokenPath } = subRoute\n\n    const pools = subRoute.protocol === Protocol.V2 ? subRoute.route.pairs : subRoute.route.pools\n    const curRoute: (V3PoolInRoute | V2PoolInRoute)[] = []\n    for (let i = 0; i < pools.length; i++) {\n      const nextPool = pools[i]\n      const tokenIn = tokenPath[i]\n      const tokenOut = tokenPath[i + 1]\n\n      let edgeAmountIn = undefined\n      if (i === 0) {\n        edgeAmountIn = type === 'exactIn' ? amount.quotient.toString() : quote.quotient.toString()\n      }\n\n      let edgeAmountOut = undefined\n      if (i === pools.length - 1) {\n        edgeAmountOut = type === 'exactIn' ? quote.quotient.toString() : amount.quotient.toString()\n      }\n\n      if (nextPool instanceof Pool) {\n        curRoute.push({\n          type: 'v3-pool',\n          tokenIn: {\n            chainId: tokenIn.chainId,\n            decimals: tokenIn.decimals,\n            address: tokenIn.address,\n            symbol: tokenIn.symbol,\n          },\n          tokenOut: {\n            chainId: tokenOut.chainId,\n            decimals: tokenOut.decimals,\n            address: tokenOut.address,\n            symbol: tokenOut.symbol,\n          },\n          fee: nextPool.fee.toString(),\n          liquidity: nextPool.liquidity.toString(),\n          sqrtRatioX96: nextPool.sqrtRatioX96.toString(),\n          tickCurrent: nextPool.tickCurrent.toString(),\n          amountIn: edgeAmountIn,\n          amountOut: edgeAmountOut,\n        })\n      } else {\n        const reserve0 = nextPool.reserve0\n        const reserve1 = nextPool.reserve1\n\n        curRoute.push({\n          type: 'v2-pool',\n          tokenIn: {\n            chainId: tokenIn.chainId,\n            decimals: tokenIn.decimals,\n            address: tokenIn.address,\n            symbol: tokenIn.symbol,\n          },\n          tokenOut: {\n            chainId: tokenOut.chainId,\n            decimals: tokenOut.decimals,\n            address: tokenOut.address,\n            symbol: tokenOut.symbol,\n          },\n          reserve0: {\n            token: {\n              chainId: reserve0.currency.wrapped.chainId,\n              decimals: reserve0.currency.wrapped.decimals,\n              address: reserve0.currency.wrapped.address,\n              symbol: reserve0.currency.wrapped.symbol,\n            },\n            quotient: reserve0.quotient.toString(),\n          },\n          reserve1: {\n            token: {\n              chainId: reserve1.currency.wrapped.chainId,\n              decimals: reserve1.currency.wrapped.decimals,\n              address: reserve1.currency.wrapped.address,\n              symbol: reserve1.currency.wrapped.symbol,\n            },\n            quotient: reserve1.quotient.toString(),\n          },\n          amountIn: edgeAmountIn,\n          amountOut: edgeAmountOut,\n        })\n      }\n    }\n\n    routeResponse.push(curRoute)\n  }\n\n  const result: GetQuoteResult = {\n    methodParameters,\n    blockNumber: blockNumber.toString(),\n    amount: amount.quotient.toString(),\n    amountDecimals: amount.toExact(),\n    quote: quote.quotient.toString(),\n    quoteDecimals: quote.toExact(),\n    quoteGasAdjusted: quoteGasAdjusted.quotient.toString(),\n    quoteGasAdjustedDecimals: quoteGasAdjusted.toExact(),\n    gasUseEstimateQuote: estimatedGasUsedQuoteToken.quotient.toString(),\n    gasUseEstimateQuoteDecimals: estimatedGasUsedQuoteToken.toExact(),\n    gasUseEstimate: estimatedGasUsed.toString(),\n    gasUseEstimateUSD: estimatedGasUsedUSD.toExact(),\n    gasPriceWei: gasPriceWei.toString(),\n    route: routeResponse,\n    routeString: routeAmountsToString(route),\n  }\n\n  return result\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}