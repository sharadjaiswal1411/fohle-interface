{"ast":null,"code":"import _styled from \"styled-components\";\nvar _jsxFileName = \"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/nft/components/bag/BagRow.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport { BigNumber } from '@ethersproject/bignumber';\nimport { formatEther } from '@ethersproject/units';\nimport clsx from 'clsx';\nimport { ButtonEmphasis, ButtonSize, ThemeButton } from 'components/Button';\nimport { TimedLoader } from 'nft/components/bag/TimedLoader';\nimport { Box } from 'nft/components/Box';\nimport { Suspicious } from 'nft/components/collection/Card';\nimport { Column, Row } from 'nft/components/Flex';\nimport { ChevronDownBagIcon, ChevronUpBagIcon, CircularCloseIcon, CloseTimerIcon, SquareArrowDownIcon, SquareArrowUpIcon, VerifiedIcon } from 'nft/components/icons';\nimport { bodySmall } from 'nft/css/common.css';\nimport { loadingBlock } from 'nft/css/loading.css';\nimport { ethNumberStandardFormatter, formatWeiToDecimal, getAssetHref } from 'nft/utils';\nimport { useCallback, useEffect, useReducer, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport * as styles from './BagRow.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const RemoveButton = _styled(ThemeButton).withConfig({\n  displayName: \"BagRow__RemoveButton\",\n  componentId: \"sc-iebvtt-0\"\n})([\"border-radius:12px;font-size:14px;line-height:16px;margin-left:16px;padding:12px 14px;\"]);\nconst ReviewButton = _styled(ThemeButton).withConfig({\n  displayName: \"BagRow__ReviewButton\",\n  componentId: \"sc-iebvtt-1\"\n})([\"border-radius:12px;flex:1 1 auto;font-size:14px;padding:8px;width:50%;\"]);\nconst RemoveAssetOverlay = _styled.div.withConfig({\n  displayName: \"BagRow__RemoveAssetOverlay\",\n  componentId: \"sc-iebvtt-2\"\n})([\"position:absolute;display:block;right:-11px;top:-11px;z-index:1;transition:250ms;width:45px;height:45px;display:flex;align-items:center;justify-content:center;\"]);\nexport const RemoveAssetButton = _ref => {\n  let {\n    onClick\n  } = _ref;\n  return /*#__PURE__*/_jsxDEV(RemoveAssetOverlay, {\n    onClick: onClick,\n    children: /*#__PURE__*/_jsxDEV(CircularCloseIcon, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 3\n  }, this);\n};\n_c = RemoveAssetButton;\nconst NoContentContainer = () => /*#__PURE__*/_jsxDEV(Box, {\n  position: \"relative\",\n  background: \"loadingBackground\",\n  className: styles.bagRowImage,\n  children: /*#__PURE__*/_jsxDEV(Box, {\n    position: \"absolute\",\n    textAlign: \"center\",\n    left: \"1/2\",\n    top: \"1/2\",\n    style: {\n      transform: 'translate3d(-50%, -50%, 0)'\n    },\n    color: \"gray500\",\n    fontSize: \"12\",\n    fontWeight: \"normal\",\n    children: [\"Image\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), \"not\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), \"available\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 63,\n  columnNumber: 3\n}, this);\n_c2 = NoContentContainer;\nexport const BagRow = _ref2 => {\n  _s();\n  var _asset$name;\n  let {\n    asset,\n    usdPrice,\n    removeAsset,\n    showRemove,\n    grayscale,\n    isMobile\n  } = _ref2;\n  const [loadedImage, setImageLoaded] = useState(false);\n  const [noImageAvailable, setNoImageAvailable] = useState(!asset.smallImageUrl);\n  const [cardHovered, setCardHovered] = useState(false);\n  const handleMouseEnter = useCallback(() => setCardHovered(true), []);\n  const handleMouseLeave = useCallback(() => setCardHovered(false), []);\n  const showRemoveButton = Boolean(showRemove && cardHovered && !isMobile);\n  const assetEthPrice = asset.updatedPriceInfo ? asset.updatedPriceInfo.ETHPrice : asset.priceInfo.ETHPrice;\n  const assetEthPriceFormatted = formatWeiToDecimal(assetEthPrice);\n  const assetUSDPriceFormatted = ethNumberStandardFormatter(usdPrice ? parseFloat(formatEther(assetEthPrice)) * usdPrice : usdPrice, true);\n  const handleRemoveClick = useCallback(e => {\n    e.preventDefault();\n    e.stopPropagation();\n    removeAsset([asset]);\n  }, [asset, removeAsset]);\n  return /*#__PURE__*/_jsxDEV(Link, {\n    to: getAssetHref(asset),\n    style: {\n      textDecoration: 'none'\n    },\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      className: styles.bagRow,\n      onMouseEnter: handleMouseEnter,\n      onMouseLeave: handleMouseLeave,\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        position: \"relative\",\n        display: \"flex\",\n        children: [showRemove && isMobile && /*#__PURE__*/_jsxDEV(RemoveAssetButton, {\n          onClick: handleRemoveClick\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 38\n        }, this), !noImageAvailable && /*#__PURE__*/_jsxDEV(Box, {\n          as: \"img\",\n          src: asset.smallImageUrl,\n          alt: asset.name,\n          className: clsx(styles.bagRowImage, grayscale && !cardHovered && styles.grayscaleImage),\n          onLoad: () => {\n            setImageLoaded(true);\n          },\n          onError: () => {\n            setNoImageAvailable(true);\n          },\n          visibility: loadedImage ? 'visible' : 'hidden'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 13\n        }, this), !loadedImage && /*#__PURE__*/_jsxDEV(Box, {\n          position: \"absolute\",\n          className: `${styles.bagRowImage} ${loadingBlock}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 28\n        }, this), noImageAvailable && /*#__PURE__*/_jsxDEV(NoContentContainer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 32\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Column, {\n        overflow: \"hidden\",\n        width: \"full\",\n        color: grayscale ? 'textSecondary' : 'textPrimary',\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          overflow: \"hidden\",\n          width: \"full\",\n          whiteSpace: \"nowrap\",\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            className: styles.assetName,\n            children: (_asset$name = asset.name) !== null && _asset$name !== void 0 ? _asset$name : `#${asset.tokenId}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 13\n          }, this), asset.susFlag && /*#__PURE__*/_jsxDEV(Suspicious, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 31\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          overflow: \"hidden\",\n          whiteSpace: \"nowrap\",\n          gap: \"2\",\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            className: styles.collectionName,\n            children: asset.collectionName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 13\n          }, this), asset.collectionIsVerified && /*#__PURE__*/_jsxDEV(VerifiedIcon, {\n            className: styles.icon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 44\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this), showRemoveButton && /*#__PURE__*/_jsxDEV(RemoveButton, {\n        onClick: handleRemoveClick,\n        emphasis: ButtonEmphasis.medium,\n        size: ButtonSize.medium,\n        children: \"Remove\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 11\n      }, this), (!showRemoveButton || isMobile) && /*#__PURE__*/_jsxDEV(Column, {\n        flexShrink: \"0\",\n        alignItems: \"flex-end\",\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          className: styles.bagRowPrice,\n          children: [assetEthPriceFormatted, \"\\xA0ETH\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          className: styles.collectionName,\n          children: assetUSDPriceFormatted\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 118,\n    columnNumber: 5\n  }, this);\n};\n_s(BagRow, \"akoRDktXpUkyqVHJGNekFOHoKEU=\");\n_c3 = BagRow;\nexport const PriceChangeBagRow = _ref3 => {\n  _s2();\n  var _asset$updatedPriceIn;\n  let {\n    asset,\n    usdPrice,\n    markAssetAsReviewed,\n    top,\n    isMobile\n  } = _ref3;\n  const isPriceIncrease = BigNumber.from((_asset$updatedPriceIn = asset.updatedPriceInfo) === null || _asset$updatedPriceIn === void 0 ? void 0 : _asset$updatedPriceIn.ETHPrice).gt(BigNumber.from(asset.priceInfo.ETHPrice));\n  const handleRemove = useCallback(e => {\n    e.preventDefault();\n    e.stopPropagation();\n    const toKeep = false;\n    markAssetAsReviewed(asset, toKeep);\n  }, [asset, markAssetAsReviewed]);\n  const handleKeep = useCallback(e => {\n    e.preventDefault();\n    e.stopPropagation();\n    const toKeep = true;\n    markAssetAsReviewed(asset, toKeep);\n  }, [asset, markAssetAsReviewed]);\n  return /*#__PURE__*/_jsxDEV(Column, {\n    className: styles.priceChangeColumn,\n    borderTopColor: top ? 'backgroundOutline' : 'transparent',\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      className: styles.priceChangeRow,\n      children: [isPriceIncrease ? /*#__PURE__*/_jsxDEV(SquareArrowUpIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 28\n      }, this) : /*#__PURE__*/_jsxDEV(SquareArrowDownIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 52\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        children: `Price ${isPriceIncrease ? 'increased' : 'decreased'} from ${formatWeiToDecimal(asset.priceInfo.ETHPrice)} ETH`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      style: {\n        marginLeft: '-8px',\n        marginRight: '-8px'\n      },\n      children: /*#__PURE__*/_jsxDEV(BagRow, {\n        asset: asset,\n        usdPrice: usdPrice,\n        removeAsset: () => undefined,\n        isMobile: isMobile\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      gap: \"8\",\n      justifyContent: \"space-between\",\n      children: [/*#__PURE__*/_jsxDEV(ReviewButton, {\n        onClick: handleRemove,\n        emphasis: ButtonEmphasis.medium,\n        size: ButtonSize.small,\n        children: \"Remove\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ReviewButton, {\n        onClick: handleKeep,\n        emphasis: ButtonEmphasis.high,\n        size: ButtonSize.small,\n        children: \"Keep\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 198,\n    columnNumber: 5\n  }, this);\n};\n_s2(PriceChangeBagRow, \"i7isBL9KAhu5gv003r//fS9Y5Jc=\");\n_c4 = PriceChangeBagRow;\nconst ASSET_PREVIEW_WIDTH = 32;\nconst ASSET_PREVIEW_OFFSET = 20;\nconst UnavailableAssetsPreview = _ref4 => {\n  let {\n    assets\n  } = _ref4;\n  return /*#__PURE__*/_jsxDEV(Column, {\n    display: \"grid\",\n    style: {\n      gridTemplateColumns: `repeat(${assets.length}, 20px)`,\n      width: `${ASSET_PREVIEW_WIDTH + (assets.length - 1) * ASSET_PREVIEW_OFFSET}px`\n    },\n    children: assets.map((asset, index) => /*#__PURE__*/_jsxDEV(Box, {\n      as: \"img\",\n      src: asset.smallImageUrl,\n      width: \"32\",\n      height: \"32\",\n      borderStyle: \"solid\",\n      borderWidth: \"1px\",\n      borderColor: \"backgroundSurface\",\n      borderRadius: \"4\",\n      style: {\n        zIndex: index\n      },\n      className: styles.grayscaleImage\n    }, `${asset.address}-${asset.tokenId}`, false, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 7\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 237,\n    columnNumber: 3\n  }, this);\n};\n_c5 = UnavailableAssetsPreview;\nexport const UnavailableAssetsHeaderRow = _ref5 => {\n  _s3();\n  let {\n    assets,\n    usdPrice,\n    clearUnavailableAssets,\n    didOpenUnavailableAssets,\n    setDidOpenUnavailableAssets,\n    isMobile\n  } = _ref5;\n  const [isOpen, toggleOpen] = useReducer(s => !s, false);\n  const timerLimit = 8;\n  const [timeLeft, setTimeLeft] = useState(timerLimit);\n  useEffect(() => {\n    if (!timeLeft) {\n      if (!didOpenUnavailableAssets) {\n        clearUnavailableAssets();\n        setDidOpenUnavailableAssets(false);\n      }\n      return;\n    }\n    const intervalId = setInterval(() => {\n      setTimeLeft(timeLeft - 1);\n    }, 1000);\n    return () => clearInterval(intervalId);\n  }, [timeLeft, clearUnavailableAssets, didOpenUnavailableAssets, setDidOpenUnavailableAssets]);\n  if (!assets || assets.length === 0) return null;\n  const moreThanOneUnavailable = assets.length > 1;\n  const isShowingAssets = isOpen || !moreThanOneUnavailable;\n  return /*#__PURE__*/_jsxDEV(Column, {\n    className: styles.unavailableAssetsContainer,\n    children: /*#__PURE__*/_jsxDEV(Column, {\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        justifyContent: \"space-between\",\n        marginBottom: isShowingAssets ? '12' : '0',\n        cursor: moreThanOneUnavailable ? 'pointer' : 'default',\n        onClick: () => {\n          if (moreThanOneUnavailable) {\n            !didOpenUnavailableAssets && setDidOpenUnavailableAssets(true);\n            toggleOpen();\n          }\n        },\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          gap: \"12\",\n          color: \"textSecondary\",\n          className: bodySmall,\n          children: [!isShowingAssets && /*#__PURE__*/_jsxDEV(UnavailableAssetsPreview, {\n            assets: assets.slice(0, 5)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 34\n          }, this), \"No longer available\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 11\n        }, this), moreThanOneUnavailable && /*#__PURE__*/_jsxDEV(Row, {\n          color: \"textSecondary\",\n          children: isOpen ? /*#__PURE__*/_jsxDEV(ChevronUpBagIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 50\n          }, this) : /*#__PURE__*/_jsxDEV(ChevronDownBagIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 73\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 13\n        }, this), !didOpenUnavailableAssets && /*#__PURE__*/_jsxDEV(Row, {\n          position: \"relative\",\n          width: \"20\",\n          height: \"20\",\n          color: \"textPrimary\",\n          justifyContent: \"center\",\n          cursor: \"pointer\",\n          onClick: clearUnavailableAssets,\n          children: [/*#__PURE__*/_jsxDEV(TimedLoader, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(CloseTimerIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Column, {\n        gap: \"8\",\n        style: {\n          marginLeft: '-8px',\n          marginRight: '-8px'\n        },\n        children: isShowingAssets && assets.map(asset => /*#__PURE__*/_jsxDEV(BagRow, {\n          asset: asset,\n          usdPrice: usdPrice,\n          removeAsset: () => undefined,\n          grayscale: true,\n          isMobile: isMobile\n        }, asset.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 296,\n    columnNumber: 5\n  }, this);\n};\n_s3(UnavailableAssetsHeaderRow, \"Z12n4pIRsnoEMOXdY7fKWmN8nJQ=\");\n_c6 = UnavailableAssetsHeaderRow;\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"RemoveAssetButton\");\n$RefreshReg$(_c2, \"NoContentContainer\");\n$RefreshReg$(_c3, \"BagRow\");\n$RefreshReg$(_c4, \"PriceChangeBagRow\");\n$RefreshReg$(_c5, \"UnavailableAssetsPreview\");\n$RefreshReg$(_c6, \"UnavailableAssetsHeaderRow\");","map":{"version":3,"names":["BigNumber","formatEther","clsx","ButtonEmphasis","ButtonSize","ThemeButton","TimedLoader","Box","Suspicious","Column","Row","ChevronDownBagIcon","ChevronUpBagIcon","CircularCloseIcon","CloseTimerIcon","SquareArrowDownIcon","SquareArrowUpIcon","VerifiedIcon","bodySmall","loadingBlock","ethNumberStandardFormatter","formatWeiToDecimal","getAssetHref","useCallback","useEffect","useReducer","useState","Link","styles","RemoveButton","styled","ReviewButton","RemoveAssetOverlay","div","RemoveAssetButton","onClick","NoContentContainer","bagRowImage","transform","BagRow","asset","usdPrice","removeAsset","showRemove","grayscale","isMobile","loadedImage","setImageLoaded","noImageAvailable","setNoImageAvailable","smallImageUrl","cardHovered","setCardHovered","handleMouseEnter","handleMouseLeave","showRemoveButton","Boolean","assetEthPrice","updatedPriceInfo","ETHPrice","priceInfo","assetEthPriceFormatted","assetUSDPriceFormatted","parseFloat","handleRemoveClick","e","preventDefault","stopPropagation","textDecoration","bagRow","name","grayscaleImage","assetName","tokenId","susFlag","collectionName","collectionIsVerified","icon","medium","bagRowPrice","PriceChangeBagRow","markAssetAsReviewed","top","isPriceIncrease","from","gt","handleRemove","toKeep","handleKeep","priceChangeColumn","priceChangeRow","marginLeft","marginRight","undefined","small","high","ASSET_PREVIEW_WIDTH","ASSET_PREVIEW_OFFSET","UnavailableAssetsPreview","assets","gridTemplateColumns","length","width","map","index","zIndex","address","UnavailableAssetsHeaderRow","clearUnavailableAssets","didOpenUnavailableAssets","setDidOpenUnavailableAssets","isOpen","toggleOpen","s","timerLimit","timeLeft","setTimeLeft","intervalId","setInterval","clearInterval","moreThanOneUnavailable","isShowingAssets","unavailableAssetsContainer","slice","id"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/nft/components/bag/BagRow.tsx"],"sourcesContent":["import { BigNumber } from '@ethersproject/bignumber'\nimport { formatEther } from '@ethersproject/units'\nimport clsx from 'clsx'\nimport { ButtonEmphasis, ButtonSize, ThemeButton } from 'components/Button'\nimport { TimedLoader } from 'nft/components/bag/TimedLoader'\nimport { Box } from 'nft/components/Box'\nimport { Suspicious } from 'nft/components/collection/Card'\nimport { Column, Row } from 'nft/components/Flex'\nimport {\n  ChevronDownBagIcon,\n  ChevronUpBagIcon,\n  CircularCloseIcon,\n  CloseTimerIcon,\n  SquareArrowDownIcon,\n  SquareArrowUpIcon,\n  VerifiedIcon,\n} from 'nft/components/icons'\nimport { bodySmall } from 'nft/css/common.css'\nimport { loadingBlock } from 'nft/css/loading.css'\nimport { GenieAsset, UpdatedGenieAsset } from 'nft/types'\nimport { ethNumberStandardFormatter, formatWeiToDecimal, getAssetHref } from 'nft/utils'\nimport { MouseEvent, useCallback, useEffect, useReducer, useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport styled from 'styled-components/macro'\n\nimport * as styles from './BagRow.css'\n\nexport const RemoveButton = styled(ThemeButton)`\n  border-radius: 12px;\n  font-size: 14px;\n  line-height: 16px;\n  margin-left: 16px;\n  padding: 12px 14px;\n`\nconst ReviewButton = styled(ThemeButton)`\n  border-radius: 12px;\n  flex: 1 1 auto;\n  font-size: 14px;\n  padding: 8px;\n  width: 50%;\n`\nconst RemoveAssetOverlay = styled.div`\n  position: absolute;\n  display: block;\n  right: -11px;\n  top: -11px;\n  z-index: 1;\n  transition: 250ms;\n  width: 45px;\n  height: 45px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`\n\nexport const RemoveAssetButton = ({ onClick }: { onClick: (e: MouseEvent<HTMLDivElement>) => void }) => (\n  <RemoveAssetOverlay onClick={onClick}>\n    <CircularCloseIcon />\n  </RemoveAssetOverlay>\n)\n\nconst NoContentContainer = () => (\n  <Box position=\"relative\" background=\"loadingBackground\" className={styles.bagRowImage}>\n    <Box\n      position=\"absolute\"\n      textAlign=\"center\"\n      left=\"1/2\"\n      top=\"1/2\"\n      style={{ transform: 'translate3d(-50%, -50%, 0)' }}\n      color=\"gray500\"\n      fontSize=\"12\"\n      fontWeight=\"normal\"\n    >\n      Image\n      <br />\n      not\n      <br />\n      available\n    </Box>\n  </Box>\n)\n\ninterface BagRowProps {\n  asset: UpdatedGenieAsset\n  usdPrice: number | undefined\n  removeAsset: (assets: GenieAsset[]) => void\n  showRemove?: boolean\n  grayscale?: boolean\n  isMobile: boolean\n}\n\nexport const BagRow = ({ asset, usdPrice, removeAsset, showRemove, grayscale, isMobile }: BagRowProps) => {\n  const [loadedImage, setImageLoaded] = useState(false)\n  const [noImageAvailable, setNoImageAvailable] = useState(!asset.smallImageUrl)\n\n  const [cardHovered, setCardHovered] = useState(false)\n  const handleMouseEnter = useCallback(() => setCardHovered(true), [])\n  const handleMouseLeave = useCallback(() => setCardHovered(false), [])\n  const showRemoveButton = Boolean(showRemove && cardHovered && !isMobile)\n\n  const assetEthPrice = asset.updatedPriceInfo ? asset.updatedPriceInfo.ETHPrice : asset.priceInfo.ETHPrice\n  const assetEthPriceFormatted = formatWeiToDecimal(assetEthPrice)\n  const assetUSDPriceFormatted = ethNumberStandardFormatter(\n    usdPrice ? parseFloat(formatEther(assetEthPrice)) * usdPrice : usdPrice,\n    true\n  )\n\n  const handleRemoveClick = useCallback(\n    (e: MouseEvent<HTMLElement>) => {\n      e.preventDefault()\n      e.stopPropagation()\n      removeAsset([asset])\n    },\n    [asset, removeAsset]\n  )\n\n  return (\n    <Link to={getAssetHref(asset)} style={{ textDecoration: 'none' }}>\n      <Row className={styles.bagRow} onMouseEnter={handleMouseEnter} onMouseLeave={handleMouseLeave}>\n        <Box position=\"relative\" display=\"flex\">\n          {showRemove && isMobile && <RemoveAssetButton onClick={handleRemoveClick} />}\n          {!noImageAvailable && (\n            <Box\n              as=\"img\"\n              src={asset.smallImageUrl}\n              alt={asset.name}\n              className={clsx(styles.bagRowImage, grayscale && !cardHovered && styles.grayscaleImage)}\n              onLoad={() => {\n                setImageLoaded(true)\n              }}\n              onError={() => {\n                setNoImageAvailable(true)\n              }}\n              visibility={loadedImage ? 'visible' : 'hidden'}\n            />\n          )}\n          {!loadedImage && <Box position=\"absolute\" className={`${styles.bagRowImage} ${loadingBlock}`} />}\n          {noImageAvailable && <NoContentContainer />}\n        </Box>\n        <Column overflow=\"hidden\" width=\"full\" color={grayscale ? 'textSecondary' : 'textPrimary'}>\n          <Row overflow=\"hidden\" width=\"full\" whiteSpace=\"nowrap\">\n            <Box className={styles.assetName}>{asset.name ?? `#${asset.tokenId}`}</Box>\n            {asset.susFlag && <Suspicious />}\n          </Row>\n          <Row overflow=\"hidden\" whiteSpace=\"nowrap\" gap=\"2\">\n            <Box className={styles.collectionName}>{asset.collectionName}</Box>\n            {asset.collectionIsVerified && <VerifiedIcon className={styles.icon} />}\n          </Row>\n        </Column>\n        {showRemoveButton && (\n          <RemoveButton onClick={handleRemoveClick} emphasis={ButtonEmphasis.medium} size={ButtonSize.medium}>\n            Remove\n          </RemoveButton>\n        )}\n        {(!showRemoveButton || isMobile) && (\n          <Column flexShrink=\"0\" alignItems=\"flex-end\">\n            <Box className={styles.bagRowPrice}>\n              {assetEthPriceFormatted}\n              &nbsp;ETH\n            </Box>\n            <Box className={styles.collectionName}>{assetUSDPriceFormatted}</Box>\n          </Column>\n        )}\n      </Row>\n    </Link>\n  )\n}\n\ninterface PriceChangeBagRowProps {\n  asset: UpdatedGenieAsset\n  usdPrice: number | undefined\n  markAssetAsReviewed: (asset: UpdatedGenieAsset, toKeep: boolean) => void\n  top?: boolean\n  isMobile: boolean\n}\n\nexport const PriceChangeBagRow = ({ asset, usdPrice, markAssetAsReviewed, top, isMobile }: PriceChangeBagRowProps) => {\n  const isPriceIncrease = BigNumber.from(asset.updatedPriceInfo?.ETHPrice).gt(BigNumber.from(asset.priceInfo.ETHPrice))\n  const handleRemove = useCallback(\n    (e: MouseEvent<HTMLButtonElement>) => {\n      e.preventDefault()\n      e.stopPropagation()\n      const toKeep = false\n      markAssetAsReviewed(asset, toKeep)\n    },\n    [asset, markAssetAsReviewed]\n  )\n  const handleKeep = useCallback(\n    (e: MouseEvent<HTMLButtonElement>) => {\n      e.preventDefault()\n      e.stopPropagation()\n      const toKeep = true\n      markAssetAsReviewed(asset, toKeep)\n    },\n    [asset, markAssetAsReviewed]\n  )\n  return (\n    <Column className={styles.priceChangeColumn} borderTopColor={top ? 'backgroundOutline' : 'transparent'}>\n      <Row className={styles.priceChangeRow}>\n        {isPriceIncrease ? <SquareArrowUpIcon /> : <SquareArrowDownIcon />}\n        <Box>{`Price ${isPriceIncrease ? 'increased' : 'decreased'} from ${formatWeiToDecimal(\n          asset.priceInfo.ETHPrice\n        )} ETH`}</Box>\n      </Row>\n      <Box style={{ marginLeft: '-8px', marginRight: '-8px' }}>\n        <BagRow asset={asset} usdPrice={usdPrice} removeAsset={() => undefined} isMobile={isMobile} />\n      </Box>\n      <Row gap=\"8\" justifyContent=\"space-between\">\n        <ReviewButton onClick={handleRemove} emphasis={ButtonEmphasis.medium} size={ButtonSize.small}>\n          Remove\n        </ReviewButton>\n        <ReviewButton onClick={handleKeep} emphasis={ButtonEmphasis.high} size={ButtonSize.small}>\n          Keep\n        </ReviewButton>\n      </Row>\n    </Column>\n  )\n}\n\ninterface UnavailableAssetsHeaderRowProps {\n  assets?: UpdatedGenieAsset[]\n  usdPrice: number | undefined\n  clearUnavailableAssets: () => void\n  didOpenUnavailableAssets: boolean\n  setDidOpenUnavailableAssets: (didOpen: boolean) => void\n  isMobile: boolean\n}\n\ninterface UnavailableAssetsPreviewProps {\n  assets: UpdatedGenieAsset[]\n}\n\nconst ASSET_PREVIEW_WIDTH = 32\nconst ASSET_PREVIEW_OFFSET = 20\n\nconst UnavailableAssetsPreview = ({ assets }: UnavailableAssetsPreviewProps) => (\n  <Column\n    display=\"grid\"\n    style={{\n      gridTemplateColumns: `repeat(${assets.length}, 20px)`,\n      width: `${ASSET_PREVIEW_WIDTH + (assets.length - 1) * ASSET_PREVIEW_OFFSET}px`,\n    }}\n  >\n    {assets.map((asset, index) => (\n      <Box\n        key={`${asset.address}-${asset.tokenId}`}\n        as=\"img\"\n        src={asset.smallImageUrl}\n        width=\"32\"\n        height=\"32\"\n        borderStyle=\"solid\"\n        borderWidth=\"1px\"\n        borderColor=\"backgroundSurface\"\n        borderRadius=\"4\"\n        style={{ zIndex: index }}\n        className={styles.grayscaleImage}\n      />\n    ))}\n  </Column>\n)\n\nexport const UnavailableAssetsHeaderRow = ({\n  assets,\n  usdPrice,\n  clearUnavailableAssets,\n  didOpenUnavailableAssets,\n  setDidOpenUnavailableAssets,\n  isMobile,\n}: UnavailableAssetsHeaderRowProps) => {\n  const [isOpen, toggleOpen] = useReducer((s) => !s, false)\n  const timerLimit = 8\n  const [timeLeft, setTimeLeft] = useState(timerLimit)\n\n  useEffect(() => {\n    if (!timeLeft) {\n      if (!didOpenUnavailableAssets) {\n        clearUnavailableAssets()\n        setDidOpenUnavailableAssets(false)\n      }\n      return\n    }\n\n    const intervalId = setInterval(() => {\n      setTimeLeft(timeLeft - 1)\n    }, 1000)\n\n    return () => clearInterval(intervalId)\n  }, [timeLeft, clearUnavailableAssets, didOpenUnavailableAssets, setDidOpenUnavailableAssets])\n\n  if (!assets || assets.length === 0) return null\n\n  const moreThanOneUnavailable = assets.length > 1\n  const isShowingAssets = isOpen || !moreThanOneUnavailable\n\n  return (\n    <Column className={styles.unavailableAssetsContainer}>\n      <Column>\n        <Row\n          justifyContent=\"space-between\"\n          marginBottom={isShowingAssets ? '12' : '0'}\n          cursor={moreThanOneUnavailable ? 'pointer' : 'default'}\n          onClick={() => {\n            if (moreThanOneUnavailable) {\n              !didOpenUnavailableAssets && setDidOpenUnavailableAssets(true)\n              toggleOpen()\n            }\n          }}\n        >\n          <Row gap=\"12\" color=\"textSecondary\" className={bodySmall}>\n            {!isShowingAssets && <UnavailableAssetsPreview assets={assets.slice(0, 5)} />}\n            No longer available\n          </Row>\n          {moreThanOneUnavailable && (\n            <Row color=\"textSecondary\">{isOpen ? <ChevronUpBagIcon /> : <ChevronDownBagIcon />}</Row>\n          )}\n          {!didOpenUnavailableAssets && (\n            <Row\n              position=\"relative\"\n              width=\"20\"\n              height=\"20\"\n              color=\"textPrimary\"\n              justifyContent=\"center\"\n              cursor=\"pointer\"\n              onClick={clearUnavailableAssets}\n            >\n              <TimedLoader />\n              <CloseTimerIcon />\n            </Row>\n          )}\n        </Row>\n        <Column gap=\"8\" style={{ marginLeft: '-8px', marginRight: '-8px' }}>\n          {isShowingAssets &&\n            assets.map((asset) => (\n              <BagRow\n                key={asset.id}\n                asset={asset}\n                usdPrice={usdPrice}\n                removeAsset={() => undefined}\n                grayscale\n                isMobile={isMobile}\n              />\n            ))}\n        </Column>\n      </Column>\n    </Column>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}