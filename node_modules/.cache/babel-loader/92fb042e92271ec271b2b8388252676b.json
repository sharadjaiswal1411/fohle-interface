{"ast":null,"code":"var _window$navigator$ser,\n  _s = $RefreshSig$();\nimport { useWeb3React } from '@web3-react/core';\nimport { useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { isMobile } from 'utils/userAgent';\nimport { getCLS, getFCP, getFID, getLCP } from 'web-vitals';\nimport GoogleAnalyticsProvider from './GoogleAnalyticsProvider';\nconst GOOGLE_ANALYTICS_CLIENT_ID_STORAGE_KEY = 'ga_client_id';\nconst GOOGLE_ANALYTICS_ID = process.env.REACT_APP_GOOGLE_ANALYTICS_ID;\nconst storedClientId = window.localStorage.getItem(GOOGLE_ANALYTICS_CLIENT_ID_STORAGE_KEY);\nconst googleAnalytics = new GoogleAnalyticsProvider();\nexport function sendEvent(event, params) {\n  return googleAnalytics.sendEvent(event, params);\n}\nexport function outboundLink(_ref, hitCallback) {\n  let {\n    label\n  } = _ref;\n  return googleAnalytics.outboundLink({\n    label\n  }, hitCallback);\n}\nexport function sendTiming(timingCategory, timingVar, timingValue, timingLabel) {\n  return googleAnalytics.gaCommandSendTiming(timingCategory, timingVar, timingValue, timingLabel);\n}\nif (typeof GOOGLE_ANALYTICS_ID === 'string') {\n  googleAnalytics.initialize(GOOGLE_ANALYTICS_ID, {\n    gaOptions: {\n      storage: 'none',\n      storeGac: false,\n      clientId: storedClientId !== null && storedClientId !== void 0 ? storedClientId : undefined\n    }\n  });\n  googleAnalytics.set({\n    anonymizeIp: true,\n    customBrowserType: !isMobile ? 'desktop' : 'web3' in window || 'ethereum' in window ? 'mobileWeb3' : 'mobileRegular'\n  });\n} else {\n  googleAnalytics.initialize('test', {\n    gtagOptions: {\n      debug_mode: true\n    }\n  });\n}\nconst installed = Boolean((_window$navigator$ser = window.navigator.serviceWorker) === null || _window$navigator$ser === void 0 ? void 0 : _window$navigator$ser.controller);\nconst hit = Boolean(window.__isDocumentCached);\nconst action = installed ? hit ? 'Cache hit' : 'Cache miss' : 'Not installed';\nsendEvent({\n  category: 'Service Worker',\n  action,\n  nonInteraction: true\n});\nfunction reportWebVitals(_ref2) {\n  let {\n    name,\n    delta,\n    id\n  } = _ref2;\n  sendTiming('Web Vitals', name, Math.round(name === 'CLS' ? delta * 1000 : delta), id);\n}\n\n// tracks web vitals and pageviews\nexport function useAnalyticsReporter() {\n  _s();\n  const {\n    pathname,\n    search\n  } = useLocation();\n  useEffect(() => {\n    getFCP(reportWebVitals);\n    getFID(reportWebVitals);\n    getLCP(reportWebVitals);\n    getCLS(reportWebVitals);\n  }, []);\n  const {\n    chainId\n  } = useWeb3React();\n  useEffect(() => {\n    // cd1 - custom dimension 1 - chainId\n    googleAnalytics.set({\n      cd1: chainId !== null && chainId !== void 0 ? chainId : 0\n    });\n  }, [chainId]);\n  useEffect(() => {\n    googleAnalytics.pageview(`${pathname}${search}`);\n  }, [pathname, search]);\n  useEffect(() => {\n    // typed as 'any' in react-ga4 -.-\n    googleAnalytics.ga(tracker => {\n      if (!tracker) return;\n      const clientId = tracker.get('clientId');\n      window.localStorage.setItem(GOOGLE_ANALYTICS_CLIENT_ID_STORAGE_KEY, clientId);\n    });\n  }, []);\n}\n_s(useAnalyticsReporter, \"8GZEdtZVurDrri81W/yeyTBU/KY=\", false, function () {\n  return [useLocation, useWeb3React];\n});","map":{"version":3,"names":["useWeb3React","useEffect","useLocation","isMobile","getCLS","getFCP","getFID","getLCP","GoogleAnalyticsProvider","GOOGLE_ANALYTICS_CLIENT_ID_STORAGE_KEY","GOOGLE_ANALYTICS_ID","process","env","REACT_APP_GOOGLE_ANALYTICS_ID","storedClientId","window","localStorage","getItem","googleAnalytics","sendEvent","event","params","outboundLink","hitCallback","label","sendTiming","timingCategory","timingVar","timingValue","timingLabel","gaCommandSendTiming","initialize","gaOptions","storage","storeGac","clientId","undefined","set","anonymizeIp","customBrowserType","gtagOptions","debug_mode","installed","Boolean","navigator","serviceWorker","controller","hit","__isDocumentCached","action","category","nonInteraction","reportWebVitals","name","delta","id","Math","round","useAnalyticsReporter","pathname","search","chainId","cd1","pageview","ga","tracker","get","setItem"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/components/analytics/index.ts"],"sourcesContent":["import { useWeb3React } from '@web3-react/core'\nimport { useEffect } from 'react'\nimport { UaEventOptions } from 'react-ga4/types/ga4'\nimport { useLocation } from 'react-router-dom'\nimport { isMobile } from 'utils/userAgent'\nimport { getCLS, getFCP, getFID, getLCP, Metric } from 'web-vitals'\n\nimport GoogleAnalyticsProvider from './GoogleAnalyticsProvider'\n\nconst GOOGLE_ANALYTICS_CLIENT_ID_STORAGE_KEY = 'ga_client_id'\nconst GOOGLE_ANALYTICS_ID: string | undefined = process.env.REACT_APP_GOOGLE_ANALYTICS_ID\n\nconst storedClientId = window.localStorage.getItem(GOOGLE_ANALYTICS_CLIENT_ID_STORAGE_KEY)\n\nconst googleAnalytics = new GoogleAnalyticsProvider()\n\nexport function sendEvent(event: string | UaEventOptions, params?: any) {\n  return googleAnalytics.sendEvent(event, params)\n}\n\nexport function outboundLink(\n  {\n    label,\n  }: {\n    label: string\n  },\n  hitCallback: () => unknown\n) {\n  return googleAnalytics.outboundLink({ label }, hitCallback)\n}\n\nexport function sendTiming(timingCategory: any, timingVar: any, timingValue: any, timingLabel: any) {\n  return googleAnalytics.gaCommandSendTiming(timingCategory, timingVar, timingValue, timingLabel)\n}\n\nif (typeof GOOGLE_ANALYTICS_ID === 'string') {\n  googleAnalytics.initialize(GOOGLE_ANALYTICS_ID, {\n    gaOptions: {\n      storage: 'none',\n      storeGac: false,\n      clientId: storedClientId ?? undefined,\n    },\n  })\n  googleAnalytics.set({\n    anonymizeIp: true,\n    customBrowserType: !isMobile\n      ? 'desktop'\n      : 'web3' in window || 'ethereum' in window\n      ? 'mobileWeb3'\n      : 'mobileRegular',\n  })\n} else {\n  googleAnalytics.initialize('test', { gtagOptions: { debug_mode: true } })\n}\n\nconst installed = Boolean(window.navigator.serviceWorker?.controller)\nconst hit = Boolean((window as any).__isDocumentCached)\nconst action = installed ? (hit ? 'Cache hit' : 'Cache miss') : 'Not installed'\nsendEvent({ category: 'Service Worker', action, nonInteraction: true })\n\nfunction reportWebVitals({ name, delta, id }: Metric) {\n  sendTiming('Web Vitals', name, Math.round(name === 'CLS' ? delta * 1000 : delta), id)\n}\n\n// tracks web vitals and pageviews\nexport function useAnalyticsReporter() {\n  const { pathname, search } = useLocation()\n  useEffect(() => {\n    getFCP(reportWebVitals)\n    getFID(reportWebVitals)\n    getLCP(reportWebVitals)\n    getCLS(reportWebVitals)\n  }, [])\n\n  const { chainId } = useWeb3React()\n  useEffect(() => {\n    // cd1 - custom dimension 1 - chainId\n    googleAnalytics.set({ cd1: chainId ?? 0 })\n  }, [chainId])\n\n  useEffect(() => {\n    googleAnalytics.pageview(`${pathname}${search}`)\n  }, [pathname, search])\n\n  useEffect(() => {\n    // typed as 'any' in react-ga4 -.-\n    googleAnalytics.ga((tracker: any) => {\n      if (!tracker) return\n\n      const clientId = tracker.get('clientId')\n      window.localStorage.setItem(GOOGLE_ANALYTICS_CLIENT_ID_STORAGE_KEY, clientId)\n    })\n  }, [])\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}