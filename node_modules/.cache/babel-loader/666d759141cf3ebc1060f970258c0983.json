{"ast":null,"code":"import _slicedToArray from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _styled from\"styled-components\";import{SMALL_MEDIA_BREAKPOINT}from'components/Tokens/constants';import{ListingButton}from'nft/components/bag/profile/ListingButton';import{getListingState}from'nft/components/bag/profile/utils';import{Column,Row}from'nft/components/Flex';import{BackArrowIcon}from'nft/components/icons';import{headlineLarge,headlineSmall}from'nft/css/common.css';import{themeVars}from'nft/css/sprinkles.css';import{useBag,useIsMobile,useNFTList,useProfilePageState,useSellAsset}from'nft/hooks';import{ListingStatus,ProfilePageStateType}from'nft/types';import{ListingMarkets}from'nft/utils/listNfts';import{useEffect,useState}from'react';import{NFTListingsGrid}from'./NFTListingsGrid';import{SelectMarketplacesDropdown}from'./SelectMarketplacesDropdown';import{SetDurationModal}from'./SetDurationModal';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MarketWrap=_styled.section.withConfig({componentId:\"sc-1th7sa1-0\"})([\"gap:48px;margin:0px auto;padding:0px 16px;max-width:1200px;width:100%;@media screen and (min-width:\",\"){padding:0px 44px;}\"],SMALL_MEDIA_BREAKPOINT);var ListingHeader=_styled(Row).withConfig({componentId:\"sc-1th7sa1-1\"})([\"align-items:center;justify-content:space-between;flex-wrap:wrap;margin-top:18px;@media screen and (min-width:\",\"){margin-top:16px;}\"],SMALL_MEDIA_BREAKPOINT);var GridWrapper=_styled.div.withConfig({componentId:\"sc-1th7sa1-2\"})([\"margin-top:24px;@media screen and (min-width:\",\"){margin-left:40px;}\"],SMALL_MEDIA_BREAKPOINT);var MobileListButtonWrapper=_styled.div.withConfig({componentId:\"sc-1th7sa1-3\"})([\"display:flex;margin:14px 16px 32px 16px;@media screen and (min-width:\",\"){display:none;}\"],SMALL_MEDIA_BREAKPOINT);export var ListPage=function ListPage(){var _useProfilePageState=useProfilePageState(),setSellPageState=_useProfilePageState.setProfilePageState;var setGlobalMarketplaces=useSellAsset(function(state){return state.setGlobalMarketplaces;});var _useState=useState([ListingMarkets[0]]),_useState2=_slicedToArray(_useState,2),selectedMarkets=_useState2[0],setSelectedMarkets=_useState2[1];// default marketplace: x2y2\nvar toggleBag=useBag(function(s){return s.toggleBag;});var listings=useNFTList(function(state){return state.listings;});var collectionsRequiringApproval=useNFTList(function(state){return state.collectionsRequiringApproval;});var listingStatus=useNFTList(function(state){return state.listingStatus;});var setListingStatus=useNFTList(function(state){return state.setListingStatus;});var isMobile=useIsMobile();useEffect(function(){var state=getListingState(collectionsRequiringApproval,listings);if(state.allListingsApproved)setListingStatus(ListingStatus.APPROVED);else if(state.anyPaused&&!state.anyActiveFailures&&!state.anyActiveSigning&&!state.anyActiveRejections){setListingStatus(ListingStatus.CONTINUE);}else if(state.anyPaused)setListingStatus(ListingStatus.PAUSED);else if(state.anyActiveSigning)setListingStatus(ListingStatus.SIGNING);else if(state.allListingsPending||state.allCollectionsPending&&state.allListingsDefined)setListingStatus(ListingStatus.PENDING);else if(state.anyActiveFailures&&listingStatus!==ListingStatus.PAUSED)setListingStatus(ListingStatus.FAILED);// eslint-disable-next-line react-hooks/exhaustive-deps\n},[listings,collectionsRequiringApproval]);useEffect(function(){setGlobalMarketplaces(selectedMarkets);// eslint-disable-next-line react-hooks/exhaustive-deps\n},[selectedMarkets]);return/*#__PURE__*/_jsxs(Column,{children:[/*#__PURE__*/_jsxs(MarketWrap,{children:[/*#__PURE__*/_jsxs(ListingHeader,{children:[/*#__PURE__*/_jsxs(Row,{gap:\"4\",marginBottom:{sm:'18',md:'0'},children:[/*#__PURE__*/_jsx(BackArrowIcon,{height:isMobile?20:32,width:isMobile?20:32,fill:themeVars.colors.textSecondary,onClick:function onClick(){return setSellPageState(ProfilePageStateType.VIEWING);},cursor:\"pointer\"}),/*#__PURE__*/_jsx(\"div\",{className:isMobile?headlineSmall:headlineLarge,children:\"Sell NFTs\"})]}),/*#__PURE__*/_jsxs(Row,{gap:\"12\",children:[/*#__PURE__*/_jsx(SelectMarketplacesDropdown,{setSelectedMarkets:setSelectedMarkets,selectedMarkets:selectedMarkets}),/*#__PURE__*/_jsx(SetDurationModal,{})]})]}),/*#__PURE__*/_jsx(GridWrapper,{children:/*#__PURE__*/_jsx(NFTListingsGrid,{selectedMarkets:selectedMarkets})})]}),/*#__PURE__*/_jsx(MobileListButtonWrapper,{children:/*#__PURE__*/_jsx(ListingButton,{onClick:toggleBag,buttonText:\"Continue listing\"})})]});};","map":{"version":3,"names":["SMALL_MEDIA_BREAKPOINT","ListingButton","getListingState","Column","Row","BackArrowIcon","headlineLarge","headlineSmall","themeVars","useBag","useIsMobile","useNFTList","useProfilePageState","useSellAsset","ListingStatus","ProfilePageStateType","ListingMarkets","useEffect","useState","NFTListingsGrid","SelectMarketplacesDropdown","SetDurationModal","MarketWrap","styled","section","ListingHeader","GridWrapper","div","MobileListButtonWrapper","ListPage","setSellPageState","setProfilePageState","setGlobalMarketplaces","state","selectedMarkets","setSelectedMarkets","toggleBag","s","listings","collectionsRequiringApproval","listingStatus","setListingStatus","isMobile","allListingsApproved","APPROVED","anyPaused","anyActiveFailures","anyActiveSigning","anyActiveRejections","CONTINUE","PAUSED","SIGNING","allListingsPending","allCollectionsPending","allListingsDefined","PENDING","FAILED","sm","md","colors","textSecondary","VIEWING"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/nft/components/profile/list/ListPage.tsx"],"sourcesContent":["import { SMALL_MEDIA_BREAKPOINT } from 'components/Tokens/constants'\nimport { ListingButton } from 'nft/components/bag/profile/ListingButton'\nimport { getListingState } from 'nft/components/bag/profile/utils'\nimport { Column, Row } from 'nft/components/Flex'\nimport { BackArrowIcon } from 'nft/components/icons'\nimport { headlineLarge, headlineSmall } from 'nft/css/common.css'\nimport { themeVars } from 'nft/css/sprinkles.css'\nimport { useBag, useIsMobile, useNFTList, useProfilePageState, useSellAsset } from 'nft/hooks'\nimport { ListingStatus, ProfilePageStateType } from 'nft/types'\nimport { ListingMarkets } from 'nft/utils/listNfts'\nimport { useEffect, useState } from 'react'\nimport styled from 'styled-components/macro'\n\nimport { NFTListingsGrid } from './NFTListingsGrid'\nimport { SelectMarketplacesDropdown } from './SelectMarketplacesDropdown'\nimport { SetDurationModal } from './SetDurationModal'\n\nconst MarketWrap = styled.section`\n  gap: 48px;\n  margin: 0px auto;\n  padding: 0px 16px;\n  max-width: 1200px;\n  width: 100%;\n\n  @media screen and (min-width: ${SMALL_MEDIA_BREAKPOINT}) {\n    padding: 0px 44px;\n  }\n`\n\nconst ListingHeader = styled(Row)`\n  align-items: center;\n  justify-content: space-between;\n  flex-wrap: wrap;\n  margin-top: 18px;\n\n  @media screen and (min-width: ${SMALL_MEDIA_BREAKPOINT}) {\n    margin-top: 16px;\n  }\n`\n\nconst GridWrapper = styled.div`\n  margin-top: 24px;\n\n  @media screen and (min-width: ${SMALL_MEDIA_BREAKPOINT}) {\n    margin-left: 40px;\n  }\n`\n\nconst MobileListButtonWrapper = styled.div`\n  display: flex;\n  margin: 14px 16px 32px 16px;\n\n  @media screen and (min-width: ${SMALL_MEDIA_BREAKPOINT}) {\n    display: none;\n  }\n`\n\nexport const ListPage = () => {\n  const { setProfilePageState: setSellPageState } = useProfilePageState()\n  const setGlobalMarketplaces = useSellAsset((state) => state.setGlobalMarketplaces)\n  const [selectedMarkets, setSelectedMarkets] = useState([ListingMarkets[0]]) // default marketplace: x2y2\n  const toggleBag = useBag((s) => s.toggleBag)\n  const listings = useNFTList((state) => state.listings)\n  const collectionsRequiringApproval = useNFTList((state) => state.collectionsRequiringApproval)\n  const listingStatus = useNFTList((state) => state.listingStatus)\n  const setListingStatus = useNFTList((state) => state.setListingStatus)\n  const isMobile = useIsMobile()\n\n  useEffect(() => {\n    const state = getListingState(collectionsRequiringApproval, listings)\n\n    if (state.allListingsApproved) setListingStatus(ListingStatus.APPROVED)\n    else if (state.anyPaused && !state.anyActiveFailures && !state.anyActiveSigning && !state.anyActiveRejections) {\n      setListingStatus(ListingStatus.CONTINUE)\n    } else if (state.anyPaused) setListingStatus(ListingStatus.PAUSED)\n    else if (state.anyActiveSigning) setListingStatus(ListingStatus.SIGNING)\n    else if (state.allListingsPending || (state.allCollectionsPending && state.allListingsDefined))\n      setListingStatus(ListingStatus.PENDING)\n    else if (state.anyActiveFailures && listingStatus !== ListingStatus.PAUSED) setListingStatus(ListingStatus.FAILED)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [listings, collectionsRequiringApproval])\n\n  useEffect(() => {\n    setGlobalMarketplaces(selectedMarkets)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [selectedMarkets])\n\n  return (\n    <Column>\n      <MarketWrap>\n        <ListingHeader>\n          <Row gap=\"4\" marginBottom={{ sm: '18', md: '0' }}>\n            <BackArrowIcon\n              height={isMobile ? 20 : 32}\n              width={isMobile ? 20 : 32}\n              fill={themeVars.colors.textSecondary}\n              onClick={() => setSellPageState(ProfilePageStateType.VIEWING)}\n              cursor=\"pointer\"\n            />\n            <div className={isMobile ? headlineSmall : headlineLarge}>Sell NFTs</div>\n          </Row>\n          <Row gap=\"12\">\n            <SelectMarketplacesDropdown setSelectedMarkets={setSelectedMarkets} selectedMarkets={selectedMarkets} />\n            <SetDurationModal />\n          </Row>\n        </ListingHeader>\n        <GridWrapper>\n          <NFTListingsGrid selectedMarkets={selectedMarkets} />\n        </GridWrapper>\n      </MarketWrap>\n      <MobileListButtonWrapper>\n        <ListingButton onClick={toggleBag} buttonText=\"Continue listing\" />\n      </MobileListButtonWrapper>\n    </Column>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}