{"ast":null,"code":"import _slicedToArray from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useWeb3React}from'@web3-react/core';import useDebounce from'hooks/useDebounce';import useIsWindowVisible from'hooks/useIsWindowVisible';import{useEffect,useRef,useState}from'react';import{useAppDispatch}from'state/hooks';import{supportedChainId}from'utils/supportedChainId';import{useCloseModal}from'./hooks';import{updateChainId}from'./reducer';export default function Updater(){var _useWeb3React=useWeb3React(),account=_useWeb3React.account,chainId=_useWeb3React.chainId,provider=_useWeb3React.provider;var dispatch=useAppDispatch();var windowVisible=useIsWindowVisible();var _useState=useState(chainId),_useState2=_slicedToArray(_useState,2),activeChainId=_useState2[0],setActiveChainId=_useState2[1];var closeModal=useCloseModal();var previousAccountValue=useRef(account);useEffect(function(){if(account&&account!==previousAccountValue.current){previousAccountValue.current=account;closeModal();}},[account,closeModal]);useEffect(function(){if(provider&&chainId&&windowVisible){setActiveChainId(chainId);}},[dispatch,chainId,provider,windowVisible]);var debouncedChainId=useDebounce(activeChainId,100);useEffect(function(){var _supportedChainId;var chainId=debouncedChainId?(_supportedChainId=supportedChainId(debouncedChainId))!==null&&_supportedChainId!==void 0?_supportedChainId:null:null;dispatch(updateChainId({chainId:chainId}));},[dispatch,debouncedChainId]);return null;}","map":{"version":3,"names":["useWeb3React","useDebounce","useIsWindowVisible","useEffect","useRef","useState","useAppDispatch","supportedChainId","useCloseModal","updateChainId","Updater","account","chainId","provider","dispatch","windowVisible","activeChainId","setActiveChainId","closeModal","previousAccountValue","current","debouncedChainId"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/state/application/updater.ts"],"sourcesContent":["import { useWeb3React } from '@web3-react/core'\nimport useDebounce from 'hooks/useDebounce'\nimport useIsWindowVisible from 'hooks/useIsWindowVisible'\nimport { useEffect, useRef, useState } from 'react'\nimport { useAppDispatch } from 'state/hooks'\nimport { supportedChainId } from 'utils/supportedChainId'\n\nimport { useCloseModal } from './hooks'\nimport { updateChainId } from './reducer'\n\nexport default function Updater(): null {\n  const { account, chainId, provider } = useWeb3React()\n  const dispatch = useAppDispatch()\n  const windowVisible = useIsWindowVisible()\n\n  const [activeChainId, setActiveChainId] = useState(chainId)\n\n  const closeModal = useCloseModal()\n  const previousAccountValue = useRef(account)\n  useEffect(() => {\n    if (account && account !== previousAccountValue.current) {\n      previousAccountValue.current = account\n      closeModal()\n    }\n  }, [account, closeModal])\n\n  useEffect(() => {\n    if (provider && chainId && windowVisible) {\n      setActiveChainId(chainId)\n    }\n  }, [dispatch, chainId, provider, windowVisible])\n\n  const debouncedChainId = useDebounce(activeChainId, 100)\n\n  useEffect(() => {\n    const chainId = debouncedChainId ? supportedChainId(debouncedChainId) ?? null : null\n    dispatch(updateChainId({ chainId }))\n  }, [dispatch, debouncedChainId])\n\n  return null\n}\n"],"mappings":"4KAAA,OAASA,YAAY,KAAQ,kBAAkB,CAC/C,MAAOC,YAAW,KAAM,mBAAmB,CAC3C,MAAOC,mBAAkB,KAAM,0BAA0B,CACzD,OAASC,SAAS,CAAEC,MAAM,CAAEC,QAAQ,KAAQ,OAAO,CACnD,OAASC,cAAc,KAAQ,aAAa,CAC5C,OAASC,gBAAgB,KAAQ,wBAAwB,CAEzD,OAASC,aAAa,KAAQ,SAAS,CACvC,OAASC,aAAa,KAAQ,WAAW,CAEzC,cAAe,SAASC,QAAO,EAAS,CACtC,kBAAuCV,YAAY,EAAE,CAA7CW,OAAO,eAAPA,OAAO,CAAEC,OAAO,eAAPA,OAAO,CAAEC,QAAQ,eAARA,QAAQ,CAClC,GAAMC,SAAQ,CAAGR,cAAc,EAAE,CACjC,GAAMS,cAAa,CAAGb,kBAAkB,EAAE,CAE1C,cAA0CG,QAAQ,CAACO,OAAO,CAAC,wCAApDI,aAAa,eAAEC,gBAAgB,eAEtC,GAAMC,WAAU,CAAGV,aAAa,EAAE,CAClC,GAAMW,qBAAoB,CAAGf,MAAM,CAACO,OAAO,CAAC,CAC5CR,SAAS,CAAC,UAAM,CACd,GAAIQ,OAAO,EAAIA,OAAO,GAAKQ,oBAAoB,CAACC,OAAO,CAAE,CACvDD,oBAAoB,CAACC,OAAO,CAAGT,OAAO,CACtCO,UAAU,EAAE,CACd,CACF,CAAC,CAAE,CAACP,OAAO,CAAEO,UAAU,CAAC,CAAC,CAEzBf,SAAS,CAAC,UAAM,CACd,GAAIU,QAAQ,EAAID,OAAO,EAAIG,aAAa,CAAE,CACxCE,gBAAgB,CAACL,OAAO,CAAC,CAC3B,CACF,CAAC,CAAE,CAACE,QAAQ,CAAEF,OAAO,CAAEC,QAAQ,CAAEE,aAAa,CAAC,CAAC,CAEhD,GAAMM,iBAAgB,CAAGpB,WAAW,CAACe,aAAa,CAAE,GAAG,CAAC,CAExDb,SAAS,CAAC,UAAM,uBACd,GAAMS,QAAO,CAAGS,gBAAgB,oBAAGd,gBAAgB,CAACc,gBAAgB,CAAC,uDAAI,IAAI,CAAG,IAAI,CACpFP,QAAQ,CAACL,aAAa,CAAC,CAAEG,OAAO,CAAPA,OAAQ,CAAC,CAAC,CAAC,CACtC,CAAC,CAAE,CAACE,QAAQ,CAAEO,gBAAgB,CAAC,CAAC,CAEhC,MAAO,KAAI,CACb"},"metadata":{},"sourceType":"module"}