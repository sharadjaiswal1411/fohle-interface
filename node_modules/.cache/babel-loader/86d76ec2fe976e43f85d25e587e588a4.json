{"ast":null,"code":"import _slicedToArray from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useQuery}from'@apollo/client';import gql from'graphql-tag';import{useBlocksFromTimestamps}from'hooks/useBlocksFromTimestamps';import{useActiveNetworkVersion,useClients}from'state/application/hooks';import{get2DayChange}from'utils/data';import{useDeltaTimestamps}from'utils/queries';import{formatTokenName,formatTokenSymbol}from'utils/tokens';var POOLS_BULK=function POOLS_BULK(block,pools){var poolString=\"[\";pools.map(function(address){return poolString+=\"\\\"\".concat(address,\"\\\",\");});poolString+=']';var queryString=\"\\n    query pools {\\n      pools(where: {id_in: \".concat(poolString,\"},\")+(block?\"block: {number: \".concat(block,\"} ,\"):\"\")+\" orderBy: totalValueLockedUSD, orderDirection: desc, subgraphError: allow) {\\n        id\\n        feeTier\\n        liquidity\\n        sqrtPrice\\n        tick\\n        token0 {\\n            id\\n            symbol \\n            name\\n            decimals\\n            derivedETH\\n        }\\n        token1 {\\n            id\\n            symbol \\n            name\\n            decimals\\n            derivedETH\\n        }\\n        token0Price\\n        token1Price\\n        volumeUSD\\n        volumeToken0\\n        volumeToken1\\n        txCount\\n        totalValueLockedToken0\\n        totalValueLockedToken1\\n        totalValueLockedUSD\\n      }\\n      bundles (where: {id: \\\"1\\\"}) {\\n        ethPriceUSD\\n      }\\n    }\\n    \";return gql(queryString);};/**\n * Fetch top addresses by volume\n */export function usePoolDatas(poolAddresses){var _data$bundles,_data$bundles$,_data$bundles2,_data$bundles2$;// get client\nvar _useClients=useClients(),dataClient=_useClients.dataClient;var _useActiveNetworkVers=useActiveNetworkVersion(),_useActiveNetworkVers2=_slicedToArray(_useActiveNetworkVers,1),activeNetwork=_useActiveNetworkVers2[0];// get blocks from historic timestamps\nvar _useDeltaTimestamps=useDeltaTimestamps(),_useDeltaTimestamps2=_slicedToArray(_useDeltaTimestamps,3),t24=_useDeltaTimestamps2[0],t48=_useDeltaTimestamps2[1],tWeek=_useDeltaTimestamps2[2];var _useBlocksFromTimesta=useBlocksFromTimestamps([t24,t48,tWeek]),blocks=_useBlocksFromTimesta.blocks,blockError=_useBlocksFromTimesta.error;var _ref=blocks!==null&&blocks!==void 0?blocks:[],_ref2=_slicedToArray(_ref,3),block24=_ref2[0],block48=_ref2[1],blockWeek=_ref2[2];var _useQuery=useQuery(POOLS_BULK(undefined,poolAddresses),{client:dataClient}),loading=_useQuery.loading,error=_useQuery.error,data=_useQuery.data;var _useQuery2=useQuery(POOLS_BULK(block24===null||block24===void 0?void 0:block24.number,poolAddresses),{client:dataClient}),loading24=_useQuery2.loading,error24=_useQuery2.error,data24=_useQuery2.data;var _useQuery3=useQuery(POOLS_BULK(block48===null||block48===void 0?void 0:block48.number,poolAddresses),{client:dataClient}),loading48=_useQuery3.loading,error48=_useQuery3.error,data48=_useQuery3.data;var _useQuery4=useQuery(POOLS_BULK(blockWeek===null||blockWeek===void 0?void 0:blockWeek.number,poolAddresses),{client:dataClient}),loadingWeek=_useQuery4.loading,errorWeek=_useQuery4.error,dataWeek=_useQuery4.data;var anyError=Boolean(error||error24||error48||blockError||errorWeek);var anyLoading=Boolean(loading||loading24||loading48||loadingWeek);// return early if not all data yet\nif(anyError||anyLoading){return{loading:anyLoading,error:anyError,data:undefined};}var ethPriceUSD=(data===null||data===void 0?void 0:(_data$bundles=data.bundles)===null||_data$bundles===void 0?void 0:(_data$bundles$=_data$bundles[0])===null||_data$bundles$===void 0?void 0:_data$bundles$.ethPriceUSD)?parseFloat(data===null||data===void 0?void 0:(_data$bundles2=data.bundles)===null||_data$bundles2===void 0?void 0:(_data$bundles2$=_data$bundles2[0])===null||_data$bundles2$===void 0?void 0:_data$bundles2$.ethPriceUSD):0;var parsed=(data===null||data===void 0?void 0:data.pools)?data.pools.reduce(function(accum,poolData){accum[poolData.id]=poolData;return accum;},{}):{};var parsed24=(data24===null||data24===void 0?void 0:data24.pools)?data24.pools.reduce(function(accum,poolData){accum[poolData.id]=poolData;return accum;},{}):{};var parsed48=(data48===null||data48===void 0?void 0:data48.pools)?data48.pools.reduce(function(accum,poolData){accum[poolData.id]=poolData;return accum;},{}):{};var parsedWeek=(dataWeek===null||dataWeek===void 0?void 0:dataWeek.pools)?dataWeek.pools.reduce(function(accum,poolData){accum[poolData.id]=poolData;return accum;},{}):{};// format data and calculate daily changes\nvar formatted=poolAddresses.reduce(function(accum,address){var current=parsed[address];var oneDay=parsed24[address];var twoDay=parsed48[address];var week=parsedWeek[address];var _ref3=current&&oneDay&&twoDay?get2DayChange(current.volumeUSD,oneDay.volumeUSD,twoDay.volumeUSD):current?[parseFloat(current.volumeUSD),0]:[0,0],_ref4=_slicedToArray(_ref3,2),volumeUSD=_ref4[0],volumeUSDChange=_ref4[1];var volumeUSDWeek=current&&week?parseFloat(current.volumeUSD)-parseFloat(week.volumeUSD):current?parseFloat(current.volumeUSD):0;// Hotifx: Subtract fees from TVL to correct data while subgraph is fixed.\n/**\n     * Note: see issue desribed here https://github.com/Uniswap/v3-subgraph/issues/74\n     * During subgraph deploy switch this month we lost logic to fix this accounting.\n     * Grafted sync pending fix now.\n     */var feePercent=current?parseFloat(current.feeTier)/10000/100:0;var tvlAdjust0=(current===null||current===void 0?void 0:current.volumeToken0)?parseFloat(current.volumeToken0)*feePercent/2:0;var tvlAdjust1=(current===null||current===void 0?void 0:current.volumeToken1)?parseFloat(current.volumeToken1)*feePercent/2:0;var tvlToken0=current?parseFloat(current.totalValueLockedToken0)-tvlAdjust0:0;var tvlToken1=current?parseFloat(current.totalValueLockedToken1)-tvlAdjust1:0;var tvlUSD=current?parseFloat(current.totalValueLockedUSD):0;var tvlUSDChange=current&&oneDay?(parseFloat(current.totalValueLockedUSD)-parseFloat(oneDay.totalValueLockedUSD))/parseFloat(oneDay.totalValueLockedUSD==='0'?'1':oneDay.totalValueLockedUSD)*100:0;// Part of TVL fix\nvar tvlUpdated=current?tvlToken0*parseFloat(current.token0.derivedETH)*ethPriceUSD+tvlToken1*parseFloat(current.token1.derivedETH)*ethPriceUSD:undefined;if(tvlUpdated){tvlUSD=tvlUpdated;}var feeTier=current?parseInt(current.feeTier):0;if(current){accum[address]={address:address,feeTier:feeTier,liquidity:parseFloat(current.liquidity),sqrtPrice:parseFloat(current.sqrtPrice),tick:parseFloat(current.tick),token0:{address:current.token0.id,name:formatTokenName(current.token0.id,current.token0.name,activeNetwork),symbol:formatTokenSymbol(current.token0.id,current.token0.symbol,activeNetwork),decimals:parseInt(current.token0.decimals),derivedETH:parseFloat(current.token0.derivedETH)},token1:{address:current.token1.id,name:formatTokenName(current.token1.id,current.token1.name,activeNetwork),symbol:formatTokenSymbol(current.token1.id,current.token1.symbol,activeNetwork),decimals:parseInt(current.token1.decimals),derivedETH:parseFloat(current.token1.derivedETH)},token0Price:parseFloat(current.token0Price),token1Price:parseFloat(current.token1Price),volumeUSD:volumeUSD,volumeUSDChange:volumeUSDChange,volumeUSDWeek:volumeUSDWeek,tvlUSD:tvlUSD,tvlUSDChange:tvlUSDChange,tvlToken0:tvlToken0,tvlToken1:tvlToken1};}return accum;},{});return{loading:anyLoading,error:anyError,data:formatted};}","map":{"version":3,"names":["useQuery","gql","useBlocksFromTimestamps","useActiveNetworkVersion","useClients","get2DayChange","useDeltaTimestamps","formatTokenName","formatTokenSymbol","POOLS_BULK","block","pools","poolString","map","address","queryString","usePoolDatas","poolAddresses","dataClient","activeNetwork","t24","t48","tWeek","blocks","blockError","error","block24","block48","blockWeek","undefined","client","loading","data","number","loading24","error24","data24","loading48","error48","data48","loadingWeek","errorWeek","dataWeek","anyError","Boolean","anyLoading","ethPriceUSD","bundles","parseFloat","parsed","reduce","accum","poolData","id","parsed24","parsed48","parsedWeek","formatted","current","oneDay","twoDay","week","volumeUSD","volumeUSDChange","volumeUSDWeek","feePercent","feeTier","tvlAdjust0","volumeToken0","tvlAdjust1","volumeToken1","tvlToken0","totalValueLockedToken0","tvlToken1","totalValueLockedToken1","tvlUSD","totalValueLockedUSD","tvlUSDChange","tvlUpdated","token0","derivedETH","token1","parseInt","liquidity","sqrtPrice","tick","name","symbol","decimals","token0Price","token1Price"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/data/pools/poolData.ts"],"sourcesContent":["import { useQuery } from '@apollo/client'\nimport gql from 'graphql-tag'\nimport { useBlocksFromTimestamps } from 'hooks/useBlocksFromTimestamps'\nimport { useActiveNetworkVersion, useClients } from 'state/application/hooks'\nimport { PoolData } from 'state/pools/reducer'\nimport { get2DayChange } from 'utils/data'\nimport { useDeltaTimestamps } from 'utils/queries'\nimport { formatTokenName, formatTokenSymbol } from 'utils/tokens'\n\nconst POOLS_BULK = (block: number | undefined, pools: string[]) => {\n  let poolString = `[`\n  pools.map((address) => {\n    return (poolString += `\"${address}\",`)\n  })\n  poolString += ']'\n  const queryString =\n    `\n    query pools {\n      pools(where: {id_in: ${poolString}},` +\n    (block ? `block: {number: ${block}} ,` : ``) +\n    ` orderBy: totalValueLockedUSD, orderDirection: desc, subgraphError: allow) {\n        id\n        feeTier\n        liquidity\n        sqrtPrice\n        tick\n        token0 {\n            id\n            symbol \n            name\n            decimals\n            derivedETH\n        }\n        token1 {\n            id\n            symbol \n            name\n            decimals\n            derivedETH\n        }\n        token0Price\n        token1Price\n        volumeUSD\n        volumeToken0\n        volumeToken1\n        txCount\n        totalValueLockedToken0\n        totalValueLockedToken1\n        totalValueLockedUSD\n      }\n      bundles (where: {id: \"1\"}) {\n        ethPriceUSD\n      }\n    }\n    `\n  return gql(queryString)\n}\n\ninterface PoolFields {\n  id: string\n  feeTier: string\n  liquidity: string\n  sqrtPrice: string\n  tick: string\n  token0: {\n    id: string\n    symbol: string\n    name: string\n    decimals: string\n    derivedETH: string\n  }\n  token1: {\n    id: string\n    symbol: string\n    name: string\n    decimals: string\n    derivedETH: string\n  }\n  token0Price: string\n  token1Price: string\n  volumeUSD: string\n  volumeToken0: string\n  volumeToken1: string\n  txCount: string\n  totalValueLockedToken0: string\n  totalValueLockedToken1: string\n  totalValueLockedUSD: string\n}\n\ninterface PoolDataResponse {\n  pools: PoolFields[]\n  bundles: {\n    ethPriceUSD: string\n  }[]\n}\n\n/**\n * Fetch top addresses by volume\n */\nexport function usePoolDatas(poolAddresses: string[]): {\n  loading: boolean\n  error: boolean\n  data:\n    | {\n        [address: string]: PoolData\n      }\n    | undefined\n} {\n  // get client\n  const { dataClient } = useClients()\n  const [activeNetwork] = useActiveNetworkVersion()\n\n  // get blocks from historic timestamps\n  const [t24, t48, tWeek] = useDeltaTimestamps()\n  const { blocks, error: blockError } = useBlocksFromTimestamps([t24, t48, tWeek])\n  const [block24, block48, blockWeek] = blocks ?? []\n\n  const { loading, error, data } = useQuery<PoolDataResponse>(POOLS_BULK(undefined, poolAddresses), {\n    client: dataClient,\n  })\n\n  const {\n    loading: loading24,\n    error: error24,\n    data: data24,\n  } = useQuery<PoolDataResponse>(POOLS_BULK(block24?.number, poolAddresses), { client: dataClient })\n  const {\n    loading: loading48,\n    error: error48,\n    data: data48,\n  } = useQuery<PoolDataResponse>(POOLS_BULK(block48?.number, poolAddresses), { client: dataClient })\n  const {\n    loading: loadingWeek,\n    error: errorWeek,\n    data: dataWeek,\n  } = useQuery<PoolDataResponse>(POOLS_BULK(blockWeek?.number, poolAddresses), { client: dataClient })\n\n  const anyError = Boolean(error || error24 || error48 || blockError || errorWeek)\n  const anyLoading = Boolean(loading || loading24 || loading48 || loadingWeek)\n\n  // return early if not all data yet\n  if (anyError || anyLoading) {\n    return {\n      loading: anyLoading,\n      error: anyError,\n      data: undefined,\n    }\n  }\n\n  const ethPriceUSD = data?.bundles?.[0]?.ethPriceUSD ? parseFloat(data?.bundles?.[0]?.ethPriceUSD) : 0\n\n  const parsed = data?.pools\n    ? data.pools.reduce((accum: { [address: string]: PoolFields }, poolData) => {\n        accum[poolData.id] = poolData\n        return accum\n      }, {})\n    : {}\n  const parsed24 = data24?.pools\n    ? data24.pools.reduce((accum: { [address: string]: PoolFields }, poolData) => {\n        accum[poolData.id] = poolData\n        return accum\n      }, {})\n    : {}\n  const parsed48 = data48?.pools\n    ? data48.pools.reduce((accum: { [address: string]: PoolFields }, poolData) => {\n        accum[poolData.id] = poolData\n        return accum\n      }, {})\n    : {}\n  const parsedWeek = dataWeek?.pools\n    ? dataWeek.pools.reduce((accum: { [address: string]: PoolFields }, poolData) => {\n        accum[poolData.id] = poolData\n        return accum\n      }, {})\n    : {}\n\n  // format data and calculate daily changes\n  const formatted = poolAddresses.reduce((accum: { [address: string]: PoolData }, address) => {\n    const current: PoolFields | undefined = parsed[address]\n    const oneDay: PoolFields | undefined = parsed24[address]\n    const twoDay: PoolFields | undefined = parsed48[address]\n    const week: PoolFields | undefined = parsedWeek[address]\n\n    const [volumeUSD, volumeUSDChange] =\n      current && oneDay && twoDay\n        ? get2DayChange(current.volumeUSD, oneDay.volumeUSD, twoDay.volumeUSD)\n        : current\n        ? [parseFloat(current.volumeUSD), 0]\n        : [0, 0]\n\n    const volumeUSDWeek =\n      current && week\n        ? parseFloat(current.volumeUSD) - parseFloat(week.volumeUSD)\n        : current\n        ? parseFloat(current.volumeUSD)\n        : 0\n\n    // Hotifx: Subtract fees from TVL to correct data while subgraph is fixed.\n    /**\n     * Note: see issue desribed here https://github.com/Uniswap/v3-subgraph/issues/74\n     * During subgraph deploy switch this month we lost logic to fix this accounting.\n     * Grafted sync pending fix now.\n     */\n    const feePercent = current ? parseFloat(current.feeTier) / 10000 / 100 : 0\n    const tvlAdjust0 = current?.volumeToken0 ? (parseFloat(current.volumeToken0) * feePercent) / 2 : 0\n    const tvlAdjust1 = current?.volumeToken1 ? (parseFloat(current.volumeToken1) * feePercent) / 2 : 0\n    const tvlToken0 = current ? parseFloat(current.totalValueLockedToken0) - tvlAdjust0 : 0\n    const tvlToken1 = current ? parseFloat(current.totalValueLockedToken1) - tvlAdjust1 : 0\n    let tvlUSD = current ? parseFloat(current.totalValueLockedUSD) : 0\n\n    const tvlUSDChange =\n      current && oneDay\n        ? ((parseFloat(current.totalValueLockedUSD) - parseFloat(oneDay.totalValueLockedUSD)) /\n            parseFloat(oneDay.totalValueLockedUSD === '0' ? '1' : oneDay.totalValueLockedUSD)) *\n          100\n        : 0\n\n    // Part of TVL fix\n    const tvlUpdated = current\n      ? tvlToken0 * parseFloat(current.token0.derivedETH) * ethPriceUSD +\n        tvlToken1 * parseFloat(current.token1.derivedETH) * ethPriceUSD\n      : undefined\n    if (tvlUpdated) {\n      tvlUSD = tvlUpdated\n    }\n\n    const feeTier = current ? parseInt(current.feeTier) : 0\n\n    if (current) {\n      accum[address] = {\n        address,\n        feeTier,\n        liquidity: parseFloat(current.liquidity),\n        sqrtPrice: parseFloat(current.sqrtPrice),\n        tick: parseFloat(current.tick),\n        token0: {\n          address: current.token0.id,\n          name: formatTokenName(current.token0.id, current.token0.name, activeNetwork),\n          symbol: formatTokenSymbol(current.token0.id, current.token0.symbol, activeNetwork),\n          decimals: parseInt(current.token0.decimals),\n          derivedETH: parseFloat(current.token0.derivedETH),\n        },\n        token1: {\n          address: current.token1.id,\n          name: formatTokenName(current.token1.id, current.token1.name, activeNetwork),\n          symbol: formatTokenSymbol(current.token1.id, current.token1.symbol, activeNetwork),\n          decimals: parseInt(current.token1.decimals),\n          derivedETH: parseFloat(current.token1.derivedETH),\n        },\n        token0Price: parseFloat(current.token0Price),\n        token1Price: parseFloat(current.token1Price),\n        volumeUSD,\n        volumeUSDChange,\n        volumeUSDWeek,\n        tvlUSD,\n        tvlUSDChange,\n        tvlToken0,\n        tvlToken1,\n      }\n    }\n\n    return accum\n  }, {})\n\n  return {\n    loading: anyLoading,\n    error: anyError,\n    data: formatted,\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}