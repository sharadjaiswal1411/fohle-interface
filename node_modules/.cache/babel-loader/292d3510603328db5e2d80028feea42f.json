{"ast":null,"code":"import _slicedToArray from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _styled from\"styled-components\";import{Trans}from\"@lingui/react\";import{sendAnalyticsEvent}from'@uniswap/analytics';import{useWeb3React}from'@web3-react/core';import fiatMaskUrl from\"assets/svg/fiat_mask.svg\";import{BaseVariant}from'featureFlags';import{useFiatOnrampFlag}from'featureFlags/flags/fiatOnramp';import{useCallback,useEffect}from'react';import{X}from'react-feather';import{useDispatch}from'react-redux';import{useToggleWalletDropdown}from'state/application/hooks';import{useAppSelector}from'state/hooks';import{useFiatOnrampAck}from'state/user/hooks';import{dismissFiatOnramp}from'state/user/reducer';import{ThemedText}from'theme';import{isMobile}from'utils/userAgent';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Arrow=_styled.div.withConfig({componentId:\"sc-1kb626t-0\"})([\"top:-4px;height:16px;position:absolute;right:16px;width:16px;::before{background:hsl(315.75,93%,83%);border-top:none;border-left:none;box-sizing:border-box;content:'';height:16px;position:absolute;transform:rotate(45deg);width:16px;}\"]);var ArrowWrapper=_styled.div.withConfig({componentId:\"sc-1kb626t-1\"})([\"position:absolute;right:16px;top:90%;width:100%;max-width:320px;min-height:92px;@media screen and (min-width:\",\"px){right:36px;}\"],function(_ref){var theme=_ref.theme;return theme.breakpoint.lg;});var CloseIcon=_styled(X).withConfig({componentId:\"sc-1kb626t-2\"})([\"color:white;cursor:pointer;position:absolute;top:8px;right:8px;z-index:1;\"]);var Wrapper=_styled.button.withConfig({componentId:\"sc-1kb626t-3\"})([\"background:radial-gradient(105% 250% at 100% 5%,hsla(318,95%,85%) 1%,hsla(331,80%,75%,0.1) 84%),linear-gradient(180deg,hsla(296,92%,67%,0.5) 0%,hsla(313,96%,60%,0.5) 130%);background-color:hsla(297,93%,68%,1);border-radius:12px;border:none;cursor:pointer;outline:none;overflow:hidden;position:relative;text-align:start;max-width:320px;min-height:92px;width:100%;:before{background-image:url(\",\");background-repeat:no-repeat;content:'';height:100%;position:absolute;right:-154px;top:0;width:100%;}\"],fiatMaskUrl);var Header=_styled(ThemedText.SubHeader).withConfig({componentId:\"sc-1kb626t-4\"})([\"color:white;margin:0;padding:12px 12px 4px;position:relative;\"]);var Body=_styled(ThemedText.BodySmall).withConfig({componentId:\"sc-1kb626t-5\"})([\"color:white;margin:0 12px 12px 12px !important;position:relative;\"]);var MAX_RENDER_COUNT=3;export function FiatOnrampAnnouncement(){var _useWeb3React=useWeb3React(),account=_useWeb3React.account;var _useFiatOnrampAck=useFiatOnrampAck(),_useFiatOnrampAck2=_slicedToArray(_useFiatOnrampAck,2),acks=_useFiatOnrampAck2[0],acknowledge=_useFiatOnrampAck2[1];var fiatOnrampDismissed=useAppSelector(function(state){return state.user.fiatOnrampDismissed;});useEffect(function(){acknowledge({renderCount:(acks===null||acks===void 0?void 0:acks.renderCount)+1});// The dependency list is empty so this is only run once on mount\n},[]);// eslint-disable-line react-hooks/exhaustive-deps\nvar dispatch=useDispatch();var handleClose=useCallback(function(){dispatch(dismissFiatOnramp());},[dispatch]);var toggleWalletDropdown=useToggleWalletDropdown();var handleClick=useCallback(function(){sendAnalyticsEvent('FOR Banner Click');toggleWalletDropdown();acknowledge({user:true});},[acknowledge,toggleWalletDropdown]);var fiatOnrampFlag=useFiatOnrampFlag();var openModal=useAppSelector(function(state){return state.application.openModal;});if(!account||(acks===null||acks===void 0?void 0:acks.user)||fiatOnrampFlag===BaseVariant.Control||fiatOnrampDismissed||(acks===null||acks===void 0?void 0:acks.renderCount)>=MAX_RENDER_COUNT||isMobile||openModal!==null){return null;}return/*#__PURE__*/_jsxs(ArrowWrapper,{children:[/*#__PURE__*/_jsx(Arrow,{}),/*#__PURE__*/_jsx(CloseIcon,{onClick:handleClose}),/*#__PURE__*/_jsxs(Wrapper,{onClick:handleClick,children:[/*#__PURE__*/_jsx(Header,{children:/*#__PURE__*/_jsx(Trans,{id:\"Buy crypto\"})}),/*#__PURE__*/_jsx(Body,{children:/*#__PURE__*/_jsx(Trans,{id:\"Get tokens at the best prices in web3 on Uniswap, powered by Moonpay.\"})})]})]});}","map":{"version":3,"names":["sendAnalyticsEvent","useWeb3React","BaseVariant","useFiatOnrampFlag","useCallback","useEffect","X","useDispatch","useToggleWalletDropdown","useAppSelector","useFiatOnrampAck","dismissFiatOnramp","ThemedText","isMobile","Arrow","styled","div","ArrowWrapper","theme","breakpoint","lg","CloseIcon","Wrapper","button","fiatMaskUrl","Header","SubHeader","Body","BodySmall","MAX_RENDER_COUNT","FiatOnrampAnnouncement","account","acks","acknowledge","fiatOnrampDismissed","state","user","renderCount","dispatch","handleClose","toggleWalletDropdown","handleClick","fiatOnrampFlag","openModal","application","Control"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/components/FiatOnrampAnnouncement/index.tsx"],"sourcesContent":["import { Trans } from '@lingui/macro'\nimport { sendAnalyticsEvent } from '@uniswap/analytics'\nimport { useWeb3React } from '@web3-react/core'\nimport fiatMaskUrl from 'assets/svg/fiat_mask.svg'\nimport { BaseVariant } from 'featureFlags'\nimport { useFiatOnrampFlag } from 'featureFlags/flags/fiatOnramp'\nimport { useCallback, useEffect } from 'react'\nimport { X } from 'react-feather'\nimport { useDispatch } from 'react-redux'\nimport { useToggleWalletDropdown } from 'state/application/hooks'\nimport { useAppSelector } from 'state/hooks'\nimport { useFiatOnrampAck } from 'state/user/hooks'\nimport { dismissFiatOnramp } from 'state/user/reducer'\nimport styled from 'styled-components/macro'\nimport { ThemedText } from 'theme'\nimport { isMobile } from 'utils/userAgent'\n\nconst Arrow = styled.div`\n  top: -4px;\n  height: 16px;\n  position: absolute;\n  right: 16px;\n  width: 16px;\n\n  ::before {\n    background: hsl(315.75, 93%, 83%);\n    border-top: none;\n    border-left: none;\n    box-sizing: border-box;\n    content: '';\n    height: 16px;\n    position: absolute;\n    transform: rotate(45deg);\n    width: 16px;\n  }\n`\nconst ArrowWrapper = styled.div`\n  position: absolute;\n  right: 16px;\n  top: 90%;\n  width: 100%;\n  max-width: 320px;\n  min-height: 92px;\n\n  @media screen and (min-width: ${({ theme }) => theme.breakpoint.lg}px) {\n    right: 36px;\n  }\n`\n\nconst CloseIcon = styled(X)`\n  color: white;\n  cursor: pointer;\n  position: absolute;\n  top: 8px;\n  right: 8px;\n  z-index: 1;\n`\nconst Wrapper = styled.button`\n  background: radial-gradient(105% 250% at 100% 5%, hsla(318, 95%, 85%) 1%, hsla(331, 80%, 75%, 0.1) 84%),\n    linear-gradient(180deg, hsla(296, 92%, 67%, 0.5) 0%, hsla(313, 96%, 60%, 0.5) 130%);\n  background-color: hsla(297, 93%, 68%, 1);\n  border-radius: 12px;\n  border: none;\n  cursor: pointer;\n  outline: none;\n  overflow: hidden;\n  position: relative;\n  text-align: start;\n  max-width: 320px;\n  min-height: 92px;\n  width: 100%;\n\n  :before {\n    background-image: url(${fiatMaskUrl});\n    background-repeat: no-repeat;\n    content: '';\n    height: 100%;\n    position: absolute;\n    right: -154px; // roughly width of fiat mask image\n    top: 0;\n    width: 100%;\n  }\n`\n\nconst Header = styled(ThemedText.SubHeader)`\n  color: white;\n  margin: 0;\n  padding: 12px 12px 4px;\n  position: relative;\n`\nconst Body = styled(ThemedText.BodySmall)`\n  color: white;\n  margin: 0 12px 12px 12px !important;\n  position: relative;\n`\n\nconst MAX_RENDER_COUNT = 3\n\nexport function FiatOnrampAnnouncement() {\n  const { account } = useWeb3React()\n  const [acks, acknowledge] = useFiatOnrampAck()\n  const fiatOnrampDismissed = useAppSelector((state) => state.user.fiatOnrampDismissed)\n\n  useEffect(() => {\n    acknowledge({ renderCount: acks?.renderCount + 1 })\n    // The dependency list is empty so this is only run once on mount\n  }, []) // eslint-disable-line react-hooks/exhaustive-deps\n\n  const dispatch = useDispatch()\n  const handleClose = useCallback(() => {\n    dispatch(dismissFiatOnramp())\n  }, [dispatch])\n\n  const toggleWalletDropdown = useToggleWalletDropdown()\n  const handleClick = useCallback(() => {\n    sendAnalyticsEvent('FOR Banner Click')\n    toggleWalletDropdown()\n    acknowledge({ user: true })\n  }, [acknowledge, toggleWalletDropdown])\n\n  const fiatOnrampFlag = useFiatOnrampFlag()\n  const openModal = useAppSelector((state) => state.application.openModal)\n\n  if (\n    !account ||\n    acks?.user ||\n    fiatOnrampFlag === BaseVariant.Control ||\n    fiatOnrampDismissed ||\n    acks?.renderCount >= MAX_RENDER_COUNT ||\n    isMobile ||\n    openModal !== null\n  ) {\n    return null\n  }\n  return (\n    <ArrowWrapper>\n      <Arrow />\n      <CloseIcon onClick={handleClose} />\n      <Wrapper onClick={handleClick}>\n        <Header>\n          <Trans>Buy crypto</Trans>\n        </Header>\n        <Body>\n          <Trans>Get tokens at the best prices in web3 on Uniswap, powered by Moonpay.</Trans>\n        </Body>\n      </Wrapper>\n    </ArrowWrapper>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}