{"ast":null,"code":"import _styled from \"styled-components\";\nvar _jsxFileName = \"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/pages/CreateProposal/index.tsx\",\n  _s = $RefreshSig$();\nimport { Trans } from \"@lingui/react\";\nimport { defaultAbiCoder } from '@ethersproject/abi';\nimport { getAddress, isAddress } from '@ethersproject/address';\nimport { Trace } from '@uniswap/analytics';\nimport { PageName } from '@uniswap/analytics-events';\nimport { useWeb3React } from '@web3-react/core';\nimport { ButtonError } from 'components/Button';\nimport { BlueCard } from 'components/Card';\nimport { AutoColumn } from 'components/Column';\nimport JSBI from 'jsbi';\nimport tryParseCurrencyAmount from 'lib/utils/tryParseCurrencyAmount';\nimport { Wrapper } from 'pages/Pool/styleds';\nimport { useCallback, useMemo, useState } from 'react';\nimport { ProposalState, useCreateProposalCallback, useLatestProposalId, useProposalData, useProposalThreshold, useUserVotes } from 'state/governance/hooks';\nimport { ExternalLink, ThemedText } from 'theme';\nimport { CreateProposalTabs } from '../../components/NavigationTabs';\nimport { LATEST_GOVERNOR_INDEX } from '../../constants/governance';\nimport { UNI } from '../../constants/tokens';\nimport AppBody from '../AppBody';\nimport { ProposalActionDetail } from './ProposalActionDetail';\nimport { ProposalAction, ProposalActionSelector, ProposalActionSelectorModal } from './ProposalActionSelector';\nimport { ProposalEditor } from './ProposalEditor';\nimport { ProposalSubmissionModal } from './ProposalSubmissionModal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst PageWrapper = _styled(AutoColumn).withConfig({\n  displayName: \"CreateProposal__PageWrapper\",\n  componentId: \"sc-38qcfg-0\"\n})([\"padding:68px 8px 0px;@media only screen and (max-width:\", \"){padding:48px 8px 0px;}@media only screen and (max-width:\", \"){padding-top:20px;}\"], _ref => {\n  let {\n    theme\n  } = _ref;\n  return `${theme.breakpoint.md}px`;\n}, _ref2 => {\n  let {\n    theme\n  } = _ref2;\n  return `${theme.breakpoint.sm}px`;\n});\nconst CreateProposalButton = _ref3 => {\n  let {\n    proposalThreshold,\n    hasActiveOrPendingProposal,\n    hasEnoughVote,\n    isFormInvalid,\n    handleCreateProposal\n  } = _ref3;\n  const formattedProposalThreshold = proposalThreshold ? JSBI.divide(proposalThreshold.quotient, JSBI.exponentiate(JSBI.BigInt(10), JSBI.BigInt(proposalThreshold.currency.decimals))).toLocaleString() : undefined;\n  return /*#__PURE__*/_jsxDEV(ButtonError, {\n    style: {\n      marginTop: '18px'\n    },\n    error: hasActiveOrPendingProposal || !hasEnoughVote,\n    disabled: isFormInvalid || hasActiveOrPendingProposal || !hasEnoughVote,\n    onClick: handleCreateProposal,\n    children: hasActiveOrPendingProposal ? /*#__PURE__*/_jsxDEV(Trans, {\n      id: \"You already have an active or pending proposal\"\n    }, void 0, false, void 0, this) : !hasEnoughVote ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: formattedProposalThreshold ? /*#__PURE__*/_jsxDEV(Trans, {\n        id: \"You must have {formattedProposalThreshold} votes to submit a proposal\",\n        values: {\n          formattedProposalThreshold: formattedProposalThreshold\n        }\n      }, void 0, false, void 0, this) : /*#__PURE__*/_jsxDEV(Trans, {\n        id: \"You don't have enough votes to submit a proposal\"\n      }, void 0, false, void 0, this)\n    }, void 0, false) : /*#__PURE__*/_jsxDEV(Trans, {\n      id: \"Create Proposal\"\n    }, void 0, false, void 0, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n};\n_c = CreateProposalButton;\nconst CreateProposalWrapper = _styled(Wrapper).withConfig({\n  displayName: \"CreateProposal__CreateProposalWrapper\",\n  componentId: \"sc-38qcfg-1\"\n})([\"display:flex;flex-flow:column wrap;\"]);\nconst AutonomousProposalCTA = _styled.div.withConfig({\n  displayName: \"CreateProposal__AutonomousProposalCTA\",\n  componentId: \"sc-38qcfg-2\"\n})([\"text-align:center;margin-top:10px;\"]);\nexport default function CreateProposal() {\n  _s();\n  var _useLatestProposalId;\n  const {\n    account,\n    chainId\n  } = useWeb3React();\n  const latestProposalId = (_useLatestProposalId = useLatestProposalId(account !== null && account !== void 0 ? account : undefined)) !== null && _useLatestProposalId !== void 0 ? _useLatestProposalId : '0';\n  const latestProposalData = useProposalData(LATEST_GOVERNOR_INDEX, latestProposalId);\n  const {\n    votes: availableVotes\n  } = useUserVotes();\n  const proposalThreshold = useProposalThreshold();\n  const [modalOpen, setModalOpen] = useState(false);\n  const [hash, setHash] = useState();\n  const [attempting, setAttempting] = useState(false);\n  const [proposalAction, setProposalAction] = useState(ProposalAction.TRANSFER_TOKEN);\n  const [toAddressValue, setToAddressValue] = useState('');\n  const [currencyValue, setCurrencyValue] = useState(UNI[chainId !== null && chainId !== void 0 ? chainId : 1]);\n  const [amountValue, setAmountValue] = useState('');\n  const [titleValue, setTitleValue] = useState('');\n  const [bodyValue, setBodyValue] = useState('');\n  const handleActionSelectorClick = useCallback(() => {\n    setModalOpen(true);\n  }, [setModalOpen]);\n  const handleActionChange = useCallback(proposalAction => {\n    setProposalAction(proposalAction);\n  }, [setProposalAction]);\n  const handleDismissActionSelector = useCallback(() => {\n    setModalOpen(false);\n  }, [setModalOpen]);\n  const handleDismissSubmissionModal = useCallback(() => {\n    setHash(undefined);\n    setAttempting(false);\n  }, [setHash, setAttempting]);\n  const handleToAddressInput = useCallback(toAddress => {\n    setToAddressValue(toAddress);\n  }, [setToAddressValue]);\n  const handleCurrencySelect = useCallback(currency => {\n    setCurrencyValue(currency);\n  }, [setCurrencyValue]);\n  const handleAmountInput = useCallback(amount => {\n    setAmountValue(amount);\n  }, [setAmountValue]);\n  const handleTitleInput = useCallback(title => {\n    setTitleValue(title);\n  }, [setTitleValue]);\n  const handleBodyInput = useCallback(body => {\n    setBodyValue(body);\n  }, [setBodyValue]);\n  const isFormInvalid = useMemo(() => Boolean(!proposalAction || !isAddress(toAddressValue) || !(currencyValue === null || currencyValue === void 0 ? void 0 : currencyValue.isToken) || amountValue === '' || titleValue === '' || bodyValue === ''), [proposalAction, toAddressValue, currencyValue, amountValue, titleValue, bodyValue]);\n  const hasEnoughVote = Boolean(availableVotes && proposalThreshold && JSBI.greaterThanOrEqual(availableVotes.quotient, proposalThreshold.quotient));\n  const createProposalCallback = useCreateProposalCallback();\n  const handleCreateProposal = async () => {\n    var _createProposalCallba;\n    setAttempting(true);\n    const createProposalData = {};\n    if (!createProposalCallback || !proposalAction || !currencyValue.isToken) return;\n    const tokenAmount = tryParseCurrencyAmount(amountValue, currencyValue);\n    if (!tokenAmount) return;\n    createProposalData.targets = [currencyValue.address];\n    createProposalData.values = ['0'];\n    createProposalData.description = `# ${titleValue}\n\n${bodyValue}\n`;\n    let types;\n    let values;\n    switch (proposalAction) {\n      case ProposalAction.TRANSFER_TOKEN:\n        {\n          types = [['address', 'uint256']];\n          values = [[getAddress(toAddressValue), tokenAmount.quotient.toString()]];\n          createProposalData.signatures = [`transfer(${types[0].join(',')})`];\n          break;\n        }\n      case ProposalAction.APPROVE_TOKEN:\n        {\n          types = [['address', 'uint256']];\n          values = [[getAddress(toAddressValue), tokenAmount.quotient.toString()]];\n          createProposalData.signatures = [`approve(${types[0].join(',')})`];\n          break;\n        }\n    }\n    createProposalData.calldatas = [];\n    for (let i = 0; i < createProposalData.signatures.length; i++) {\n      createProposalData.calldatas[i] = defaultAbiCoder.encode(types[i], values[i]);\n    }\n    const hash = await ((_createProposalCallba = createProposalCallback(createProposalData !== null && createProposalData !== void 0 ? createProposalData : undefined)) === null || _createProposalCallba === void 0 ? void 0 : _createProposalCallba.catch(() => {\n      setAttempting(false);\n    }));\n    if (hash) setHash(hash);\n  };\n  return /*#__PURE__*/_jsxDEV(Trace, {\n    page: PageName.VOTE_PAGE,\n    shouldLogImpression: true,\n    children: /*#__PURE__*/_jsxDEV(PageWrapper, {\n      children: /*#__PURE__*/_jsxDEV(AppBody, {\n        $maxWidth: \"800px\",\n        children: [/*#__PURE__*/_jsxDEV(CreateProposalTabs, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CreateProposalWrapper, {\n          children: [/*#__PURE__*/_jsxDEV(BlueCard, {\n            children: /*#__PURE__*/_jsxDEV(AutoColumn, {\n              gap: \"10px\",\n              children: /*#__PURE__*/_jsxDEV(ThemedText.DeprecatedLink, {\n                fontWeight: 400,\n                color: \"accentAction\",\n                children: /*#__PURE__*/_jsxDEV(Trans, {\n                  id: \"<0>Tip:</0> Select an action and describe your proposal for the community. The proposal cannot be modified after submission, so please verify all information before submitting. The voting period will begin immediately and last for 7 days. To propose a custom action, <1>read the docs</1>.\",\n                  components: {\n                    0: /*#__PURE__*/_jsxDEV(\"strong\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 251,\n                      columnNumber: 21\n                    }, this),\n                    1: /*#__PURE__*/_jsxDEV(ExternalLink, {\n                      href: \"https://docs.uniswap.org/protocol/reference/Governance/governance-reference#propose\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 254,\n                      columnNumber: 21\n                    }, this)\n                  }\n                }, void 0, false, void 0, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ProposalActionSelector, {\n            onClick: handleActionSelectorClick,\n            proposalAction: proposalAction\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ProposalActionDetail, {\n            proposalAction: proposalAction,\n            currency: currencyValue,\n            amount: amountValue,\n            toAddress: toAddressValue,\n            onCurrencySelect: handleCurrencySelect,\n            onAmountInput: handleAmountInput,\n            onToAddressInput: handleToAddressInput\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ProposalEditor, {\n            title: titleValue,\n            body: bodyValue,\n            onTitleInput: handleTitleInput,\n            onBodyInput: handleBodyInput\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CreateProposalButton, {\n            proposalThreshold: proposalThreshold,\n            hasActiveOrPendingProposal: (latestProposalData === null || latestProposalData === void 0 ? void 0 : latestProposalData.status) === ProposalState.ACTIVE || (latestProposalData === null || latestProposalData === void 0 ? void 0 : latestProposalData.status) === ProposalState.PENDING,\n            hasEnoughVote: hasEnoughVote,\n            isFormInvalid: isFormInvalid,\n            handleCreateProposal: handleCreateProposal\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 13\n          }, this), !hasEnoughVote ? /*#__PURE__*/_jsxDEV(AutonomousProposalCTA, {\n            children: [\"Don\\u2019t have 2.5M votes? Anyone can create an autonomous proposal using\", ' ', /*#__PURE__*/_jsxDEV(ExternalLink, {\n              href: \"https://fish.vote\",\n              children: \"fish.vote\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 15\n          }, this) : null]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ProposalActionSelectorModal, {\n          isOpen: modalOpen,\n          onDismiss: handleDismissActionSelector,\n          onProposalActionSelect: proposalAction => handleActionChange(proposalAction)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ProposalSubmissionModal, {\n          isOpen: attempting,\n          hash: hash,\n          onDismiss: handleDismissSubmissionModal\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 242,\n    columnNumber: 5\n  }, this);\n}\n_s(CreateProposal, \"a/9ZEqT9AyhbNwoeH2EAQFmDhgM=\", false, function () {\n  return [useWeb3React, useLatestProposalId, useProposalData, useUserVotes, useProposalThreshold, useCreateProposalCallback];\n});\n_c2 = CreateProposal;\nvar _c, _c2;\n$RefreshReg$(_c, \"CreateProposalButton\");\n$RefreshReg$(_c2, \"CreateProposal\");","map":{"version":3,"names":["defaultAbiCoder","getAddress","isAddress","Trace","PageName","useWeb3React","ButtonError","BlueCard","AutoColumn","JSBI","tryParseCurrencyAmount","Wrapper","useCallback","useMemo","useState","ProposalState","useCreateProposalCallback","useLatestProposalId","useProposalData","useProposalThreshold","useUserVotes","ExternalLink","ThemedText","CreateProposalTabs","LATEST_GOVERNOR_INDEX","UNI","AppBody","ProposalActionDetail","ProposalAction","ProposalActionSelector","ProposalActionSelectorModal","ProposalEditor","ProposalSubmissionModal","PageWrapper","styled","theme","breakpoint","md","sm","CreateProposalButton","proposalThreshold","hasActiveOrPendingProposal","hasEnoughVote","isFormInvalid","handleCreateProposal","formattedProposalThreshold","divide","quotient","exponentiate","BigInt","currency","decimals","toLocaleString","undefined","marginTop","CreateProposalWrapper","AutonomousProposalCTA","div","CreateProposal","account","chainId","latestProposalId","latestProposalData","votes","availableVotes","modalOpen","setModalOpen","hash","setHash","attempting","setAttempting","proposalAction","setProposalAction","TRANSFER_TOKEN","toAddressValue","setToAddressValue","currencyValue","setCurrencyValue","amountValue","setAmountValue","titleValue","setTitleValue","bodyValue","setBodyValue","handleActionSelectorClick","handleActionChange","handleDismissActionSelector","handleDismissSubmissionModal","handleToAddressInput","toAddress","handleCurrencySelect","handleAmountInput","amount","handleTitleInput","title","handleBodyInput","body","Boolean","isToken","greaterThanOrEqual","createProposalCallback","createProposalData","tokenAmount","targets","address","values","description","types","toString","signatures","join","APPROVE_TOKEN","calldatas","i","length","encode","catch","VOTE_PAGE","status","ACTIVE","PENDING"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/pages/CreateProposal/index.tsx"],"sourcesContent":["import { defaultAbiCoder } from '@ethersproject/abi'\nimport { getAddress, isAddress } from '@ethersproject/address'\nimport { Trans } from '@lingui/macro'\nimport { Trace } from '@uniswap/analytics'\nimport { PageName } from '@uniswap/analytics-events'\nimport { Currency, CurrencyAmount, Token } from '@uniswap/sdk-core'\nimport { useWeb3React } from '@web3-react/core'\nimport { ButtonError } from 'components/Button'\nimport { BlueCard } from 'components/Card'\nimport { AutoColumn } from 'components/Column'\nimport JSBI from 'jsbi'\nimport tryParseCurrencyAmount from 'lib/utils/tryParseCurrencyAmount'\nimport { Wrapper } from 'pages/Pool/styleds'\nimport { useCallback, useMemo, useState } from 'react'\nimport {\n  CreateProposalData,\n  ProposalState,\n  useCreateProposalCallback,\n  useLatestProposalId,\n  useProposalData,\n  useProposalThreshold,\n  useUserVotes,\n} from 'state/governance/hooks'\nimport styled from 'styled-components/macro'\nimport { ExternalLink, ThemedText } from 'theme'\n\nimport { CreateProposalTabs } from '../../components/NavigationTabs'\nimport { LATEST_GOVERNOR_INDEX } from '../../constants/governance'\nimport { UNI } from '../../constants/tokens'\nimport AppBody from '../AppBody'\nimport { ProposalActionDetail } from './ProposalActionDetail'\nimport { ProposalAction, ProposalActionSelector, ProposalActionSelectorModal } from './ProposalActionSelector'\nimport { ProposalEditor } from './ProposalEditor'\nimport { ProposalSubmissionModal } from './ProposalSubmissionModal'\n\nconst PageWrapper = styled(AutoColumn)`\n  padding: 68px 8px 0px;\n\n  @media only screen and (max-width: ${({ theme }) => `${theme.breakpoint.md}px`}) {\n    padding: 48px 8px 0px;\n  }\n\n  @media only screen and (max-width: ${({ theme }) => `${theme.breakpoint.sm}px`}) {\n    padding-top: 20px;\n  }\n`\n\nconst CreateProposalButton = ({\n  proposalThreshold,\n  hasActiveOrPendingProposal,\n  hasEnoughVote,\n  isFormInvalid,\n  handleCreateProposal,\n}: {\n  proposalThreshold?: CurrencyAmount<Token>\n  hasActiveOrPendingProposal: boolean\n  hasEnoughVote: boolean\n  isFormInvalid: boolean\n  handleCreateProposal: () => void\n}) => {\n  const formattedProposalThreshold = proposalThreshold\n    ? JSBI.divide(\n        proposalThreshold.quotient,\n        JSBI.exponentiate(JSBI.BigInt(10), JSBI.BigInt(proposalThreshold.currency.decimals))\n      ).toLocaleString()\n    : undefined\n\n  return (\n    <ButtonError\n      style={{ marginTop: '18px' }}\n      error={hasActiveOrPendingProposal || !hasEnoughVote}\n      disabled={isFormInvalid || hasActiveOrPendingProposal || !hasEnoughVote}\n      onClick={handleCreateProposal}\n    >\n      {hasActiveOrPendingProposal ? (\n        <Trans>You already have an active or pending proposal</Trans>\n      ) : !hasEnoughVote ? (\n        <>\n          {formattedProposalThreshold ? (\n            <Trans>You must have {formattedProposalThreshold} votes to submit a proposal</Trans>\n          ) : (\n            <Trans>You don&apos;t have enough votes to submit a proposal</Trans>\n          )}\n        </>\n      ) : (\n        <Trans>Create Proposal</Trans>\n      )}\n    </ButtonError>\n  )\n}\n\nconst CreateProposalWrapper = styled(Wrapper)`\n  display: flex;\n  flex-flow: column wrap;\n`\n\nconst AutonomousProposalCTA = styled.div`\n  text-align: center;\n  margin-top: 10px;\n`\n\nexport default function CreateProposal() {\n  const { account, chainId } = useWeb3React()\n\n  const latestProposalId = useLatestProposalId(account ?? undefined) ?? '0'\n  const latestProposalData = useProposalData(LATEST_GOVERNOR_INDEX, latestProposalId)\n  const { votes: availableVotes } = useUserVotes()\n  const proposalThreshold: CurrencyAmount<Token> | undefined = useProposalThreshold()\n\n  const [modalOpen, setModalOpen] = useState(false)\n  const [hash, setHash] = useState<string | undefined>()\n  const [attempting, setAttempting] = useState(false)\n  const [proposalAction, setProposalAction] = useState(ProposalAction.TRANSFER_TOKEN)\n  const [toAddressValue, setToAddressValue] = useState('')\n  const [currencyValue, setCurrencyValue] = useState<Currency>(UNI[chainId ?? 1])\n  const [amountValue, setAmountValue] = useState('')\n  const [titleValue, setTitleValue] = useState('')\n  const [bodyValue, setBodyValue] = useState('')\n\n  const handleActionSelectorClick = useCallback(() => {\n    setModalOpen(true)\n  }, [setModalOpen])\n\n  const handleActionChange = useCallback(\n    (proposalAction: ProposalAction) => {\n      setProposalAction(proposalAction)\n    },\n    [setProposalAction]\n  )\n\n  const handleDismissActionSelector = useCallback(() => {\n    setModalOpen(false)\n  }, [setModalOpen])\n\n  const handleDismissSubmissionModal = useCallback(() => {\n    setHash(undefined)\n    setAttempting(false)\n  }, [setHash, setAttempting])\n\n  const handleToAddressInput = useCallback(\n    (toAddress: string) => {\n      setToAddressValue(toAddress)\n    },\n    [setToAddressValue]\n  )\n\n  const handleCurrencySelect = useCallback(\n    (currency: Currency) => {\n      setCurrencyValue(currency)\n    },\n    [setCurrencyValue]\n  )\n\n  const handleAmountInput = useCallback(\n    (amount: string) => {\n      setAmountValue(amount)\n    },\n    [setAmountValue]\n  )\n\n  const handleTitleInput = useCallback(\n    (title: string) => {\n      setTitleValue(title)\n    },\n    [setTitleValue]\n  )\n\n  const handleBodyInput = useCallback(\n    (body: string) => {\n      setBodyValue(body)\n    },\n    [setBodyValue]\n  )\n\n  const isFormInvalid = useMemo(\n    () =>\n      Boolean(\n        !proposalAction ||\n          !isAddress(toAddressValue) ||\n          !currencyValue?.isToken ||\n          amountValue === '' ||\n          titleValue === '' ||\n          bodyValue === ''\n      ),\n    [proposalAction, toAddressValue, currencyValue, amountValue, titleValue, bodyValue]\n  )\n\n  const hasEnoughVote = Boolean(\n    availableVotes && proposalThreshold && JSBI.greaterThanOrEqual(availableVotes.quotient, proposalThreshold.quotient)\n  )\n\n  const createProposalCallback = useCreateProposalCallback()\n\n  const handleCreateProposal = async () => {\n    setAttempting(true)\n\n    const createProposalData: CreateProposalData = {} as CreateProposalData\n\n    if (!createProposalCallback || !proposalAction || !currencyValue.isToken) return\n\n    const tokenAmount = tryParseCurrencyAmount(amountValue, currencyValue)\n    if (!tokenAmount) return\n\n    createProposalData.targets = [currencyValue.address]\n    createProposalData.values = ['0']\n    createProposalData.description = `# ${titleValue}\n\n${bodyValue}\n`\n\n    let types: string[][]\n    let values: string[][]\n    switch (proposalAction) {\n      case ProposalAction.TRANSFER_TOKEN: {\n        types = [['address', 'uint256']]\n        values = [[getAddress(toAddressValue), tokenAmount.quotient.toString()]]\n        createProposalData.signatures = [`transfer(${types[0].join(',')})`]\n        break\n      }\n\n      case ProposalAction.APPROVE_TOKEN: {\n        types = [['address', 'uint256']]\n        values = [[getAddress(toAddressValue), tokenAmount.quotient.toString()]]\n        createProposalData.signatures = [`approve(${types[0].join(',')})`]\n        break\n      }\n    }\n\n    createProposalData.calldatas = []\n    for (let i = 0; i < createProposalData.signatures.length; i++) {\n      createProposalData.calldatas[i] = defaultAbiCoder.encode(types[i], values[i])\n    }\n\n    const hash = await createProposalCallback(createProposalData ?? undefined)?.catch(() => {\n      setAttempting(false)\n    })\n\n    if (hash) setHash(hash)\n  }\n\n  return (\n    <Trace page={PageName.VOTE_PAGE} shouldLogImpression>\n      <PageWrapper>\n        <AppBody $maxWidth=\"800px\">\n          <CreateProposalTabs />\n          <CreateProposalWrapper>\n            <BlueCard>\n              <AutoColumn gap=\"10px\">\n                <ThemedText.DeprecatedLink fontWeight={400} color=\"accentAction\">\n                  <Trans>\n                    <strong>Tip:</strong> Select an action and describe your proposal for the community. The proposal\n                    cannot be modified after submission, so please verify all information before submitting. The voting\n                    period will begin immediately and last for 7 days. To propose a custom action,{' '}\n                    <ExternalLink href=\"https://docs.uniswap.org/protocol/reference/Governance/governance-reference#propose\">\n                      read the docs\n                    </ExternalLink>\n                    .\n                  </Trans>\n                </ThemedText.DeprecatedLink>\n              </AutoColumn>\n            </BlueCard>\n\n            <ProposalActionSelector onClick={handleActionSelectorClick} proposalAction={proposalAction} />\n            <ProposalActionDetail\n              proposalAction={proposalAction}\n              currency={currencyValue}\n              amount={amountValue}\n              toAddress={toAddressValue}\n              onCurrencySelect={handleCurrencySelect}\n              onAmountInput={handleAmountInput}\n              onToAddressInput={handleToAddressInput}\n            />\n            <ProposalEditor\n              title={titleValue}\n              body={bodyValue}\n              onTitleInput={handleTitleInput}\n              onBodyInput={handleBodyInput}\n            />\n            <CreateProposalButton\n              proposalThreshold={proposalThreshold}\n              hasActiveOrPendingProposal={\n                latestProposalData?.status === ProposalState.ACTIVE ||\n                latestProposalData?.status === ProposalState.PENDING\n              }\n              hasEnoughVote={hasEnoughVote}\n              isFormInvalid={isFormInvalid}\n              handleCreateProposal={handleCreateProposal}\n            />\n            {!hasEnoughVote ? (\n              <AutonomousProposalCTA>\n                Don’t have 2.5M votes? Anyone can create an autonomous proposal using{' '}\n                <ExternalLink href=\"https://fish.vote\">fish.vote</ExternalLink>\n              </AutonomousProposalCTA>\n            ) : null}\n          </CreateProposalWrapper>\n          <ProposalActionSelectorModal\n            isOpen={modalOpen}\n            onDismiss={handleDismissActionSelector}\n            onProposalActionSelect={(proposalAction: ProposalAction) => handleActionChange(proposalAction)}\n          />\n          <ProposalSubmissionModal isOpen={attempting} hash={hash} onDismiss={handleDismissSubmissionModal} />\n        </AppBody>\n      </PageWrapper>\n    </Trace>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}