{"ast":null,"code":"import _objectSpread from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import{css as _css}from\"styled-components\";import _styled from\"styled-components\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5;import{DialogContent,DialogOverlay}from'@reach/dialog';import React from'react';import{animated,useSpring,useTransition}from'react-spring';import{useGesture}from'react-use-gesture';import{Z_INDEX}from'theme/zIndex';import{isMobile}from'../../utils/userAgent';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var AnimatedDialogOverlay=animated(DialogOverlay);var StyledDialogOverlay=_styled(AnimatedDialogOverlay).withConfig({componentId:\"sc-jajvtp-0\"})([\"&[data-reach-dialog-overlay]{z-index:\",\";background-color:transparent;overflow:hidden;display:flex;align-items:center;overflow-y:\",\";justify-content:center;background-color:\",\";}\"],Z_INDEX.modalBackdrop,function(_ref){var $scrollOverlay=_ref.$scrollOverlay;return $scrollOverlay&&'scroll';},function(_ref2){var theme=_ref2.theme;return theme.backgroundScrim;});var AnimatedDialogContent=animated(DialogContent);var StyledDialogContent=_styled(AnimatedDialogContent).withConfig({componentId:\"sc-jajvtp-1\"})([\"overflow-y:auto;&[data-reach-dialog-content]{margin:auto;background-color:\",\";border:\",\";box-shadow:\",\";padding:0px;width:50vw;overflow-y:auto;overflow-x:hidden;align-self:\",\";max-width:\",\"px;\",\" \",\" display:\",\";border-radius:20px;\",\" \",\"}\"],function(_ref3){var theme=_ref3.theme;return theme.backgroundSurface;},function(_ref4){var theme=_ref4.theme,$hideBorder=_ref4.$hideBorder;return!$hideBorder&&\"1px solid \".concat(theme.deprecated_bg1);},function(_ref5){var theme=_ref5.theme;return theme.deepShadow;},function(_ref6){var $isBottomSheet=_ref6.$isBottomSheet;return $isBottomSheet&&'flex-end';},function(_ref7){var $maxWidth=_ref7.$maxWidth;return $maxWidth;},function(_ref8){var $maxHeight=_ref8.$maxHeight;return $maxHeight&&_css(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n        max-height: \",\"vh;\\n      \"])),$maxHeight);},function(_ref9){var $minHeight=_ref9.$minHeight;return $minHeight&&_css(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n        min-height: \",\"vh;\\n      \"])),$minHeight);},function(_ref10){var $scrollOverlay=_ref10.$scrollOverlay;return $scrollOverlay?'inline-table':'flex';},function(_ref11){var theme=_ref11.theme;return theme.deprecated_mediaWidth.deprecated_upToMedium(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n      width: 65vw;\\n      margin: auto;\\n    \"])));},function(_ref12){var theme=_ref12.theme,$isBottomSheet=_ref12.$isBottomSheet;return theme.deprecated_mediaWidth.deprecated_upToSmall(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n      width:  85vw;\\n      \",\"\\n    \"])),$isBottomSheet&&_css(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n          width: 100vw;\\n          border-radius: 20px;\\n          border-bottom-left-radius: 0;\\n          border-bottom-right-radius: 0;\\n        \"]))));});export default function Modal(_ref13){var isOpen=_ref13.isOpen,onDismiss=_ref13.onDismiss,_ref13$minHeight=_ref13.minHeight,minHeight=_ref13$minHeight===void 0?false:_ref13$minHeight,_ref13$maxHeight=_ref13.maxHeight,maxHeight=_ref13$maxHeight===void 0?90:_ref13$maxHeight,_ref13$maxWidth=_ref13.maxWidth,maxWidth=_ref13$maxWidth===void 0?420:_ref13$maxWidth,initialFocusRef=_ref13.initialFocusRef,children=_ref13.children,_ref13$onSwipe=_ref13.onSwipe,onSwipe=_ref13$onSwipe===void 0?onDismiss:_ref13$onSwipe,$scrollOverlay=_ref13.$scrollOverlay,_ref13$isBottomSheet=_ref13.isBottomSheet,isBottomSheet=_ref13$isBottomSheet===void 0?isMobile:_ref13$isBottomSheet,_ref13$hideBorder=_ref13.hideBorder,hideBorder=_ref13$hideBorder===void 0?false:_ref13$hideBorder;var fadeTransition=useTransition(isOpen,{config:{duration:200},from:{opacity:0},enter:{opacity:1},leave:{opacity:0}});var _useSpring=useSpring(function(){return{y:0,config:{mass:1,tension:210,friction:20}};}),_useSpring2=_slicedToArray(_useSpring,2),y=_useSpring2[0].y,set=_useSpring2[1];var bind=useGesture({onDrag:function onDrag(state){set({y:state.down?state.movement[1]:0});if(state.movement[1]>300||state.velocity>3&&state.direction[1]>0){onSwipe===null||onSwipe===void 0?void 0:onSwipe();}}});return/*#__PURE__*/_jsx(_Fragment,{children:fadeTransition(function(_ref14,item){var opacity=_ref14.opacity;return item&&/*#__PURE__*/_jsx(StyledDialogOverlay,{style:{opacity:opacity.to({range:[0.0,1.0],output:[0,1]})},onDismiss:onDismiss,initialFocusRef:initialFocusRef,unstable_lockFocusAcrossFrames:false,$scrollOverlay:$scrollOverlay,children:/*#__PURE__*/_jsxs(StyledDialogContent,_objectSpread(_objectSpread({},isMobile?_objectSpread(_objectSpread({},bind()),{},{style:{transform:y.interpolate(function(y){return\"translateY(\".concat(y>0?y:0,\"px)\");})}}):{}),{},{\"aria-label\":\"dialog\",$minHeight:minHeight,$maxHeight:maxHeight,$isBottomSheet:isBottomSheet,$scrollOverlay:$scrollOverlay,$hideBorder:hideBorder,$maxWidth:maxWidth,children:[!initialFocusRef&&isMobile?/*#__PURE__*/_jsx(\"div\",{tabIndex:1}):null,children]}))});})});}","map":{"version":3,"names":["DialogContent","DialogOverlay","React","animated","useSpring","useTransition","useGesture","Z_INDEX","isMobile","AnimatedDialogOverlay","StyledDialogOverlay","styled","modalBackdrop","$scrollOverlay","theme","backgroundScrim","AnimatedDialogContent","StyledDialogContent","backgroundSurface","$hideBorder","deprecated_bg1","deepShadow","$isBottomSheet","$maxWidth","$maxHeight","css","$minHeight","deprecated_mediaWidth","deprecated_upToMedium","deprecated_upToSmall","Modal","isOpen","onDismiss","minHeight","maxHeight","maxWidth","initialFocusRef","children","onSwipe","isBottomSheet","hideBorder","fadeTransition","config","duration","from","opacity","enter","leave","y","mass","tension","friction","set","bind","onDrag","state","down","movement","velocity","direction","item","to","range","output","style","transform","interpolate"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/components/Modal/index.tsx"],"sourcesContent":["import { DialogContent, DialogOverlay } from '@reach/dialog'\nimport React from 'react'\nimport { animated, useSpring, useTransition } from 'react-spring'\nimport { useGesture } from 'react-use-gesture'\nimport styled, { css } from 'styled-components/macro'\nimport { Z_INDEX } from 'theme/zIndex'\n\nimport { isMobile } from '../../utils/userAgent'\n\nconst AnimatedDialogOverlay = animated(DialogOverlay)\n\nconst StyledDialogOverlay = styled(AnimatedDialogOverlay)<{ $scrollOverlay?: boolean }>`\n  &[data-reach-dialog-overlay] {\n    z-index: ${Z_INDEX.modalBackdrop};\n    background-color: transparent;\n    overflow: hidden;\n\n    display: flex;\n    align-items: center;\n    overflow-y: ${({ $scrollOverlay }) => $scrollOverlay && 'scroll'};\n    justify-content: center;\n\n    background-color: ${({ theme }) => theme.backgroundScrim};\n  }\n`\n\ntype StyledDialogProps = {\n  $minHeight?: number | false\n  $maxHeight?: number\n  $isBottomSheet?: boolean\n  $scrollOverlay?: boolean\n  $hideBorder?: boolean\n  $maxWidth: number\n}\n\nconst AnimatedDialogContent = animated(DialogContent)\nconst StyledDialogContent = styled(AnimatedDialogContent)<StyledDialogProps>`\n  overflow-y: auto;\n\n  &[data-reach-dialog-content] {\n    margin: auto;\n    background-color: ${({ theme }) => theme.backgroundSurface};\n    border: ${({ theme, $hideBorder }) => !$hideBorder && `1px solid ${theme.deprecated_bg1}`};\n    box-shadow: ${({ theme }) => theme.deepShadow};\n    padding: 0px;\n    width: 50vw;\n    overflow-y: auto;\n    overflow-x: hidden;\n\n    align-self: ${({ $isBottomSheet }) => $isBottomSheet && 'flex-end'};\n    max-width: ${({ $maxWidth }) => $maxWidth}px;\n    ${({ $maxHeight }) =>\n      $maxHeight &&\n      css`\n        max-height: ${$maxHeight}vh;\n      `}\n    ${({ $minHeight }) =>\n      $minHeight &&\n      css`\n        min-height: ${$minHeight}vh;\n      `}\n    display: ${({ $scrollOverlay }) => ($scrollOverlay ? 'inline-table' : 'flex')};\n    border-radius: 20px;\n    ${({ theme }) => theme.deprecated_mediaWidth.deprecated_upToMedium`\n      width: 65vw;\n      margin: auto;\n    `}\n    ${({ theme, $isBottomSheet }) => theme.deprecated_mediaWidth.deprecated_upToSmall`\n      width:  85vw;\n      ${\n        $isBottomSheet &&\n        css`\n          width: 100vw;\n          border-radius: 20px;\n          border-bottom-left-radius: 0;\n          border-bottom-right-radius: 0;\n        `\n      }\n    `}\n  }\n`\n\ninterface ModalProps {\n  isOpen: boolean\n  onDismiss?: () => void\n  onSwipe?: () => void\n  minHeight?: number | false\n  maxHeight?: number\n  maxWidth?: number\n  initialFocusRef?: React.RefObject<any>\n  children?: React.ReactNode\n  $scrollOverlay?: boolean\n  hideBorder?: boolean\n  isBottomSheet?: boolean\n}\n\nexport default function Modal({\n  isOpen,\n  onDismiss,\n  minHeight = false,\n  maxHeight = 90,\n  maxWidth = 420,\n  initialFocusRef,\n  children,\n  onSwipe = onDismiss,\n  $scrollOverlay,\n  isBottomSheet = isMobile,\n  hideBorder = false,\n}: ModalProps) {\n  const fadeTransition = useTransition(isOpen, {\n    config: { duration: 200 },\n    from: { opacity: 0 },\n    enter: { opacity: 1 },\n    leave: { opacity: 0 },\n  })\n\n  const [{ y }, set] = useSpring(() => ({ y: 0, config: { mass: 1, tension: 210, friction: 20 } }))\n  const bind = useGesture({\n    onDrag: (state) => {\n      set({\n        y: state.down ? state.movement[1] : 0,\n      })\n      if (state.movement[1] > 300 || (state.velocity > 3 && state.direction[1] > 0)) {\n        onSwipe?.()\n      }\n    },\n  })\n\n  return (\n    <>\n      {fadeTransition(\n        ({ opacity }, item) =>\n          item && (\n            <StyledDialogOverlay\n              style={{ opacity: opacity.to({ range: [0.0, 1.0], output: [0, 1] }) }}\n              onDismiss={onDismiss}\n              initialFocusRef={initialFocusRef}\n              unstable_lockFocusAcrossFrames={false}\n              $scrollOverlay={$scrollOverlay}\n            >\n              <StyledDialogContent\n                {...(isMobile\n                  ? {\n                      ...bind(),\n                      style: { transform: y.interpolate((y) => `translateY(${(y as number) > 0 ? y : 0}px)`) },\n                    }\n                  : {})}\n                aria-label=\"dialog\"\n                $minHeight={minHeight}\n                $maxHeight={maxHeight}\n                $isBottomSheet={isBottomSheet}\n                $scrollOverlay={$scrollOverlay}\n                $hideBorder={hideBorder}\n                $maxWidth={maxWidth}\n              >\n                {/* prevents the automatic focusing of inputs on mobile by the reach dialog */}\n                {!initialFocusRef && isMobile ? <div tabIndex={1} /> : null}\n                {children}\n              </StyledDialogContent>\n            </StyledDialogOverlay>\n          )\n      )}\n    </>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}