{"ast":null,"code":"import _toConsumableArray from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectSpread from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{Trans}from\"@lingui/react\";import{useTrace}from'@uniswap/analytics';import{NavBarSearchTypes,SectionName}from'@uniswap/analytics-events';import{useIsNftPage}from'hooks/useIsNftPage';import{Box}from'nft/components/Box';import{Column,Row}from'nft/components/Flex';import{subheadSmall}from'nft/css/common.css';import{useSearchHistory}from'nft/hooks';import{fetchTrendingCollections}from'nft/queries';import{fetchTrendingTokens}from'nft/queries/genie/TrendingTokensFetcher';import{formatEthPrice}from'nft/utils/currency';import{useEffect,useMemo,useState}from'react';import{useQuery}from'react-query';import{useLocation}from'react-router-dom';import{ClockIcon,TrendingArrow}from'../../nft/components/icons';import*as styles from'./SearchBar.css';import{CollectionRow,SkeletonRow,TokenRow}from'./SuggestionRow';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function isCollection(suggestion){return suggestion.decimals===undefined;}var SearchBarDropdownSection=function SearchBarDropdownSection(_ref){var toggleOpen=_ref.toggleOpen,suggestions=_ref.suggestions,header=_ref.header,_ref$headerIcon=_ref.headerIcon,headerIcon=_ref$headerIcon===void 0?undefined:_ref$headerIcon,hoveredIndex=_ref.hoveredIndex,startingIndex=_ref.startingIndex,setHoveredIndex=_ref.setHoveredIndex,isLoading=_ref.isLoading,eventProperties=_ref.eventProperties;return/*#__PURE__*/_jsxs(Column,{gap:\"12\",children:[/*#__PURE__*/_jsxs(Row,{paddingX:\"16\",paddingY:\"4\",gap:\"8\",color:\"gray300\",className:subheadSmall,style:{lineHeight:'20px'},children:[headerIcon?headerIcon:null,/*#__PURE__*/_jsx(Box,{children:header})]}),/*#__PURE__*/_jsx(Column,{gap:\"12\",children:suggestions.map(function(suggestion,index){return isLoading?/*#__PURE__*/_jsx(SkeletonRow,{},index):isCollection(suggestion)?/*#__PURE__*/_jsx(CollectionRow,{collection:suggestion,isHovered:hoveredIndex===index+startingIndex,setHoveredIndex:setHoveredIndex,toggleOpen:toggleOpen,index:index+startingIndex,eventProperties:_objectSpread({position:index+startingIndex,selected_search_result_name:suggestion.name,selected_search_result_address:suggestion.address},eventProperties)},suggestion.address):/*#__PURE__*/_jsx(TokenRow,{token:suggestion,isHovered:hoveredIndex===index+startingIndex,setHoveredIndex:setHoveredIndex,toggleOpen:toggleOpen,index:index+startingIndex,eventProperties:_objectSpread({position:index+startingIndex,selected_search_result_name:suggestion.name,selected_search_result_address:suggestion.address},eventProperties)},suggestion.address);})})]});};export var SearchBarDropdown=function SearchBarDropdown(_ref2){var _trendingCollections$,_trendingTokens$lengt;var toggleOpen=_ref2.toggleOpen,tokens=_ref2.tokens,collections=_ref2.collections,queryText=_ref2.queryText,hasInput=_ref2.hasInput,isLoading=_ref2.isLoading;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),hoveredIndex=_useState2[0],setHoveredIndex=_useState2[1];var _useSearchHistory=useSearchHistory(),searchHistory=_useSearchHistory.history,updateSearchHistory=_useSearchHistory.updateItem;var shortenedHistory=useMemo(function(){return searchHistory.slice(0,2);},[searchHistory]);var _useLocation=useLocation(),pathname=_useLocation.pathname;var isNFTPage=useIsNftPage();var isTokenPage=pathname.includes('/tokens');var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),resultsState=_useState4[0],setResultsState=_useState4[1];var _useQuery=useQuery(['trendingCollections','eth','twenty_four_hours'],function(){return fetchTrendingCollections({volumeType:'eth',timePeriod:'ONE_DAY',size:3});}),trendingCollectionResults=_useQuery.data,trendingCollectionsAreLoading=_useQuery.isLoading;var trendingCollections=useMemo(function(){return trendingCollectionResults?trendingCollectionResults.map(function(collection){var _collection$floor,_collection$floor2;return _objectSpread(_objectSpread({},collection),{},{collectionAddress:collection.address,floorPrice:formatEthPrice((_collection$floor=collection.floor)===null||_collection$floor===void 0?void 0:_collection$floor.toString()),stats:{total_supply:collection.totalSupply,one_day_change:collection.floorChange,floor_price:formatEthPrice((_collection$floor2=collection.floor)===null||_collection$floor2===void 0?void 0:_collection$floor2.toString())}});}).slice(0,isNFTPage?3:2):_toConsumableArray(Array(isNFTPage?3:2));},[isNFTPage,trendingCollectionResults]);var _useQuery2=useQuery(['trendingTokens'],function(){return fetchTrendingTokens(4);},{refetchOnWindowFocus:false,refetchOnMount:false,refetchOnReconnect:false}),trendingTokenResults=_useQuery2.data,trendingTokensAreLoading=_useQuery2.isLoading;useEffect(function(){trendingTokenResults===null||trendingTokenResults===void 0?void 0:trendingTokenResults.forEach(updateSearchHistory);},[trendingTokenResults,updateSearchHistory]);var trendingTokensLength=isTokenPage?3:2;var trendingTokens=useMemo(function(){return trendingTokenResults?trendingTokenResults.slice(0,trendingTokensLength):_toConsumableArray(Array(trendingTokensLength));},[trendingTokenResults,trendingTokensLength]);var totalSuggestions=hasInput?tokens.length+collections.length:Math.min(shortenedHistory.length,2)+(isNFTPage||!isTokenPage?(_trendingCollections$=trendingCollections===null||trendingCollections===void 0?void 0:trendingCollections.length)!==null&&_trendingCollections$!==void 0?_trendingCollections$:0:0)+(isTokenPage||!isNFTPage?(_trendingTokens$lengt=trendingTokens===null||trendingTokens===void 0?void 0:trendingTokens.length)!==null&&_trendingTokens$lengt!==void 0?_trendingTokens$lengt:0:0);// Navigate search results via arrow keys\nuseEffect(function(){var keyDownHandler=function keyDownHandler(event){if(event.key==='ArrowUp'){event.preventDefault();if(!hoveredIndex){setHoveredIndex(totalSuggestions-1);}else{setHoveredIndex(hoveredIndex-1);}}else if(event.key==='ArrowDown'){event.preventDefault();if(hoveredIndex&&hoveredIndex===totalSuggestions-1){setHoveredIndex(0);}else{setHoveredIndex((hoveredIndex!==null&&hoveredIndex!==void 0?hoveredIndex:-1)+1);}}};document.addEventListener('keydown',keyDownHandler);return function(){document.removeEventListener('keydown',keyDownHandler);};},[toggleOpen,hoveredIndex,totalSuggestions]);var hasVerifiedCollection=collections.some(function(collection){return collection.isVerified;});var hasVerifiedToken=tokens.some(function(token){return token.onDefaultList;});var showCollectionsFirst=isNFTPage&&(hasVerifiedCollection||!hasVerifiedToken)||!isNFTPage&&!hasVerifiedToken&&hasVerifiedCollection;var trace=JSON.stringify(useTrace({section:SectionName.NAVBAR_SEARCH}));useEffect(function(){var eventProperties=_objectSpread({total_suggestions:totalSuggestions,query_text:queryText},JSON.parse(trace));if(!isLoading){var tokenSearchResults=tokens.length>0?/*#__PURE__*/_jsx(SearchBarDropdownSection,{hoveredIndex:hoveredIndex,startingIndex:showCollectionsFirst?collections.length:0,setHoveredIndex:setHoveredIndex,toggleOpen:toggleOpen,suggestions:tokens,eventProperties:_objectSpread({suggestion_type:NavBarSearchTypes.TOKEN_SUGGESTION},eventProperties),header:/*#__PURE__*/_jsx(Trans,{id:\"Tokens\"})}):/*#__PURE__*/_jsx(Box,{className:styles.notFoundContainer,children:/*#__PURE__*/_jsx(Trans,{id:\"No tokens found.\"})});var collectionSearchResults=collections.length>0?/*#__PURE__*/_jsx(SearchBarDropdownSection,{hoveredIndex:hoveredIndex,startingIndex:showCollectionsFirst?0:tokens.length,setHoveredIndex:setHoveredIndex,toggleOpen:toggleOpen,suggestions:collections,eventProperties:_objectSpread({suggestion_type:NavBarSearchTypes.COLLECTION_SUGGESTION},eventProperties),header:/*#__PURE__*/_jsx(Trans,{id:\"NFT Collections\"})}):/*#__PURE__*/_jsx(Box,{className:styles.notFoundContainer,children:\"No NFT collections found.\"});var currentState=function currentState(){var _trendingTokens$lengt2;return hasInput?/*#__PURE__*/ // Empty or Up to 8 combined tokens and nfts\n_jsx(Column,{gap:\"20\",children:showCollectionsFirst?/*#__PURE__*/_jsxs(_Fragment,{children:[collectionSearchResults,tokenSearchResults]}):/*#__PURE__*/_jsxs(_Fragment,{children:[tokenSearchResults,collectionSearchResults]})}):/*#__PURE__*/ // Recent Searches, Trending Tokens, Trending Collections\n_jsxs(Column,{gap:\"20\",children:[shortenedHistory.length>0&&/*#__PURE__*/_jsx(SearchBarDropdownSection,{hoveredIndex:hoveredIndex,startingIndex:0,setHoveredIndex:setHoveredIndex,toggleOpen:toggleOpen,suggestions:shortenedHistory,eventProperties:_objectSpread({suggestion_type:NavBarSearchTypes.RECENT_SEARCH},eventProperties),header:/*#__PURE__*/_jsx(Trans,{id:\"Recent searches\"}),headerIcon:/*#__PURE__*/_jsx(ClockIcon,{})}),!isNFTPage&&/*#__PURE__*/_jsx(SearchBarDropdownSection,{hoveredIndex:hoveredIndex,startingIndex:shortenedHistory.length,setHoveredIndex:setHoveredIndex,toggleOpen:toggleOpen,suggestions:trendingTokens,eventProperties:_objectSpread({suggestion_type:NavBarSearchTypes.TOKEN_TRENDING},eventProperties),header:/*#__PURE__*/_jsx(Trans,{id:\"Popular tokens\"}),headerIcon:/*#__PURE__*/_jsx(TrendingArrow,{}),isLoading:trendingTokensAreLoading}),!isTokenPage&&/*#__PURE__*/_jsx(SearchBarDropdownSection,{hoveredIndex:hoveredIndex,startingIndex:shortenedHistory.length+(isNFTPage?0:(_trendingTokens$lengt2=trendingTokens===null||trendingTokens===void 0?void 0:trendingTokens.length)!==null&&_trendingTokens$lengt2!==void 0?_trendingTokens$lengt2:0),setHoveredIndex:setHoveredIndex,toggleOpen:toggleOpen,suggestions:trendingCollections,eventProperties:_objectSpread({suggestion_type:NavBarSearchTypes.COLLECTION_TRENDING},eventProperties),header:/*#__PURE__*/_jsx(Trans,{id:\"Popular NFT collections\"}),headerIcon:/*#__PURE__*/_jsx(TrendingArrow,{}),isLoading:trendingCollectionsAreLoading})]});};setResultsState(currentState);}},[isLoading,tokens,collections,trendingCollections,trendingCollectionsAreLoading,trendingTokens,trendingTokensAreLoading,hoveredIndex,toggleOpen,shortenedHistory,hasInput,isNFTPage,isTokenPage,showCollectionsFirst,queryText,totalSuggestions,trace]);return/*#__PURE__*/_jsx(Box,{className:styles.searchBarDropdownNft,children:/*#__PURE__*/_jsx(Box,{opacity:isLoading?'0.3':'1',transition:\"125\",children:resultsState})});};","map":{"version":3,"names":["useTrace","NavBarSearchTypes","SectionName","useIsNftPage","Box","Column","Row","subheadSmall","useSearchHistory","fetchTrendingCollections","fetchTrendingTokens","formatEthPrice","useEffect","useMemo","useState","useQuery","useLocation","ClockIcon","TrendingArrow","styles","CollectionRow","SkeletonRow","TokenRow","isCollection","suggestion","decimals","undefined","SearchBarDropdownSection","toggleOpen","suggestions","header","headerIcon","hoveredIndex","startingIndex","setHoveredIndex","isLoading","eventProperties","lineHeight","map","index","position","selected_search_result_name","name","selected_search_result_address","address","SearchBarDropdown","tokens","collections","queryText","hasInput","searchHistory","history","updateSearchHistory","updateItem","shortenedHistory","slice","pathname","isNFTPage","isTokenPage","includes","resultsState","setResultsState","volumeType","timePeriod","size","trendingCollectionResults","data","trendingCollectionsAreLoading","trendingCollections","collection","collectionAddress","floorPrice","floor","toString","stats","total_supply","totalSupply","one_day_change","floorChange","floor_price","Array","refetchOnWindowFocus","refetchOnMount","refetchOnReconnect","trendingTokenResults","trendingTokensAreLoading","forEach","trendingTokensLength","trendingTokens","totalSuggestions","length","Math","min","keyDownHandler","event","key","preventDefault","document","addEventListener","removeEventListener","hasVerifiedCollection","some","isVerified","hasVerifiedToken","token","onDefaultList","showCollectionsFirst","trace","JSON","stringify","section","NAVBAR_SEARCH","total_suggestions","query_text","parse","tokenSearchResults","suggestion_type","TOKEN_SUGGESTION","notFoundContainer","collectionSearchResults","COLLECTION_SUGGESTION","currentState","RECENT_SEARCH","TOKEN_TRENDING","COLLECTION_TRENDING","searchBarDropdownNft"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/components/NavBar/SearchBarDropdown.tsx"],"sourcesContent":["import { Trans } from '@lingui/macro'\nimport { useTrace } from '@uniswap/analytics'\nimport { NavBarSearchTypes, SectionName } from '@uniswap/analytics-events'\nimport { useIsNftPage } from 'hooks/useIsNftPage'\nimport { Box } from 'nft/components/Box'\nimport { Column, Row } from 'nft/components/Flex'\nimport { subheadSmall } from 'nft/css/common.css'\nimport { useSearchHistory } from 'nft/hooks'\nimport { fetchTrendingCollections } from 'nft/queries'\nimport { fetchTrendingTokens } from 'nft/queries/genie/TrendingTokensFetcher'\nimport { FungibleToken, GenieCollection, TimePeriod, TrendingCollection } from 'nft/types'\nimport { formatEthPrice } from 'nft/utils/currency'\nimport { ReactNode, useEffect, useMemo, useState } from 'react'\nimport { useQuery } from 'react-query'\nimport { useLocation } from 'react-router-dom'\n\nimport { ClockIcon, TrendingArrow } from '../../nft/components/icons'\nimport * as styles from './SearchBar.css'\nimport { CollectionRow, SkeletonRow, TokenRow } from './SuggestionRow'\n\nfunction isCollection(suggestion: GenieCollection | FungibleToken | TrendingCollection) {\n  return (suggestion as FungibleToken).decimals === undefined\n}\n\ninterface SearchBarDropdownSectionProps {\n  toggleOpen: () => void\n  suggestions: (GenieCollection | FungibleToken)[]\n  header: JSX.Element\n  headerIcon?: JSX.Element\n  hoveredIndex: number | undefined\n  startingIndex: number\n  setHoveredIndex: (index: number | undefined) => void\n  isLoading?: boolean\n  eventProperties: Record<string, unknown>\n}\n\nconst SearchBarDropdownSection = ({\n  toggleOpen,\n  suggestions,\n  header,\n  headerIcon = undefined,\n  hoveredIndex,\n  startingIndex,\n  setHoveredIndex,\n  isLoading,\n  eventProperties,\n}: SearchBarDropdownSectionProps) => {\n  return (\n    <Column gap=\"12\">\n      <Row paddingX=\"16\" paddingY=\"4\" gap=\"8\" color=\"gray300\" className={subheadSmall} style={{ lineHeight: '20px' }}>\n        {headerIcon ? headerIcon : null}\n        <Box>{header}</Box>\n      </Row>\n      <Column gap=\"12\">\n        {suggestions.map((suggestion, index) =>\n          isLoading ? (\n            <SkeletonRow key={index} />\n          ) : isCollection(suggestion) ? (\n            <CollectionRow\n              key={suggestion.address}\n              collection={suggestion as GenieCollection}\n              isHovered={hoveredIndex === index + startingIndex}\n              setHoveredIndex={setHoveredIndex}\n              toggleOpen={toggleOpen}\n              index={index + startingIndex}\n              eventProperties={{\n                position: index + startingIndex,\n                selected_search_result_name: suggestion.name,\n                selected_search_result_address: suggestion.address,\n                ...eventProperties,\n              }}\n            />\n          ) : (\n            <TokenRow\n              key={suggestion.address}\n              token={suggestion as FungibleToken}\n              isHovered={hoveredIndex === index + startingIndex}\n              setHoveredIndex={setHoveredIndex}\n              toggleOpen={toggleOpen}\n              index={index + startingIndex}\n              eventProperties={{\n                position: index + startingIndex,\n                selected_search_result_name: suggestion.name,\n                selected_search_result_address: suggestion.address,\n                ...eventProperties,\n              }}\n            />\n          )\n        )}\n      </Column>\n    </Column>\n  )\n}\n\ninterface SearchBarDropdownProps {\n  toggleOpen: () => void\n  tokens: FungibleToken[]\n  collections: GenieCollection[]\n  queryText: string\n  hasInput: boolean\n  isLoading: boolean\n}\n\nexport const SearchBarDropdown = ({\n  toggleOpen,\n  tokens,\n  collections,\n  queryText,\n  hasInput,\n  isLoading,\n}: SearchBarDropdownProps) => {\n  const [hoveredIndex, setHoveredIndex] = useState<number | undefined>(0)\n  const { history: searchHistory, updateItem: updateSearchHistory } = useSearchHistory()\n  const shortenedHistory = useMemo(() => searchHistory.slice(0, 2), [searchHistory])\n  const { pathname } = useLocation()\n  const isNFTPage = useIsNftPage()\n  const isTokenPage = pathname.includes('/tokens')\n  const [resultsState, setResultsState] = useState<ReactNode>()\n\n  const { data: trendingCollectionResults, isLoading: trendingCollectionsAreLoading } = useQuery(\n    ['trendingCollections', 'eth', 'twenty_four_hours'],\n    () => fetchTrendingCollections({ volumeType: 'eth', timePeriod: 'ONE_DAY' as TimePeriod, size: 3 })\n  )\n\n  const trendingCollections = useMemo(\n    () =>\n      trendingCollectionResults\n        ? trendingCollectionResults\n            .map((collection) => ({\n              ...collection,\n              collectionAddress: collection.address,\n              floorPrice: formatEthPrice(collection.floor?.toString()),\n              stats: {\n                total_supply: collection.totalSupply,\n                one_day_change: collection.floorChange,\n                floor_price: formatEthPrice(collection.floor?.toString()),\n              },\n            }))\n            .slice(0, isNFTPage ? 3 : 2)\n        : [...Array<GenieCollection>(isNFTPage ? 3 : 2)],\n    [isNFTPage, trendingCollectionResults]\n  )\n\n  const { data: trendingTokenResults, isLoading: trendingTokensAreLoading } = useQuery(\n    ['trendingTokens'],\n    () => fetchTrendingTokens(4),\n    {\n      refetchOnWindowFocus: false,\n      refetchOnMount: false,\n      refetchOnReconnect: false,\n    }\n  )\n  useEffect(() => {\n    trendingTokenResults?.forEach(updateSearchHistory)\n  }, [trendingTokenResults, updateSearchHistory])\n\n  const trendingTokensLength = isTokenPage ? 3 : 2\n  const trendingTokens = useMemo(\n    () =>\n      trendingTokenResults\n        ? trendingTokenResults.slice(0, trendingTokensLength)\n        : [...Array<FungibleToken>(trendingTokensLength)],\n    [trendingTokenResults, trendingTokensLength]\n  )\n\n  const totalSuggestions = hasInput\n    ? tokens.length + collections.length\n    : Math.min(shortenedHistory.length, 2) +\n      (isNFTPage || !isTokenPage ? trendingCollections?.length ?? 0 : 0) +\n      (isTokenPage || !isNFTPage ? trendingTokens?.length ?? 0 : 0)\n\n  // Navigate search results via arrow keys\n  useEffect(() => {\n    const keyDownHandler = (event: KeyboardEvent) => {\n      if (event.key === 'ArrowUp') {\n        event.preventDefault()\n        if (!hoveredIndex) {\n          setHoveredIndex(totalSuggestions - 1)\n        } else {\n          setHoveredIndex(hoveredIndex - 1)\n        }\n      } else if (event.key === 'ArrowDown') {\n        event.preventDefault()\n        if (hoveredIndex && hoveredIndex === totalSuggestions - 1) {\n          setHoveredIndex(0)\n        } else {\n          setHoveredIndex((hoveredIndex ?? -1) + 1)\n        }\n      }\n    }\n\n    document.addEventListener('keydown', keyDownHandler)\n\n    return () => {\n      document.removeEventListener('keydown', keyDownHandler)\n    }\n  }, [toggleOpen, hoveredIndex, totalSuggestions])\n\n  const hasVerifiedCollection = collections.some((collection) => collection.isVerified)\n  const hasVerifiedToken = tokens.some((token) => token.onDefaultList)\n  const showCollectionsFirst =\n    (isNFTPage && (hasVerifiedCollection || !hasVerifiedToken)) ||\n    (!isNFTPage && !hasVerifiedToken && hasVerifiedCollection)\n\n  const trace = JSON.stringify(useTrace({ section: SectionName.NAVBAR_SEARCH }))\n\n  useEffect(() => {\n    const eventProperties = { total_suggestions: totalSuggestions, query_text: queryText, ...JSON.parse(trace) }\n    if (!isLoading) {\n      const tokenSearchResults =\n        tokens.length > 0 ? (\n          <SearchBarDropdownSection\n            hoveredIndex={hoveredIndex}\n            startingIndex={showCollectionsFirst ? collections.length : 0}\n            setHoveredIndex={setHoveredIndex}\n            toggleOpen={toggleOpen}\n            suggestions={tokens}\n            eventProperties={{\n              suggestion_type: NavBarSearchTypes.TOKEN_SUGGESTION,\n              ...eventProperties,\n            }}\n            header={<Trans>Tokens</Trans>}\n          />\n        ) : (\n          <Box className={styles.notFoundContainer}>\n            <Trans>No tokens found.</Trans>\n          </Box>\n        )\n\n      const collectionSearchResults =\n        collections.length > 0 ? (\n          <SearchBarDropdownSection\n            hoveredIndex={hoveredIndex}\n            startingIndex={showCollectionsFirst ? 0 : tokens.length}\n            setHoveredIndex={setHoveredIndex}\n            toggleOpen={toggleOpen}\n            suggestions={collections}\n            eventProperties={{\n              suggestion_type: NavBarSearchTypes.COLLECTION_SUGGESTION,\n              ...eventProperties,\n            }}\n            header={<Trans>NFT Collections</Trans>}\n          />\n        ) : (\n          <Box className={styles.notFoundContainer}>No NFT collections found.</Box>\n        )\n\n      const currentState = () =>\n        hasInput ? (\n          // Empty or Up to 8 combined tokens and nfts\n          <Column gap=\"20\">\n            {showCollectionsFirst ? (\n              <>\n                {collectionSearchResults}\n                {tokenSearchResults}\n              </>\n            ) : (\n              <>\n                {tokenSearchResults}\n                {collectionSearchResults}\n              </>\n            )}\n          </Column>\n        ) : (\n          // Recent Searches, Trending Tokens, Trending Collections\n          <Column gap=\"20\">\n            {shortenedHistory.length > 0 && (\n              <SearchBarDropdownSection\n                hoveredIndex={hoveredIndex}\n                startingIndex={0}\n                setHoveredIndex={setHoveredIndex}\n                toggleOpen={toggleOpen}\n                suggestions={shortenedHistory}\n                eventProperties={{\n                  suggestion_type: NavBarSearchTypes.RECENT_SEARCH,\n                  ...eventProperties,\n                }}\n                header={<Trans>Recent searches</Trans>}\n                headerIcon={<ClockIcon />}\n              />\n            )}\n            {!isNFTPage && (\n              <SearchBarDropdownSection\n                hoveredIndex={hoveredIndex}\n                startingIndex={shortenedHistory.length}\n                setHoveredIndex={setHoveredIndex}\n                toggleOpen={toggleOpen}\n                suggestions={trendingTokens}\n                eventProperties={{\n                  suggestion_type: NavBarSearchTypes.TOKEN_TRENDING,\n                  ...eventProperties,\n                }}\n                header={<Trans>Popular tokens</Trans>}\n                headerIcon={<TrendingArrow />}\n                isLoading={trendingTokensAreLoading}\n              />\n            )}\n            {!isTokenPage && (\n              <SearchBarDropdownSection\n                hoveredIndex={hoveredIndex}\n                startingIndex={shortenedHistory.length + (isNFTPage ? 0 : trendingTokens?.length ?? 0)}\n                setHoveredIndex={setHoveredIndex}\n                toggleOpen={toggleOpen}\n                suggestions={trendingCollections as unknown as GenieCollection[]}\n                eventProperties={{\n                  suggestion_type: NavBarSearchTypes.COLLECTION_TRENDING,\n                  ...eventProperties,\n                }}\n                header={<Trans>Popular NFT collections</Trans>}\n                headerIcon={<TrendingArrow />}\n                isLoading={trendingCollectionsAreLoading}\n              />\n            )}\n          </Column>\n        )\n\n      setResultsState(currentState)\n    }\n  }, [\n    isLoading,\n    tokens,\n    collections,\n    trendingCollections,\n    trendingCollectionsAreLoading,\n    trendingTokens,\n    trendingTokensAreLoading,\n    hoveredIndex,\n    toggleOpen,\n    shortenedHistory,\n    hasInput,\n    isNFTPage,\n    isTokenPage,\n    showCollectionsFirst,\n    queryText,\n    totalSuggestions,\n    trace,\n  ])\n\n  return (\n    <Box className={styles.searchBarDropdownNft}>\n      <Box opacity={isLoading ? '0.3' : '1'} transition=\"125\">\n        {resultsState}\n      </Box>\n    </Box>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}