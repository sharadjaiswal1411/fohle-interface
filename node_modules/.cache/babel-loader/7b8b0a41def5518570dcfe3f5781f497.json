{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _1 = __importDefault(require(\"./\"));\nvar utils_1 = require(\"./utils\");\nvar Builder = /** @class */function () {\n  function Builder(src, opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n    this._src = src;\n    this._opts = utils_1.assignDeep({}, _1.default.DefaultOpts, opts);\n  }\n  Builder.prototype.maxColorCount = function (n) {\n    this._opts.colorCount = n;\n    return this;\n  };\n  Builder.prototype.maxDimension = function (d) {\n    this._opts.maxDimension = d;\n    return this;\n  };\n  Builder.prototype.addFilter = function (name) {\n    if (!this._opts.filters) {\n      this._opts.filters = [name];\n    } else {\n      this._opts.filters.push(name);\n    }\n    return this;\n  };\n  Builder.prototype.removeFilter = function (name) {\n    if (this._opts.filters) {\n      var i = this._opts.filters.indexOf(name);\n      if (i > 0) this._opts.filters.splice(i);\n    }\n    return this;\n  };\n  Builder.prototype.clearFilters = function () {\n    this._opts.filters = [];\n    return this;\n  };\n  Builder.prototype.quality = function (q) {\n    this._opts.quality = q;\n    return this;\n  };\n  Builder.prototype.useImageClass = function (imageClass) {\n    this._opts.ImageClass = imageClass;\n    return this;\n  };\n  Builder.prototype.useGenerator = function (generator, options) {\n    if (!this._opts.generators) this._opts.generators = [];\n    this._opts.generators.push(options ? {\n      name: generator,\n      options: options\n    } : generator);\n    return this;\n  };\n  Builder.prototype.useQuantizer = function (quantizer, options) {\n    this._opts.quantizer = options ? {\n      name: quantizer,\n      options: options\n    } : quantizer;\n    return this;\n  };\n  Builder.prototype.build = function () {\n    return new _1.default(this._src, this._opts);\n  };\n  Builder.prototype.getPalette = function (cb) {\n    return this.build().getPalette(cb);\n  };\n  Builder.prototype.getSwatches = function (cb) {\n    return this.build().getPalette(cb);\n  };\n  return Builder;\n}();\nexports.default = Builder;","map":{"version":3,"sources":["../../../../packages/vibrant-core/src/builder.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _1 = __importDefault(require(\"./\"));\nvar utils_1 = require(\"./utils\");\nvar Builder = /** @class */ (function () {\n    function Builder(src, opts) {\n        if (opts === void 0) { opts = {}; }\n        this._src = src;\n        this._opts = utils_1.assignDeep({}, _1.default.DefaultOpts, opts);\n    }\n    Builder.prototype.maxColorCount = function (n) {\n        this._opts.colorCount = n;\n        return this;\n    };\n    Builder.prototype.maxDimension = function (d) {\n        this._opts.maxDimension = d;\n        return this;\n    };\n    Builder.prototype.addFilter = function (name) {\n        if (!this._opts.filters) {\n            this._opts.filters = [name];\n        }\n        else {\n            this._opts.filters.push(name);\n        }\n        return this;\n    };\n    Builder.prototype.removeFilter = function (name) {\n        if (this._opts.filters) {\n            var i = this._opts.filters.indexOf(name);\n            if (i > 0)\n                this._opts.filters.splice(i);\n        }\n        return this;\n    };\n    Builder.prototype.clearFilters = function () {\n        this._opts.filters = [];\n        return this;\n    };\n    Builder.prototype.quality = function (q) {\n        this._opts.quality = q;\n        return this;\n    };\n    Builder.prototype.useImageClass = function (imageClass) {\n        this._opts.ImageClass = imageClass;\n        return this;\n    };\n    Builder.prototype.useGenerator = function (generator, options) {\n        if (!this._opts.generators)\n            this._opts.generators = [];\n        this._opts.generators.push(options ? { name: generator, options: options } : generator);\n        return this;\n    };\n    Builder.prototype.useQuantizer = function (quantizer, options) {\n        this._opts.quantizer = options ? { name: quantizer, options: options } : quantizer;\n        return this;\n    };\n    Builder.prototype.build = function () {\n        return new _1.default(this._src, this._opts);\n    };\n    Builder.prototype.getPalette = function (cb) {\n        return this.build().getPalette(cb);\n    };\n    Builder.prototype.getSwatches = function (cb) {\n        return this.build().getPalette(cb);\n    };\n    return Builder;\n}());\nexports.default = Builder;\n//# sourceMappingURL=builder.js.map"]},"metadata":{},"sourceType":"script"}