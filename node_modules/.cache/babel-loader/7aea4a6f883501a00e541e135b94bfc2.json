{"ast":null,"code":"import _taggedTemplateLiteral from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject;import gql from'graphql-tag';import{useMemo}from'react';import{useCollectionQuery}from'../__generated__/types-and-hooks';gql(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  query Collection($addresses: [String!]!) {\\n    nftCollections(filter: { addresses: $addresses }) {\\n      edges {\\n        cursor\\n        node {\\n          bannerImage {\\n            url\\n          }\\n          collectionId\\n          description\\n          discordUrl\\n          homepageUrl\\n          image {\\n            url\\n          }\\n          instagramName\\n          isVerified\\n          name\\n          numAssets\\n          twitterName\\n          nftContracts {\\n            address\\n            chain\\n            name\\n            standard\\n            symbol\\n            totalSupply\\n          }\\n          traits {\\n            name\\n            values\\n            stats {\\n              name\\n              value\\n              assets\\n              listings\\n            }\\n          }\\n          markets(currencies: ETH) {\\n            floorPrice {\\n              currency\\n              value\\n            }\\n            owners\\n            totalVolume {\\n              value\\n              currency\\n            }\\n            listings {\\n              value\\n            }\\n            volume(duration: DAY) {\\n              value\\n              currency\\n            }\\n            volumePercentChange(duration: DAY) {\\n              value\\n              currency\\n            }\\n            floorPricePercentChange(duration: DAY) {\\n              value\\n              currency\\n            }\\n            marketplaces {\\n              marketplace\\n              listings\\n              floorPrice\\n            }\\n          }\\n        }\\n      }\\n      pageInfo {\\n        endCursor\\n        hasNextPage\\n        hasPreviousPage\\n        startCursor\\n      }\\n    }\\n  }\\n\"])));export function useCollection(address){var _queryData$nftCollect,_queryData$nftCollect2,_queryData$nftCollect3,_queryCollection$mark;var _useCollectionQuery=useCollectionQuery({variables:{addresses:address}}),queryData=_useCollectionQuery.data,loading=_useCollectionQuery.loading;var queryCollection=queryData===null||queryData===void 0?void 0:(_queryData$nftCollect=queryData.nftCollections)===null||_queryData$nftCollect===void 0?void 0:(_queryData$nftCollect2=_queryData$nftCollect.edges)===null||_queryData$nftCollect2===void 0?void 0:(_queryData$nftCollect3=_queryData$nftCollect2[0])===null||_queryData$nftCollect3===void 0?void 0:_queryData$nftCollect3.node;var market=queryCollection===null||queryCollection===void 0?void 0:(_queryCollection$mark=queryCollection.markets)===null||_queryCollection$mark===void 0?void 0:_queryCollection$mark[0];var traits=useMemo(function(){return{};},[]);if(queryCollection===null||queryCollection===void 0?void 0:queryCollection.traits){queryCollection===null||queryCollection===void 0?void 0:queryCollection.traits.forEach(function(trait){if(trait.name&&trait.stats){traits[trait.name]=trait.stats.map(function(stats){return{trait_type:stats.name,trait_value:stats.value,trait_count:stats.assets};});}});}return useMemo(function(){var _queryCollection$nftC,_queryCollection$nftC2,_queryCollection$bann,_market$floorPrice,_market$volume,_market$volumePercent,_market$floorPricePer,_queryCollection$bann2,_market$listings,_market$totalVolume,_market$marketplaces,_queryCollection$imag,_queryCollection$imag2;return{data:{address:address,isVerified:queryCollection===null||queryCollection===void 0?void 0:queryCollection.isVerified,name:queryCollection===null||queryCollection===void 0?void 0:queryCollection.name,description:queryCollection===null||queryCollection===void 0?void 0:queryCollection.description,standard:queryCollection===null||queryCollection===void 0?void 0:(_queryCollection$nftC=queryCollection.nftContracts)===null||_queryCollection$nftC===void 0?void 0:(_queryCollection$nftC2=_queryCollection$nftC[0])===null||_queryCollection$nftC2===void 0?void 0:_queryCollection$nftC2.standard,bannerImageUrl:queryCollection===null||queryCollection===void 0?void 0:(_queryCollection$bann=queryCollection.bannerImage)===null||_queryCollection$bann===void 0?void 0:_queryCollection$bann.url,stats:{num_owners:market===null||market===void 0?void 0:market.owners,floor_price:market===null||market===void 0?void 0:(_market$floorPrice=market.floorPrice)===null||_market$floorPrice===void 0?void 0:_market$floorPrice.value,one_day_volume:market===null||market===void 0?void 0:(_market$volume=market.volume)===null||_market$volume===void 0?void 0:_market$volume.value,one_day_change:market===null||market===void 0?void 0:(_market$volumePercent=market.volumePercentChange)===null||_market$volumePercent===void 0?void 0:_market$volumePercent.value,one_day_floor_change:market===null||market===void 0?void 0:(_market$floorPricePer=market.floorPricePercentChange)===null||_market$floorPricePer===void 0?void 0:_market$floorPricePer.value,banner_image_url:queryCollection===null||queryCollection===void 0?void 0:(_queryCollection$bann2=queryCollection.bannerImage)===null||_queryCollection$bann2===void 0?void 0:_queryCollection$bann2.url,total_supply:queryCollection===null||queryCollection===void 0?void 0:queryCollection.numAssets,total_listings:market===null||market===void 0?void 0:(_market$listings=market.listings)===null||_market$listings===void 0?void 0:_market$listings.value,total_volume:market===null||market===void 0?void 0:(_market$totalVolume=market.totalVolume)===null||_market$totalVolume===void 0?void 0:_market$totalVolume.value},traits:traits,marketplaceCount:market===null||market===void 0?void 0:(_market$marketplaces=market.marketplaces)===null||_market$marketplaces===void 0?void 0:_market$marketplaces.map(function(market){var _market$marketplace$t,_market$marketplace,_market$listings2,_market$floorPrice2;return{marketplace:(_market$marketplace$t=(_market$marketplace=market.marketplace)===null||_market$marketplace===void 0?void 0:_market$marketplace.toLowerCase())!==null&&_market$marketplace$t!==void 0?_market$marketplace$t:'',count:(_market$listings2=market.listings)!==null&&_market$listings2!==void 0?_market$listings2:0,floorPrice:(_market$floorPrice2=market.floorPrice)!==null&&_market$floorPrice2!==void 0?_market$floorPrice2:0};}),imageUrl:(_queryCollection$imag=queryCollection===null||queryCollection===void 0?void 0:(_queryCollection$imag2=queryCollection.image)===null||_queryCollection$imag2===void 0?void 0:_queryCollection$imag2.url)!==null&&_queryCollection$imag!==void 0?_queryCollection$imag:'',twitterUrl:queryCollection===null||queryCollection===void 0?void 0:queryCollection.twitterName,instagram:queryCollection===null||queryCollection===void 0?void 0:queryCollection.instagramName,discordUrl:queryCollection===null||queryCollection===void 0?void 0:queryCollection.discordUrl,externalUrl:queryCollection===null||queryCollection===void 0?void 0:queryCollection.homepageUrl,rarityVerified:false// TODO update when backend supports\n// isFoundation: boolean, // TODO ask backend to add\n},loading:loading};},[address,loading,market,queryCollection,traits]);}","map":{"version":3,"names":["gql","useMemo","useCollectionQuery","useCollection","address","variables","addresses","queryData","data","loading","queryCollection","nftCollections","edges","node","market","markets","traits","forEach","trait","name","stats","map","trait_type","trait_value","value","trait_count","assets","isVerified","description","standard","nftContracts","bannerImageUrl","bannerImage","url","num_owners","owners","floor_price","floorPrice","one_day_volume","volume","one_day_change","volumePercentChange","one_day_floor_change","floorPricePercentChange","banner_image_url","total_supply","numAssets","total_listings","listings","total_volume","totalVolume","marketplaceCount","marketplaces","marketplace","toLowerCase","count","imageUrl","image","twitterUrl","twitterName","instagram","instagramName","discordUrl","externalUrl","homepageUrl","rarityVerified"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/graphql/data/nft/Collection.ts"],"sourcesContent":["import gql from 'graphql-tag'\nimport { GenieCollection, Trait } from 'nft/types'\nimport { useMemo } from 'react'\n\nimport { NftCollection, useCollectionQuery } from '../__generated__/types-and-hooks'\n\ngql`\n  query Collection($addresses: [String!]!) {\n    nftCollections(filter: { addresses: $addresses }) {\n      edges {\n        cursor\n        node {\n          bannerImage {\n            url\n          }\n          collectionId\n          description\n          discordUrl\n          homepageUrl\n          image {\n            url\n          }\n          instagramName\n          isVerified\n          name\n          numAssets\n          twitterName\n          nftContracts {\n            address\n            chain\n            name\n            standard\n            symbol\n            totalSupply\n          }\n          traits {\n            name\n            values\n            stats {\n              name\n              value\n              assets\n              listings\n            }\n          }\n          markets(currencies: ETH) {\n            floorPrice {\n              currency\n              value\n            }\n            owners\n            totalVolume {\n              value\n              currency\n            }\n            listings {\n              value\n            }\n            volume(duration: DAY) {\n              value\n              currency\n            }\n            volumePercentChange(duration: DAY) {\n              value\n              currency\n            }\n            floorPricePercentChange(duration: DAY) {\n              value\n              currency\n            }\n            marketplaces {\n              marketplace\n              listings\n              floorPrice\n            }\n          }\n        }\n      }\n      pageInfo {\n        endCursor\n        hasNextPage\n        hasPreviousPage\n        startCursor\n      }\n    }\n  }\n`\n\ninterface useCollectionReturnProps {\n  data: GenieCollection\n  loading: boolean\n}\n\nexport function useCollection(address: string): useCollectionReturnProps {\n  const { data: queryData, loading } = useCollectionQuery({\n    variables: {\n      addresses: address,\n    },\n  })\n\n  const queryCollection = queryData?.nftCollections?.edges?.[0]?.node as NonNullable<NftCollection>\n  const market = queryCollection?.markets?.[0]\n  const traits = useMemo(() => {\n    return {} as Record<string, Trait[]>\n  }, [])\n  if (queryCollection?.traits) {\n    queryCollection?.traits.forEach((trait) => {\n      if (trait.name && trait.stats) {\n        traits[trait.name] = trait.stats.map((stats) => {\n          return {\n            trait_type: stats.name,\n            trait_value: stats.value,\n            trait_count: stats.assets,\n          } as Trait\n        })\n      }\n    })\n  }\n  return useMemo(() => {\n    return {\n      data: {\n        address,\n        isVerified: queryCollection?.isVerified,\n        name: queryCollection?.name,\n        description: queryCollection?.description,\n        standard: queryCollection?.nftContracts?.[0]?.standard,\n        bannerImageUrl: queryCollection?.bannerImage?.url,\n        stats: {\n          num_owners: market?.owners,\n          floor_price: market?.floorPrice?.value,\n          one_day_volume: market?.volume?.value,\n          one_day_change: market?.volumePercentChange?.value,\n          one_day_floor_change: market?.floorPricePercentChange?.value,\n          banner_image_url: queryCollection?.bannerImage?.url,\n          total_supply: queryCollection?.numAssets,\n          total_listings: market?.listings?.value,\n          total_volume: market?.totalVolume?.value,\n        },\n        traits,\n        marketplaceCount: market?.marketplaces?.map((market) => {\n          return {\n            marketplace: market.marketplace?.toLowerCase() ?? '',\n            count: market.listings ?? 0,\n            floorPrice: market.floorPrice ?? 0,\n          }\n        }),\n        imageUrl: queryCollection?.image?.url ?? '',\n        twitterUrl: queryCollection?.twitterName,\n        instagram: queryCollection?.instagramName,\n        discordUrl: queryCollection?.discordUrl,\n        externalUrl: queryCollection?.homepageUrl,\n        rarityVerified: false, // TODO update when backend supports\n        // isFoundation: boolean, // TODO ask backend to add\n      },\n      loading,\n    }\n  }, [address, loading, market, queryCollection, traits])\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}