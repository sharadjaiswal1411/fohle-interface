{"ast":null,"code":"import _slicedToArray from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectSpread from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import{useTheme as _useTheme}from\"styled-components\";import _styled from\"styled-components\";import{Trans}from\"@lingui/react\";import{AxisBottom}from'@visx/axis';import{localPoint}from'@visx/event';import{GlyphCircle}from'@visx/glyph';import{Line}from'@visx/shape';import AnimatedInLineChart from'components/Charts/AnimatedInLineChart';import FadedInLineChart from'components/Charts/FadeInLineChart';import{bisect,curveCardinal,scaleLinear,timeDay,timeHour,timeMinute,timeMonth}from'd3';import{TimePeriod}from'graphql/data/util';import{useActiveLocale}from'hooks/useActiveLocale';import{useCallback,useEffect,useMemo,useState}from'react';import{ArrowDownRight,ArrowUpRight,TrendingUp}from'react-feather';import{ThemedText}from'theme';import{textFadeIn}from'theme/styles';import{dayHourFormatter,hourFormatter,monthDayFormatter,monthTickFormatter,monthYearDayFormatter,weekFormatter}from'utils/formatChartTimes';import{formatDollar}from'utils/formatNumbers';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DATA_EMPTY={value:0,timestamp:0};export function getPriceBounds(pricePoints){var prices=pricePoints.map(function(x){return x.value;});var min=Math.min.apply(Math,_toConsumableArray(prices));var max=Math.max.apply(Math,_toConsumableArray(prices));return[min,max];}var StyledUpArrow=_styled(ArrowUpRight).withConfig({componentId:\"sc-1nu6e54-0\"})([\"color:\",\";\"],function(_ref){var theme=_ref.theme;return theme.accentSuccess;});var StyledDownArrow=_styled(ArrowDownRight).withConfig({componentId:\"sc-1nu6e54-1\"})([\"color:\",\";\"],function(_ref2){var theme=_ref2.theme;return theme.accentFailure;});function calculateDelta(start,current){return(current/start-1)*100;}export function getDeltaArrow(delta){var iconSize=arguments.length>1&&arguments[1]!==undefined?arguments[1]:20;// Null-check not including zero\nif(delta===null||delta===undefined){return null;}else if(Math.sign(delta)<0){return/*#__PURE__*/_jsx(StyledDownArrow,{size:iconSize,\"aria-label\":\"down\"},\"arrow-down\");}return/*#__PURE__*/_jsx(StyledUpArrow,{size:iconSize,\"aria-label\":\"up\"},\"arrow-up\");}export function formatDelta(delta){// Null-check not including zero\nif(delta===null||delta===undefined||delta===Infinity||isNaN(delta)){return'-';}var formattedDelta=Math.abs(delta).toFixed(2)+'%';return formattedDelta;}export var DeltaText=_styled.span.withConfig({componentId:\"sc-1nu6e54-2\"})([\"color:\",\";\"],function(_ref3){var theme=_ref3.theme,delta=_ref3.delta;return delta!==undefined?Math.sign(delta)<0?theme.accentFailure:theme.accentSuccess:theme.textPrimary;});var ChartHeader=_styled.div.withConfig({componentId:\"sc-1nu6e54-3\"})([\"position:absolute;\",\";animation-duration:\",\";\"],textFadeIn,function(_ref4){var theme=_ref4.theme;return theme.transition.duration.medium;});export var TokenPrice=_styled.span.withConfig({componentId:\"sc-1nu6e54-4\"})([\"font-size:36px;line-height:44px;\"]);var MissingPrice=_styled(TokenPrice).withConfig({componentId:\"sc-1nu6e54-5\"})([\"font-size:24px;line-height:44px;color:\",\";\"],function(_ref5){var theme=_ref5.theme;return theme.textTertiary;});var DeltaContainer=_styled.div.withConfig({componentId:\"sc-1nu6e54-6\"})([\"height:16px;display:flex;align-items:center;margin-top:4px;\"]);export var ArrowCell=_styled.div.withConfig({componentId:\"sc-1nu6e54-7\"})([\"padding-right:3px;display:flex;\"]);function fixChart(prices){if(!prices)return{prices:null,blanks:[]};var fixedChart=[];var blanks=[];var lastValue=undefined;for(var i=0;i<prices.length;i++){if(prices[i].value!==0){if(fixedChart.length===0&&i!==0){blanks.push([_objectSpread(_objectSpread({},prices[0]),{},{value:prices[i].value}),prices[i]]);}lastValue=prices[i];fixedChart.push(prices[i]);}}if(lastValue&&lastValue!==prices[prices.length-1]){blanks.push([lastValue,_objectSpread(_objectSpread({},prices[prices.length-1]),{},{value:lastValue.value})]);}return{prices:fixedChart,blanks:blanks};}var margin={top:100,bottom:48,crosshair:72};var timeOptionsHeight=44;export function PriceChart(_ref6){var _originalPrices$,_originalPrices;var width=_ref6.width,height=_ref6.height,originalPrices=_ref6.prices,timePeriod=_ref6.timePeriod;var locale=useActiveLocale();var theme=_useTheme();var _useMemo=useMemo(function(){return originalPrices&&originalPrices.length>0?fixChart(originalPrices):{prices:null,blanks:[]};},[originalPrices]),prices=_useMemo.prices,blanks=_useMemo.blanks;var chartAvailable=!!prices&&prices.length>0;var missingPricesMessage=!chartAvailable?(prices===null||prices===void 0?void 0:prices.length)===0?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Trans,{id:\"Missing price data due to recently low trading volume on Uniswap v3\"})}):/*#__PURE__*/_jsx(Trans,{id:\"Missing chart data\"}):null;// first price point on the x-axis of the current time period's chart\nvar startingPrice=(_originalPrices$=originalPrices===null||originalPrices===void 0?void 0:originalPrices[0])!==null&&_originalPrices$!==void 0?_originalPrices$:DATA_EMPTY;// last price point on the x-axis of the current time period's chart\nvar endingPrice=(_originalPrices=originalPrices===null||originalPrices===void 0?void 0:originalPrices[originalPrices.length-1])!==null&&_originalPrices!==void 0?_originalPrices:DATA_EMPTY;var _useState=useState(startingPrice),_useState2=_slicedToArray(_useState,2),displayPrice=_useState2[0],setDisplayPrice=_useState2[1];// set display price to ending price when prices have changed.\nuseEffect(function(){setDisplayPrice(endingPrice);},[prices,endingPrice]);var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),crosshair=_useState4[0],setCrosshair=_useState4[1];var graphHeight=height-timeOptionsHeight>0?height-timeOptionsHeight:0;var graphInnerHeight=graphHeight-margin.top-margin.bottom>0?graphHeight-margin.top-margin.bottom:0;// Defining scales\n// x scale\nvar timeScale=useMemo(function(){return scaleLinear().domain([startingPrice.timestamp,endingPrice.timestamp]).range([0,width]);},[startingPrice,endingPrice,width]);// y scale\nvar rdScale=useMemo(function(){return scaleLinear().domain(getPriceBounds(originalPrices!==null&&originalPrices!==void 0?originalPrices:[])).range([graphInnerHeight,0]);},[originalPrices,graphInnerHeight]);function tickFormat(timePeriod,locale){var _timeMinute$every;var offsetTime=(endingPrice.timestamp.valueOf()-startingPrice.timestamp.valueOf())/24;var startDateWithOffset=new Date((startingPrice.timestamp.valueOf()+offsetTime)*1000);var endDateWithOffset=new Date((endingPrice.timestamp.valueOf()-offsetTime)*1000);switch(timePeriod){case TimePeriod.HOUR:return[hourFormatter(locale),dayHourFormatter(locale),((_timeMinute$every=timeMinute.every(5))!==null&&_timeMinute$every!==void 0?_timeMinute$every:timeMinute).range(startDateWithOffset,endDateWithOffset,2).map(function(x){return x.valueOf()/1000;})];case TimePeriod.DAY:return[hourFormatter(locale),dayHourFormatter(locale),timeHour.range(startDateWithOffset,endDateWithOffset,4).map(function(x){return x.valueOf()/1000;})];case TimePeriod.WEEK:return[weekFormatter(locale),dayHourFormatter(locale),timeDay.range(startDateWithOffset,endDateWithOffset,1).map(function(x){return x.valueOf()/1000;})];case TimePeriod.MONTH:return[monthDayFormatter(locale),dayHourFormatter(locale),timeDay.range(startDateWithOffset,endDateWithOffset,7).map(function(x){return x.valueOf()/1000;})];case TimePeriod.YEAR:return[monthTickFormatter(locale),monthYearDayFormatter(locale),timeMonth.range(startDateWithOffset,endDateWithOffset,2).map(function(x){return x.valueOf()/1000;})];}}var handleHover=useCallback(function(event){if(!prices)return;var _ref7=localPoint(event)||{x:0},x=_ref7.x;var x0=timeScale.invert(x);// get timestamp from the scalexw\nvar index=bisect(prices.map(function(x){return x.timestamp;}),x0,1);var d0=prices[index-1];var d1=prices[index];var pricePoint=d0;var hasPreviousData=d1&&d1.timestamp;if(hasPreviousData){pricePoint=x0.valueOf()-d0.timestamp.valueOf()>d1.timestamp.valueOf()-x0.valueOf()?d1:d0;}if(pricePoint){setCrosshair(timeScale(pricePoint.timestamp));setDisplayPrice(pricePoint);}},[timeScale,prices]);var resetDisplay=useCallback(function(){setCrosshair(null);setDisplayPrice(endingPrice);},[setCrosshair,setDisplayPrice,endingPrice]);var _tickFormat=tickFormat(timePeriod,locale),_tickFormat2=_slicedToArray(_tickFormat,3),tickFormatter=_tickFormat2[0],crosshairDateFormatter=_tickFormat2[1],ticks=_tickFormat2[2];var delta=calculateDelta(startingPrice.value,displayPrice.value);var formattedDelta=formatDelta(delta);var arrow=getDeltaArrow(delta);var crosshairEdgeMax=width*0.85;var crosshairAtEdge=!!crosshair&&crosshair>crosshairEdgeMax;/*\n   * Default curve doesn't look good for the HOUR chart.\n   * Higher values make the curve more rigid, lower values smooth the curve but make it less \"sticky\" to real data points,\n   * making it unacceptable for shorter durations / smaller variances.\n   */var curveTension=timePeriod===TimePeriod.HOUR?1:0.9;var getX=useMemo(function(){return function(p){return timeScale(p.timestamp);};},[timeScale]);var getY=useMemo(function(){return function(p){return rdScale(p.value);};},[rdScale]);var curve=useMemo(function(){return curveCardinal.tension(curveTension);},[curveTension]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ChartHeader,{children:displayPrice.value?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(TokenPrice,{children:formatDollar({num:displayPrice.value,isPrice:true})}),/*#__PURE__*/_jsxs(DeltaContainer,{children:[formattedDelta,/*#__PURE__*/_jsx(ArrowCell,{children:arrow})]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(MissingPrice,{children:\"Price Unavailable\"}),/*#__PURE__*/_jsx(ThemedText.Caption,{style:{color:theme.textTertiary},children:missingPricesMessage})]})}),!chartAvailable?/*#__PURE__*/_jsx(MissingPriceChart,{width:width,height:graphHeight,message:!!displayPrice.value&&missingPricesMessage}):/*#__PURE__*/_jsxs(\"svg\",{width:width,height:graphHeight,style:{minWidth:'100%'},children:[/*#__PURE__*/_jsx(AnimatedInLineChart,{data:prices,getX:getX,getY:getY,marginTop:margin.top,curve:curve,strokeWidth:2}),blanks.map(function(blank,index){return/*#__PURE__*/_jsx(FadedInLineChart,{data:blank,getX:getX,getY:getY,marginTop:margin.top,curve:curve,strokeWidth:2,color:theme.textTertiary,dashed:true},index);}),crosshair!==null?/*#__PURE__*/_jsxs(\"g\",{children:[/*#__PURE__*/_jsx(AxisBottom,{scale:timeScale,stroke:theme.backgroundOutline,tickFormat:tickFormatter,tickStroke:theme.backgroundOutline,tickLength:4,hideTicks:true,tickTransform:\"translate(0 -5)\",tickValues:ticks,top:graphHeight-1,tickLabelProps:function tickLabelProps(){return{fill:theme.textSecondary,fontSize:12,textAnchor:'middle',transform:'translate(0 -24)'};}}),/*#__PURE__*/_jsx(\"text\",{x:crosshair+(crosshairAtEdge?-4:4),y:margin.crosshair+10,textAnchor:crosshairAtEdge?'end':'start',fontSize:12,fill:theme.textSecondary,children:crosshairDateFormatter(displayPrice.timestamp)}),/*#__PURE__*/_jsx(Line,{from:{x:crosshair,y:margin.crosshair},to:{x:crosshair,y:graphHeight},stroke:theme.backgroundOutline,strokeWidth:1,pointerEvents:\"none\",strokeDasharray:\"4,4\"}),/*#__PURE__*/_jsx(GlyphCircle,{left:crosshair,top:rdScale(displayPrice.value)+margin.top,size:50,fill:theme.accentAction,stroke:theme.backgroundOutline,strokeWidth:0.5})]}):/*#__PURE__*/_jsx(AxisBottom,{hideAxisLine:true,scale:timeScale,stroke:theme.backgroundOutline,top:graphHeight-1,hideTicks:true}),!width&&/*#__PURE__*/ // Ensures an axis is drawn even if the width is not yet initialized.\n_jsx(\"line\",{x1:0,y1:graphHeight-1,x2:\"100%\",y2:graphHeight-1,fill:\"transparent\",shapeRendering:\"crispEdges\",stroke:theme.backgroundOutline,strokeWidth:1}),/*#__PURE__*/_jsx(\"rect\",{x:0,y:0,width:width,height:graphHeight,fill:\"transparent\",onTouchStart:handleHover,onTouchMove:handleHover,onMouseMove:handleHover,onMouseLeave:resetDisplay})]})]});}var StyledMissingChart=_styled.svg.withConfig({componentId:\"sc-1nu6e54-8\"})([\"text{font-size:12px;font-weight:400;}\"]);var chartBottomPadding=15;function MissingPriceChart(_ref8){var width=_ref8.width,height=_ref8.height,message=_ref8.message;var theme=_useTheme();var midPoint=height/2+45;return/*#__PURE__*/_jsxs(StyledMissingChart,{width:width,height:height,style:{minWidth:'100%'},children:[/*#__PURE__*/_jsx(\"path\",{d:\"M 0 \".concat(midPoint,\" Q 104 \").concat(midPoint-70,\", 208 \").concat(midPoint,\" T 416 \").concat(midPoint,\"\\n          M 416 \").concat(midPoint,\" Q 520 \").concat(midPoint-70,\", 624 \").concat(midPoint,\" T 832 \").concat(midPoint),stroke:theme.backgroundOutline,fill:\"transparent\",strokeWidth:\"2\"}),message&&/*#__PURE__*/_jsx(TrendingUp,{stroke:theme.textTertiary,x:0,size:12,y:height-chartBottomPadding-10}),/*#__PURE__*/_jsx(\"text\",{y:height-chartBottomPadding,x:\"20\",fill:theme.textTertiary,children:message})]});}","map":{"version":3,"names":["AxisBottom","localPoint","GlyphCircle","Line","AnimatedInLineChart","FadedInLineChart","bisect","curveCardinal","scaleLinear","timeDay","timeHour","timeMinute","timeMonth","TimePeriod","useActiveLocale","useCallback","useEffect","useMemo","useState","ArrowDownRight","ArrowUpRight","TrendingUp","ThemedText","textFadeIn","dayHourFormatter","hourFormatter","monthDayFormatter","monthTickFormatter","monthYearDayFormatter","weekFormatter","formatDollar","DATA_EMPTY","value","timestamp","getPriceBounds","pricePoints","prices","map","x","min","Math","max","StyledUpArrow","styled","theme","accentSuccess","StyledDownArrow","accentFailure","calculateDelta","start","current","getDeltaArrow","delta","iconSize","undefined","sign","formatDelta","Infinity","isNaN","formattedDelta","abs","toFixed","DeltaText","span","textPrimary","ChartHeader","div","transition","duration","medium","TokenPrice","MissingPrice","textTertiary","DeltaContainer","ArrowCell","fixChart","blanks","fixedChart","lastValue","i","length","push","margin","top","bottom","crosshair","timeOptionsHeight","PriceChart","width","height","originalPrices","timePeriod","locale","useTheme","chartAvailable","missingPricesMessage","startingPrice","endingPrice","displayPrice","setDisplayPrice","setCrosshair","graphHeight","graphInnerHeight","timeScale","domain","range","rdScale","tickFormat","offsetTime","valueOf","startDateWithOffset","Date","endDateWithOffset","HOUR","every","DAY","WEEK","MONTH","YEAR","handleHover","event","x0","invert","index","d0","d1","pricePoint","hasPreviousData","resetDisplay","tickFormatter","crosshairDateFormatter","ticks","arrow","crosshairEdgeMax","crosshairAtEdge","curveTension","getX","p","getY","curve","tension","num","isPrice","color","minWidth","blank","backgroundOutline","fill","textSecondary","fontSize","textAnchor","transform","y","accentAction","StyledMissingChart","svg","chartBottomPadding","MissingPriceChart","message","midPoint"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/components/Tokens/TokenDetails/PriceChart.tsx"],"sourcesContent":["import { Trans } from '@lingui/macro'\nimport { AxisBottom, TickFormatter } from '@visx/axis'\nimport { localPoint } from '@visx/event'\nimport { EventType } from '@visx/event/lib/types'\nimport { GlyphCircle } from '@visx/glyph'\nimport { Line } from '@visx/shape'\nimport AnimatedInLineChart from 'components/Charts/AnimatedInLineChart'\nimport FadedInLineChart from 'components/Charts/FadeInLineChart'\nimport { bisect, curveCardinal, NumberValue, scaleLinear, timeDay, timeHour, timeMinute, timeMonth } from 'd3'\nimport { PricePoint } from 'graphql/data/util'\nimport { TimePeriod } from 'graphql/data/util'\nimport { useActiveLocale } from 'hooks/useActiveLocale'\nimport { ReactNode, useCallback, useEffect, useMemo, useState } from 'react'\nimport { ArrowDownRight, ArrowUpRight, TrendingUp } from 'react-feather'\nimport styled, { useTheme } from 'styled-components/macro'\nimport { ThemedText } from 'theme'\nimport { textFadeIn } from 'theme/styles'\nimport {\n  dayHourFormatter,\n  hourFormatter,\n  monthDayFormatter,\n  monthTickFormatter,\n  monthYearDayFormatter,\n  weekFormatter,\n} from 'utils/formatChartTimes'\nimport { formatDollar } from 'utils/formatNumbers'\n\nconst DATA_EMPTY = { value: 0, timestamp: 0 }\n\nexport function getPriceBounds(pricePoints: PricePoint[]): [number, number] {\n  const prices = pricePoints.map((x) => x.value)\n  const min = Math.min(...prices)\n  const max = Math.max(...prices)\n  return [min, max]\n}\n\nconst StyledUpArrow = styled(ArrowUpRight)`\n  color: ${({ theme }) => theme.accentSuccess};\n`\nconst StyledDownArrow = styled(ArrowDownRight)`\n  color: ${({ theme }) => theme.accentFailure};\n`\n\nfunction calculateDelta(start: number, current: number) {\n  return (current / start - 1) * 100\n}\n\nexport function getDeltaArrow(delta: number | null | undefined, iconSize = 20) {\n  // Null-check not including zero\n  if (delta === null || delta === undefined) {\n    return null\n  } else if (Math.sign(delta) < 0) {\n    return <StyledDownArrow size={iconSize} key=\"arrow-down\" aria-label=\"down\" />\n  }\n  return <StyledUpArrow size={iconSize} key=\"arrow-up\" aria-label=\"up\" />\n}\n\nexport function formatDelta(delta: number | null | undefined) {\n  // Null-check not including zero\n  if (delta === null || delta === undefined || delta === Infinity || isNaN(delta)) {\n    return '-'\n  }\n  const formattedDelta = Math.abs(delta).toFixed(2) + '%'\n  return formattedDelta\n}\n\nexport const DeltaText = styled.span<{ delta: number | undefined }>`\n  color: ${({ theme, delta }) =>\n    delta !== undefined ? (Math.sign(delta) < 0 ? theme.accentFailure : theme.accentSuccess) : theme.textPrimary};\n`\n\nconst ChartHeader = styled.div`\n  position: absolute;\n  ${textFadeIn};\n  animation-duration: ${({ theme }) => theme.transition.duration.medium};\n`\nexport const TokenPrice = styled.span`\n  font-size: 36px;\n  line-height: 44px;\n`\nconst MissingPrice = styled(TokenPrice)`\n  font-size: 24px;\n  line-height: 44px;\n  color: ${({ theme }) => theme.textTertiary};\n`\n\nconst DeltaContainer = styled.div`\n  height: 16px;\n  display: flex;\n  align-items: center;\n  margin-top: 4px;\n`\nexport const ArrowCell = styled.div`\n  padding-right: 3px;\n  display: flex;\n`\n\nfunction fixChart(prices: PricePoint[] | undefined | null) {\n  if (!prices) return { prices: null, blanks: [] }\n\n  const fixedChart: PricePoint[] = []\n  const blanks: PricePoint[][] = []\n  let lastValue: PricePoint | undefined = undefined\n  for (let i = 0; i < prices.length; i++) {\n    if (prices[i].value !== 0) {\n      if (fixedChart.length === 0 && i !== 0) {\n        blanks.push([{ ...prices[0], value: prices[i].value }, prices[i]])\n      }\n      lastValue = prices[i]\n      fixedChart.push(prices[i])\n    }\n  }\n\n  if (lastValue && lastValue !== prices[prices.length - 1]) {\n    blanks.push([lastValue, { ...prices[prices.length - 1], value: lastValue.value }])\n  }\n\n  return { prices: fixedChart, blanks }\n}\n\nconst margin = { top: 100, bottom: 48, crosshair: 72 }\nconst timeOptionsHeight = 44\n\ninterface PriceChartProps {\n  width: number\n  height: number\n  prices: PricePoint[] | undefined | null\n  timePeriod: TimePeriod\n}\n\nexport function PriceChart({ width, height, prices: originalPrices, timePeriod }: PriceChartProps) {\n  const locale = useActiveLocale()\n  const theme = useTheme()\n\n  const { prices, blanks } = useMemo(\n    () => (originalPrices && originalPrices.length > 0 ? fixChart(originalPrices) : { prices: null, blanks: [] }),\n    [originalPrices]\n  )\n\n  const chartAvailable = !!prices && prices.length > 0\n  const missingPricesMessage = !chartAvailable ? (\n    prices?.length === 0 ? (\n      <>\n        <Trans>Missing price data due to recently low trading volume on Uniswap v3</Trans>\n      </>\n    ) : (\n      <Trans>Missing chart data</Trans>\n    )\n  ) : null\n\n  // first price point on the x-axis of the current time period's chart\n  const startingPrice = originalPrices?.[0] ?? DATA_EMPTY\n  // last price point on the x-axis of the current time period's chart\n  const endingPrice = originalPrices?.[originalPrices.length - 1] ?? DATA_EMPTY\n  const [displayPrice, setDisplayPrice] = useState(startingPrice)\n\n  // set display price to ending price when prices have changed.\n  useEffect(() => {\n    setDisplayPrice(endingPrice)\n  }, [prices, endingPrice])\n  const [crosshair, setCrosshair] = useState<number | null>(null)\n\n  const graphHeight = height - timeOptionsHeight > 0 ? height - timeOptionsHeight : 0\n  const graphInnerHeight = graphHeight - margin.top - margin.bottom > 0 ? graphHeight - margin.top - margin.bottom : 0\n\n  // Defining scales\n  // x scale\n  const timeScale = useMemo(\n    () => scaleLinear().domain([startingPrice.timestamp, endingPrice.timestamp]).range([0, width]),\n    [startingPrice, endingPrice, width]\n  )\n  // y scale\n  const rdScale = useMemo(\n    () =>\n      scaleLinear()\n        .domain(getPriceBounds(originalPrices ?? []))\n        .range([graphInnerHeight, 0]),\n    [originalPrices, graphInnerHeight]\n  )\n\n  function tickFormat(\n    timePeriod: TimePeriod,\n    locale: string\n  ): [TickFormatter<NumberValue>, (v: number) => string, NumberValue[]] {\n    const offsetTime = (endingPrice.timestamp.valueOf() - startingPrice.timestamp.valueOf()) / 24\n    const startDateWithOffset = new Date((startingPrice.timestamp.valueOf() + offsetTime) * 1000)\n    const endDateWithOffset = new Date((endingPrice.timestamp.valueOf() - offsetTime) * 1000)\n    switch (timePeriod) {\n      case TimePeriod.HOUR:\n        return [\n          hourFormatter(locale),\n          dayHourFormatter(locale),\n          (timeMinute.every(5) ?? timeMinute)\n            .range(startDateWithOffset, endDateWithOffset, 2)\n            .map((x) => x.valueOf() / 1000),\n        ]\n      case TimePeriod.DAY:\n        return [\n          hourFormatter(locale),\n          dayHourFormatter(locale),\n          timeHour.range(startDateWithOffset, endDateWithOffset, 4).map((x) => x.valueOf() / 1000),\n        ]\n      case TimePeriod.WEEK:\n        return [\n          weekFormatter(locale),\n          dayHourFormatter(locale),\n          timeDay.range(startDateWithOffset, endDateWithOffset, 1).map((x) => x.valueOf() / 1000),\n        ]\n      case TimePeriod.MONTH:\n        return [\n          monthDayFormatter(locale),\n          dayHourFormatter(locale),\n          timeDay.range(startDateWithOffset, endDateWithOffset, 7).map((x) => x.valueOf() / 1000),\n        ]\n      case TimePeriod.YEAR:\n        return [\n          monthTickFormatter(locale),\n          monthYearDayFormatter(locale),\n          timeMonth.range(startDateWithOffset, endDateWithOffset, 2).map((x) => x.valueOf() / 1000),\n        ]\n    }\n  }\n\n  const handleHover = useCallback(\n    (event: Element | EventType) => {\n      if (!prices) return\n\n      const { x } = localPoint(event) || { x: 0 }\n      const x0 = timeScale.invert(x) // get timestamp from the scalexw\n      const index = bisect(\n        prices.map((x) => x.timestamp),\n        x0,\n        1\n      )\n\n      const d0 = prices[index - 1]\n      const d1 = prices[index]\n      let pricePoint = d0\n\n      const hasPreviousData = d1 && d1.timestamp\n      if (hasPreviousData) {\n        pricePoint = x0.valueOf() - d0.timestamp.valueOf() > d1.timestamp.valueOf() - x0.valueOf() ? d1 : d0\n      }\n\n      if (pricePoint) {\n        setCrosshair(timeScale(pricePoint.timestamp))\n        setDisplayPrice(pricePoint)\n      }\n    },\n    [timeScale, prices]\n  )\n\n  const resetDisplay = useCallback(() => {\n    setCrosshair(null)\n    setDisplayPrice(endingPrice)\n  }, [setCrosshair, setDisplayPrice, endingPrice])\n\n  const [tickFormatter, crosshairDateFormatter, ticks] = tickFormat(timePeriod, locale)\n  const delta = calculateDelta(startingPrice.value, displayPrice.value)\n  const formattedDelta = formatDelta(delta)\n  const arrow = getDeltaArrow(delta)\n  const crosshairEdgeMax = width * 0.85\n  const crosshairAtEdge = !!crosshair && crosshair > crosshairEdgeMax\n\n  /*\n   * Default curve doesn't look good for the HOUR chart.\n   * Higher values make the curve more rigid, lower values smooth the curve but make it less \"sticky\" to real data points,\n   * making it unacceptable for shorter durations / smaller variances.\n   */\n  const curveTension = timePeriod === TimePeriod.HOUR ? 1 : 0.9\n\n  const getX = useMemo(() => (p: PricePoint) => timeScale(p.timestamp), [timeScale])\n  const getY = useMemo(() => (p: PricePoint) => rdScale(p.value), [rdScale])\n  const curve = useMemo(() => curveCardinal.tension(curveTension), [curveTension])\n\n  return (\n    <>\n      <ChartHeader>\n        {displayPrice.value ? (\n          <>\n            <TokenPrice>{formatDollar({ num: displayPrice.value, isPrice: true })}</TokenPrice>\n            <DeltaContainer>\n              {formattedDelta}\n              <ArrowCell>{arrow}</ArrowCell>\n            </DeltaContainer>\n          </>\n        ) : (\n          <>\n            <MissingPrice>Price Unavailable</MissingPrice>\n            <ThemedText.Caption style={{ color: theme.textTertiary }}>{missingPricesMessage}</ThemedText.Caption>\n          </>\n        )}\n      </ChartHeader>\n      {!chartAvailable ? (\n        <MissingPriceChart width={width} height={graphHeight} message={!!displayPrice.value && missingPricesMessage} />\n      ) : (\n        <svg width={width} height={graphHeight} style={{ minWidth: '100%' }}>\n          <AnimatedInLineChart\n            data={prices}\n            getX={getX}\n            getY={getY}\n            marginTop={margin.top}\n            curve={curve}\n            strokeWidth={2}\n          />\n          {blanks.map((blank, index) => (\n            <FadedInLineChart\n              key={index}\n              data={blank}\n              getX={getX}\n              getY={getY}\n              marginTop={margin.top}\n              curve={curve}\n              strokeWidth={2}\n              color={theme.textTertiary}\n              dashed\n            />\n          ))}\n          {crosshair !== null ? (\n            <g>\n              <AxisBottom\n                scale={timeScale}\n                stroke={theme.backgroundOutline}\n                tickFormat={tickFormatter}\n                tickStroke={theme.backgroundOutline}\n                tickLength={4}\n                hideTicks={true}\n                tickTransform=\"translate(0 -5)\"\n                tickValues={ticks}\n                top={graphHeight - 1}\n                tickLabelProps={() => ({\n                  fill: theme.textSecondary,\n                  fontSize: 12,\n                  textAnchor: 'middle',\n                  transform: 'translate(0 -24)',\n                })}\n              />\n              <text\n                x={crosshair + (crosshairAtEdge ? -4 : 4)}\n                y={margin.crosshair + 10}\n                textAnchor={crosshairAtEdge ? 'end' : 'start'}\n                fontSize={12}\n                fill={theme.textSecondary}\n              >\n                {crosshairDateFormatter(displayPrice.timestamp)}\n              </text>\n              <Line\n                from={{ x: crosshair, y: margin.crosshair }}\n                to={{ x: crosshair, y: graphHeight }}\n                stroke={theme.backgroundOutline}\n                strokeWidth={1}\n                pointerEvents=\"none\"\n                strokeDasharray=\"4,4\"\n              />\n              <GlyphCircle\n                left={crosshair}\n                top={rdScale(displayPrice.value) + margin.top}\n                size={50}\n                fill={theme.accentAction}\n                stroke={theme.backgroundOutline}\n                strokeWidth={0.5}\n              />\n            </g>\n          ) : (\n            <AxisBottom\n              hideAxisLine={true}\n              scale={timeScale}\n              stroke={theme.backgroundOutline}\n              top={graphHeight - 1}\n              hideTicks\n            />\n          )}\n          {!width && (\n            // Ensures an axis is drawn even if the width is not yet initialized.\n            <line\n              x1={0}\n              y1={graphHeight - 1}\n              x2=\"100%\"\n              y2={graphHeight - 1}\n              fill=\"transparent\"\n              shapeRendering=\"crispEdges\"\n              stroke={theme.backgroundOutline}\n              strokeWidth={1}\n            />\n          )}\n          <rect\n            x={0}\n            y={0}\n            width={width}\n            height={graphHeight}\n            fill=\"transparent\"\n            onTouchStart={handleHover}\n            onTouchMove={handleHover}\n            onMouseMove={handleHover}\n            onMouseLeave={resetDisplay}\n          />\n        </svg>\n      )}\n    </>\n  )\n}\n\nconst StyledMissingChart = styled.svg`\n  text {\n    font-size: 12px;\n    font-weight: 400;\n  }\n`\nconst chartBottomPadding = 15\nfunction MissingPriceChart({ width, height, message }: { width: number; height: number; message: ReactNode }) {\n  const theme = useTheme()\n  const midPoint = height / 2 + 45\n  return (\n    <StyledMissingChart width={width} height={height} style={{ minWidth: '100%' }}>\n      <path\n        d={`M 0 ${midPoint} Q 104 ${midPoint - 70}, 208 ${midPoint} T 416 ${midPoint}\n          M 416 ${midPoint} Q 520 ${midPoint - 70}, 624 ${midPoint} T 832 ${midPoint}`}\n        stroke={theme.backgroundOutline}\n        fill=\"transparent\"\n        strokeWidth=\"2\"\n      />\n      {message && <TrendingUp stroke={theme.textTertiary} x={0} size={12} y={height - chartBottomPadding - 10} />}\n      <text y={height - chartBottomPadding} x=\"20\" fill={theme.textTertiary}>\n        {message}\n      </text>\n    </StyledMissingChart>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}