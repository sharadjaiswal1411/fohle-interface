{"ast":null,"code":"import _styled from \"styled-components\";\nvar _jsxFileName = \"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/nft/components/explore/Carousel.tsx\",\n  _s = $RefreshSig$();\nimport { ChevronLeftIcon, ChevronRightIcon } from 'nft/components/icons';\nimport { calculateCardIndex, calculateFirstCardIndex, calculateRank } from 'nft/utils';\nimport { useCallback, useEffect, useRef } from 'react';\nimport { a, useSprings } from 'react-spring';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CarouselContainer = _styled.div.withConfig({\n  displayName: \"Carousel__CarouselContainer\",\n  componentId: \"sc-oqttp6-0\"\n})([\"display:flex;width:100%;justify-content:flex-end;\"]);\nconst CarouselCardContainer = _styled.div.withConfig({\n  displayName: \"Carousel__CarouselCardContainer\",\n  componentId: \"sc-oqttp6-1\"\n})([\"position:relative;width:100%;overflow-x:hidden;max-width:100%;height:390px;@media only screen and (min-width:\", \"){max-width:600px;}\"], _ref => {\n  let {\n    theme\n  } = _ref;\n  return `${theme.breakpoint.md}px`;\n});\nconst CarouselItemCard = _styled(a.div).withConfig({\n  displayName: \"Carousel__CarouselItemCard\",\n  componentId: \"sc-oqttp6-2\"\n})([\"display:flex;justify-content:center;padding:4px 12px 32px;position:absolute;will-change:transform;width:calc(100%);height:calc(100%);@media screen and (min-width:\", \"px){padding:4px 32px 32px;}\"], _ref2 => {\n  let {\n    theme\n  } = _ref2;\n  return theme.breakpoint.md;\n});\nconst CarouselItemIcon = _styled.div.withConfig({\n  displayName: \"Carousel__CarouselItemIcon\",\n  componentId: \"sc-oqttp6-3\"\n})([\"align-items:center;color:\", \";cursor:pointer;display:none;user-select:none;height:calc(100%);padding:4px 0 32px;@media only screen and (min-width:\", \"){display:flex;}:hover{opacity:\", \";}\"], _ref3 => {\n  let {\n    theme\n  } = _ref3;\n  return theme.textPrimary;\n}, _ref4 => {\n  let {\n    theme\n  } = _ref4;\n  return `${theme.breakpoint.sm}px`;\n}, _ref5 => {\n  let {\n    theme\n  } = _ref5;\n  return theme.opacity.hover;\n});\nconst MAX_CARD_WIDTH = 800;\nexport const Carousel = _ref6 => {\n  _s();\n  let {\n    children,\n    activeIndex,\n    toggleNextSlide\n  } = _ref6;\n  const idx = useCallback(function (x) {\n    let l = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : children.length;\n    return calculateCardIndex(x, l);\n  }, [children]);\n  const getPos = useCallback((i, firstVis, firstVisIdx) => calculateFirstCardIndex(i, firstVis, firstVisIdx, idx), [idx]);\n  const [springs, set] = useSprings(children.length, i => ({\n    x: (i < children.length - 1 ? i : -1) * MAX_CARD_WIDTH\n  }));\n  const prev = useRef([0, 1]);\n  const runSprings = useCallback((y, vy) => {\n    const firstVis = idx(Math.floor(y / MAX_CARD_WIDTH) % children.length);\n    const firstVisIdx = vy < 0 ? children.length - 2 : 1;\n    set(i => {\n      const position = getPos(i, firstVis, firstVisIdx);\n      const prevPosition = getPos(i, prev.current[0], prev.current[1]);\n      const rank = calculateRank(firstVis, firstVisIdx, position, children.length, y);\n      return {\n        x: -y % (MAX_CARD_WIDTH * children.length) + MAX_CARD_WIDTH * rank,\n        immediate: vy < 0 ? prevPosition > position : prevPosition < position,\n        config: {\n          tension: 250,\n          friction: 30\n        }\n      };\n    });\n    prev.current = [firstVis, firstVisIdx];\n  }, [idx, getPos, set, children.length]);\n  const direction = useRef(0);\n  useEffect(() => {\n    runSprings(activeIndex * MAX_CARD_WIDTH, direction.current);\n  }, [activeIndex, runSprings]);\n  const toggleSlide = useCallback(next => {\n    direction.current = next;\n    toggleNextSlide(next);\n  }, [toggleNextSlide]);\n  useEffect(() => {\n    const interval = setInterval(async () => {\n      toggleSlide(1);\n    }, 7000);\n    return () => {\n      clearInterval(interval);\n    };\n  }, [toggleSlide, activeIndex]);\n  return /*#__PURE__*/_jsxDEV(CarouselContainer, {\n    children: [/*#__PURE__*/_jsxDEV(CarouselItemIcon, {\n      onClick: () => toggleSlide(-1),\n      children: /*#__PURE__*/_jsxDEV(ChevronLeftIcon, {\n        width: \"16px\",\n        height: \"16px\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CarouselCardContainer, {\n      children: springs.map((_ref7, i) => {\n        let {\n          x\n        } = _ref7;\n        return /*#__PURE__*/_jsxDEV(CarouselItemCard, {\n          style: {\n            x\n          },\n          children: children[i]\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CarouselItemIcon, {\n      onClick: () => toggleSlide(1),\n      children: /*#__PURE__*/_jsxDEV(ChevronRightIcon, {\n        width: \"16px\",\n        height: \"16px\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 119,\n    columnNumber: 5\n  }, this);\n};\n_s(Carousel, \"Eok1e54KCWswnVyvBaxDJuupq1U=\", false, function () {\n  return [useSprings];\n});\n_c = Carousel;\nexport const LoadingCarousel = _ref8 => {\n  let {\n    children\n  } = _ref8;\n  return /*#__PURE__*/_jsxDEV(Carousel, {\n    activeIndex: 0,\n    toggleNextSlide: () => undefined,\n    children: [children]\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 138,\n    columnNumber: 3\n  }, this);\n};\n_c2 = LoadingCarousel;\nvar _c, _c2;\n$RefreshReg$(_c, \"Carousel\");\n$RefreshReg$(_c2, \"LoadingCarousel\");","map":{"version":3,"names":["ChevronLeftIcon","ChevronRightIcon","calculateCardIndex","calculateFirstCardIndex","calculateRank","useCallback","useEffect","useRef","a","useSprings","CarouselContainer","styled","div","CarouselCardContainer","theme","breakpoint","md","CarouselItemCard","CarouselItemIcon","textPrimary","sm","opacity","hover","MAX_CARD_WIDTH","Carousel","children","activeIndex","toggleNextSlide","idx","x","l","length","getPos","i","firstVis","firstVisIdx","springs","set","prev","runSprings","y","vy","Math","floor","position","prevPosition","current","rank","immediate","config","tension","friction","direction","toggleSlide","next","interval","setInterval","clearInterval","map","LoadingCarousel","undefined"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/nft/components/explore/Carousel.tsx"],"sourcesContent":["import { ChevronLeftIcon, ChevronRightIcon } from 'nft/components/icons'\nimport { calculateCardIndex, calculateFirstCardIndex, calculateRank } from 'nft/utils'\nimport { ReactNode, useCallback, useEffect, useRef } from 'react'\nimport { a, useSprings } from 'react-spring'\nimport styled from 'styled-components/macro'\n\nconst CarouselContainer = styled.div`\n  display: flex;\n  width: 100%;\n  justify-content: flex-end;\n`\n\nconst CarouselCardContainer = styled.div`\n  position: relative;\n  width: 100%;\n  overflow-x: hidden;\n  max-width: 100%;\n  height: 390px;\n\n  @media only screen and (min-width: ${({ theme }) => `${theme.breakpoint.md}px`}) {\n    max-width: 600px;\n  }\n`\n\nconst CarouselItemCard = styled(a.div)`\n  display: flex;\n  justify-content: center;\n  padding: 4px 12px 32px;\n  position: absolute;\n  will-change: transform;\n  width: calc(100%);\n  height: calc(100%);\n\n  @media screen and (min-width: ${({ theme }) => theme.breakpoint.md}px) {\n    padding: 4px 32px 32px;\n  }\n`\n\nconst CarouselItemIcon = styled.div`\n  align-items: center;\n  color: ${({ theme }) => theme.textPrimary};\n  cursor: pointer;\n  display: none;\n  user-select: none;\n  height: calc(100%);\n  padding: 4px 0 32px;\n\n  @media only screen and (min-width: ${({ theme }) => `${theme.breakpoint.sm}px`}) {\n    display: flex;\n  }\n\n  :hover {\n    opacity: ${({ theme }) => theme.opacity.hover};\n  }\n`\n\ninterface CarouselProps {\n  children: ReactNode[]\n  activeIndex: number\n  toggleNextSlide: (idx: number) => void\n}\n\nconst MAX_CARD_WIDTH = 800\n\nexport const Carousel = ({ children, activeIndex, toggleNextSlide }: CarouselProps) => {\n  const idx = useCallback((x: number, l = children.length) => calculateCardIndex(x, l), [children])\n  const getPos = useCallback(\n    (i: number, firstVis: number, firstVisIdx: number) => calculateFirstCardIndex(i, firstVis, firstVisIdx, idx),\n    [idx]\n  )\n  const [springs, set] = useSprings(children.length, (i) => ({\n    x: (i < children.length - 1 ? i : -1) * MAX_CARD_WIDTH,\n  }))\n  const prev = useRef([0, 1])\n\n  const runSprings = useCallback(\n    (y: number, vy: number) => {\n      const firstVis = idx(Math.floor(y / MAX_CARD_WIDTH) % children.length)\n      const firstVisIdx = vy < 0 ? children.length - 2 : 1\n      set((i) => {\n        const position = getPos(i, firstVis, firstVisIdx)\n        const prevPosition = getPos(i, prev.current[0], prev.current[1])\n        const rank = calculateRank(firstVis, firstVisIdx, position, children.length, y)\n        return {\n          x: (-y % (MAX_CARD_WIDTH * children.length)) + MAX_CARD_WIDTH * rank,\n          immediate: vy < 0 ? prevPosition > position : prevPosition < position,\n          config: { tension: 250, friction: 30 },\n        }\n      })\n      prev.current = [firstVis, firstVisIdx]\n    },\n    [idx, getPos, set, children.length]\n  )\n\n  const direction = useRef(0)\n\n  useEffect(() => {\n    runSprings(activeIndex * MAX_CARD_WIDTH, direction.current)\n  }, [activeIndex, runSprings])\n\n  const toggleSlide = useCallback(\n    (next: -1 | 1) => {\n      direction.current = next\n      toggleNextSlide(next)\n    },\n    [toggleNextSlide]\n  )\n\n  useEffect(() => {\n    const interval = setInterval(async () => {\n      toggleSlide(1)\n    }, 7_000)\n    return () => {\n      clearInterval(interval)\n    }\n  }, [toggleSlide, activeIndex])\n\n  return (\n    <CarouselContainer>\n      <CarouselItemIcon onClick={() => toggleSlide(-1)}>\n        <ChevronLeftIcon width=\"16px\" height=\"16px\" />\n      </CarouselItemIcon>\n      <CarouselCardContainer>\n        {springs.map(({ x }, i) => (\n          <CarouselItemCard key={i} style={{ x }}>\n            {children[i]}\n          </CarouselItemCard>\n        ))}\n      </CarouselCardContainer>\n      <CarouselItemIcon onClick={() => toggleSlide(1)}>\n        <ChevronRightIcon width=\"16px\" height=\"16px\" />\n      </CarouselItemIcon>\n    </CarouselContainer>\n  )\n}\n\nexport const LoadingCarousel = ({ children }: { children: ReactNode }) => (\n  <Carousel activeIndex={0} toggleNextSlide={() => undefined}>\n    {[children]}\n  </Carousel>\n)\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}