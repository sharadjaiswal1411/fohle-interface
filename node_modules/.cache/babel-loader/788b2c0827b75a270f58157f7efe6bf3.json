{"ast":null,"code":"var _window$navigator$ser;import{useWeb3React}from'@web3-react/core';import{useEffect}from'react';import{useLocation}from'react-router-dom';import{isMobile}from'utils/userAgent';import{getCLS,getFCP,getFID,getLCP}from'web-vitals';import GoogleAnalyticsProvider from'./GoogleAnalyticsProvider';var GOOGLE_ANALYTICS_CLIENT_ID_STORAGE_KEY='ga_client_id';var GOOGLE_ANALYTICS_ID=process.env.REACT_APP_GOOGLE_ANALYTICS_ID;var storedClientId=window.localStorage.getItem(GOOGLE_ANALYTICS_CLIENT_ID_STORAGE_KEY);var googleAnalytics=new GoogleAnalyticsProvider();export function sendEvent(event,params){return googleAnalytics.sendEvent(event,params);}export function outboundLink(_ref,hitCallback){var label=_ref.label;return googleAnalytics.outboundLink({label:label},hitCallback);}export function sendTiming(timingCategory,timingVar,timingValue,timingLabel){return googleAnalytics.gaCommandSendTiming(timingCategory,timingVar,timingValue,timingLabel);}if(typeof GOOGLE_ANALYTICS_ID==='string'){googleAnalytics.initialize(GOOGLE_ANALYTICS_ID,{gaOptions:{storage:'none',storeGac:false,clientId:storedClientId!==null&&storedClientId!==void 0?storedClientId:undefined}});googleAnalytics.set({anonymizeIp:true,customBrowserType:!isMobile?'desktop':'web3'in window||'ethereum'in window?'mobileWeb3':'mobileRegular'});}else{googleAnalytics.initialize('test',{gtagOptions:{debug_mode:true}});}var installed=Boolean((_window$navigator$ser=window.navigator.serviceWorker)===null||_window$navigator$ser===void 0?void 0:_window$navigator$ser.controller);var hit=Boolean(window.__isDocumentCached);var action=installed?hit?'Cache hit':'Cache miss':'Not installed';sendEvent({category:'Service Worker',action:action,nonInteraction:true});function reportWebVitals(_ref2){var name=_ref2.name,delta=_ref2.delta,id=_ref2.id;sendTiming('Web Vitals',name,Math.round(name==='CLS'?delta*1000:delta),id);}// tracks web vitals and pageviews\nexport function useAnalyticsReporter(){var _useLocation=useLocation(),pathname=_useLocation.pathname,search=_useLocation.search;useEffect(function(){getFCP(reportWebVitals);getFID(reportWebVitals);getLCP(reportWebVitals);getCLS(reportWebVitals);},[]);var _useWeb3React=useWeb3React(),chainId=_useWeb3React.chainId;useEffect(function(){// cd1 - custom dimension 1 - chainId\ngoogleAnalytics.set({cd1:chainId!==null&&chainId!==void 0?chainId:0});},[chainId]);useEffect(function(){googleAnalytics.pageview(\"\".concat(pathname).concat(search));},[pathname,search]);useEffect(function(){// typed as 'any' in react-ga4 -.-\ngoogleAnalytics.ga(function(tracker){if(!tracker)return;var clientId=tracker.get('clientId');window.localStorage.setItem(GOOGLE_ANALYTICS_CLIENT_ID_STORAGE_KEY,clientId);});},[]);}","map":{"version":3,"names":["useWeb3React","useEffect","useLocation","isMobile","getCLS","getFCP","getFID","getLCP","GoogleAnalyticsProvider","GOOGLE_ANALYTICS_CLIENT_ID_STORAGE_KEY","GOOGLE_ANALYTICS_ID","process","env","REACT_APP_GOOGLE_ANALYTICS_ID","storedClientId","window","localStorage","getItem","googleAnalytics","sendEvent","event","params","outboundLink","hitCallback","label","sendTiming","timingCategory","timingVar","timingValue","timingLabel","gaCommandSendTiming","initialize","gaOptions","storage","storeGac","clientId","undefined","set","anonymizeIp","customBrowserType","gtagOptions","debug_mode","installed","Boolean","navigator","serviceWorker","controller","hit","__isDocumentCached","action","category","nonInteraction","reportWebVitals","name","delta","id","Math","round","useAnalyticsReporter","pathname","search","chainId","cd1","pageview","ga","tracker","get","setItem"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/components/analytics/index.ts"],"sourcesContent":["import { useWeb3React } from '@web3-react/core'\nimport { useEffect } from 'react'\nimport { UaEventOptions } from 'react-ga4/types/ga4'\nimport { useLocation } from 'react-router-dom'\nimport { isMobile } from 'utils/userAgent'\nimport { getCLS, getFCP, getFID, getLCP, Metric } from 'web-vitals'\n\nimport GoogleAnalyticsProvider from './GoogleAnalyticsProvider'\n\nconst GOOGLE_ANALYTICS_CLIENT_ID_STORAGE_KEY = 'ga_client_id'\nconst GOOGLE_ANALYTICS_ID: string | undefined = process.env.REACT_APP_GOOGLE_ANALYTICS_ID\n\nconst storedClientId = window.localStorage.getItem(GOOGLE_ANALYTICS_CLIENT_ID_STORAGE_KEY)\n\nconst googleAnalytics = new GoogleAnalyticsProvider()\n\nexport function sendEvent(event: string | UaEventOptions, params?: any) {\n  return googleAnalytics.sendEvent(event, params)\n}\n\nexport function outboundLink(\n  {\n    label,\n  }: {\n    label: string\n  },\n  hitCallback: () => unknown\n) {\n  return googleAnalytics.outboundLink({ label }, hitCallback)\n}\n\nexport function sendTiming(timingCategory: any, timingVar: any, timingValue: any, timingLabel: any) {\n  return googleAnalytics.gaCommandSendTiming(timingCategory, timingVar, timingValue, timingLabel)\n}\n\nif (typeof GOOGLE_ANALYTICS_ID === 'string') {\n  googleAnalytics.initialize(GOOGLE_ANALYTICS_ID, {\n    gaOptions: {\n      storage: 'none',\n      storeGac: false,\n      clientId: storedClientId ?? undefined,\n    },\n  })\n  googleAnalytics.set({\n    anonymizeIp: true,\n    customBrowserType: !isMobile\n      ? 'desktop'\n      : 'web3' in window || 'ethereum' in window\n      ? 'mobileWeb3'\n      : 'mobileRegular',\n  })\n} else {\n  googleAnalytics.initialize('test', { gtagOptions: { debug_mode: true } })\n}\n\nconst installed = Boolean(window.navigator.serviceWorker?.controller)\nconst hit = Boolean((window as any).__isDocumentCached)\nconst action = installed ? (hit ? 'Cache hit' : 'Cache miss') : 'Not installed'\nsendEvent({ category: 'Service Worker', action, nonInteraction: true })\n\nfunction reportWebVitals({ name, delta, id }: Metric) {\n  sendTiming('Web Vitals', name, Math.round(name === 'CLS' ? delta * 1000 : delta), id)\n}\n\n// tracks web vitals and pageviews\nexport function useAnalyticsReporter() {\n  const { pathname, search } = useLocation()\n  useEffect(() => {\n    getFCP(reportWebVitals)\n    getFID(reportWebVitals)\n    getLCP(reportWebVitals)\n    getCLS(reportWebVitals)\n  }, [])\n\n  const { chainId } = useWeb3React()\n  useEffect(() => {\n    // cd1 - custom dimension 1 - chainId\n    googleAnalytics.set({ cd1: chainId ?? 0 })\n  }, [chainId])\n\n  useEffect(() => {\n    googleAnalytics.pageview(`${pathname}${search}`)\n  }, [pathname, search])\n\n  useEffect(() => {\n    // typed as 'any' in react-ga4 -.-\n    googleAnalytics.ga((tracker: any) => {\n      if (!tracker) return\n\n      const clientId = tracker.get('clientId')\n      window.localStorage.setItem(GOOGLE_ANALYTICS_CLIENT_ID_STORAGE_KEY, clientId)\n    })\n  }, [])\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}