{"ast":null,"code":"import{createApi,fetchBaseQuery}from'@reduxjs/toolkit/query/react';var geckoTerminalApi=createApi({reducerPath:'geckoTerminalApi',baseQuery:fetchBaseQuery({// TODO(viet-nv): check prod env\nbaseUrl:'https://ks-proxy.dev.kyberengineering.io/geckoterminal'}),endpoints:function endpoints(builder){return{geckoTerminalSearch:builder.query({query:function query(search){return{url:'/api/p1/search',params:{query:search}};}}),getPoolDetail:builder.query({query:function query(_ref){var network=_ref.network,poolAddress=_ref.poolAddress;return{url:\"/api/p1/\".concat(network,\"/pools/\").concat(poolAddress,\"?include=tokens\")};}}),candelsticks:builder.query({query:function query(params){return{url:'/contracts/1/candlesticks.json',params:params};}})};}});var useGeckoTerminalSearchQuery=geckoTerminalApi.useGeckoTerminalSearchQuery,useGetPoolDetailQuery=geckoTerminalApi.useGetPoolDetailQuery,useLazyCandelsticksQuery=geckoTerminalApi.useLazyCandelsticksQuery;export{useGeckoTerminalSearchQuery,useGetPoolDetailQuery,useLazyCandelsticksQuery};export default geckoTerminalApi;","map":{"version":3,"names":["createApi","fetchBaseQuery","geckoTerminalApi","reducerPath","baseQuery","baseUrl","endpoints","builder","geckoTerminalSearch","query","search","url","params","getPoolDetail","network","poolAddress","candelsticks","useGeckoTerminalSearchQuery","useGetPoolDetailQuery","useLazyCandelsticksQuery"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/services/geckoTermial.ts"],"sourcesContent":["import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react'\n\ntype SearchResponse = {\n  data: {\n    id: string\n    attributes: {\n      pools: {\n        address: string\n        reserve_in_usd: string\n        tokens: [{ symbol: string }, { symbol: string }]\n        network: {\n          identifier: string\n        }\n      }[]\n    }\n  }\n}\n\ninterface CandleResponse {\n  data: Array<{\n    dt: string\n    o: number\n    h: number\n    l: number\n    c: number\n    v: number\n  }>\n  meta?: {\n    noData: boolean\n  }\n}\n\ninterface CandleParams {\n  token_id: string\n  pool_id: string\n  resolution: number | string\n  from: string | number\n  to: string | number\n  for_update: boolean\n  currency: 'usd' | 'token'\n  count_back?: number\n}\n\ninterface Token {\n  id: string\n  attributes: {\n    name: string\n    symbol: string\n  }\n}\n\nexport interface PoolResponse {\n  data: {\n    id: string\n    attributes: {\n      address: string\n      name: string\n      base_token_id: string\n    }\n  }\n  included: [Token, Token]\n}\n\nconst geckoTerminalApi = createApi({\n  reducerPath: 'geckoTerminalApi',\n  baseQuery: fetchBaseQuery({\n    // TODO(viet-nv): check prod env\n    baseUrl: 'https://ks-proxy.dev.kyberengineering.io/geckoterminal',\n  }),\n  endpoints: builder => ({\n    geckoTerminalSearch: builder.query<SearchResponse, string>({\n      query: search => ({\n        url: '/api/p1/search',\n        params: {\n          query: search,\n        },\n      }),\n    }),\n\n    getPoolDetail: builder.query<PoolResponse, { network: string; poolAddress: string }>({\n      query: ({ network, poolAddress }) => ({\n        url: `/api/p1/${network}/pools/${poolAddress}?include=tokens`,\n      }),\n    }),\n\n    candelsticks: builder.query<CandleResponse, CandleParams>({\n      query: params => ({\n        url: '/contracts/1/candlesticks.json',\n        params,\n      }),\n    }),\n  }),\n})\n\nexport const { useGeckoTerminalSearchQuery, useGetPoolDetailQuery, useLazyCandelsticksQuery } = geckoTerminalApi\n\nexport default geckoTerminalApi"],"mappings":"AAAA,OAASA,SAAS,CAAEC,cAAc,KAAQ,8BAA8B,CA+DxE,GAAMC,iBAAgB,CAAGF,SAAS,CAAC,CACjCG,WAAW,CAAE,kBAAkB,CAC/BC,SAAS,CAAEH,cAAc,CAAC,CACxB;AACAI,OAAO,CAAE,wDACX,CAAC,CAAC,CACFC,SAAS,CAAE,mBAAAC,OAAO,QAAK,CACrBC,mBAAmB,CAAED,OAAO,CAACE,KAAK,CAAyB,CACzDA,KAAK,CAAE,eAAAC,MAAM,QAAK,CAChBC,GAAG,CAAE,gBAAgB,CACrBC,MAAM,CAAE,CACNH,KAAK,CAAEC,MACT,CACF,CAAC,EACH,CAAC,CAAC,CAEFG,aAAa,CAAEN,OAAO,CAACE,KAAK,CAAyD,CACnFA,KAAK,CAAE,wBAAGK,QAAO,MAAPA,OAAO,CAAEC,WAAW,MAAXA,WAAW,OAAQ,CACpCJ,GAAG,mBAAaG,OAAO,mBAAUC,WAAW,mBAC9C,CAAC,EACH,CAAC,CAAC,CAEFC,YAAY,CAAET,OAAO,CAACE,KAAK,CAA+B,CACxDA,KAAK,CAAE,eAAAG,MAAM,QAAK,CAChBD,GAAG,CAAE,gCAAgC,CACrCC,MAAM,CAANA,MACF,CAAC,EACH,CAAC,CACH,CAAC,EACH,CAAC,CAAC,CAEK,GAAQK,4BAA2B,CAAsDf,gBAAgB,CAAjGe,2BAA2B,CAAEC,qBAAqB,CAA+BhB,gBAAgB,CAApEgB,qBAAqB,CAAEC,wBAAwB,CAAKjB,gBAAgB,CAA7CiB,wBAAwB,CAAqB,mFAEhH,cAAejB,iBAAgB"},"metadata":{},"sourceType":"module"}