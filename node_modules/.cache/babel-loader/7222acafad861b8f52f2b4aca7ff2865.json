{"ast":null,"code":"import _slicedToArray from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _styled from\"styled-components\";import{Trans}from\"@lingui/react\";import{useWeb3React}from'@web3-react/core';import{TransactionSummary}from'components/AccountDetailsV2';import{ButtonPrimary}from'components/Button';import{useActiveLocale}from'hooks/useActiveLocale';import{useMemo}from'react';import{ChevronRight,Moon,Sun}from'react-feather';import{useToggleWalletModal}from'state/application/hooks';import{useDarkModeManager}from'state/user/hooks';import{useAllTransactions}from'../../state/transactions/hooks';import AuthenticatedHeader from'./AuthenticatedHeader';import{MenuState}from'./index';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ConnectButton=_styled(ButtonPrimary).withConfig({componentId:\"sc-19bbdv4-0\"})([\"border-radius:12px;height:44px;width:288px;font-weight:600;font-size:16px;margin-left:auto;margin-right:auto;@media only screen and (max-width:\",\"){width:100%;}\"],function(_ref){var theme=_ref.theme;return\"\".concat(theme.breakpoint.sm,\"px\");});var Divider=_styled.div.withConfig({componentId:\"sc-19bbdv4-1\"})([\"border-bottom:1px solid \",\";margin-top:16px;margin-bottom:16px;\"],function(_ref2){var theme=_ref2.theme;return theme.backgroundOutline;});var ToggleMenuItem=_styled.button.withConfig({componentId:\"sc-19bbdv4-2\"})([\"background-color:transparent;margin:0;border:none;cursor:pointer;display:flex;flex:1;border-radius:12px;flex-direction:row;align-items:center;justify-content:space-between;font-size:14px;font-weight:400;width:100%;padding:12px 8px;color:\",\";:hover{color:\",\";background-color:\",\";transition:\",\";}\"],function(_ref3){var theme=_ref3.theme;return theme.textSecondary;},function(_ref4){var theme=_ref4.theme;return theme.textPrimary;},function(_ref5){var theme=_ref5.theme;return theme.backgroundModule;},function(_ref6){var _ref6$theme$transitio=_ref6.theme.transition,duration=_ref6$theme$transitio.duration,timing=_ref6$theme$transitio.timing;return\"\".concat(duration.fast,\" all \").concat(timing.in);});var FlexContainer=_styled.div.withConfig({componentId:\"sc-19bbdv4-3\"})([\"display:flex;\"]);var LatestPendingTxnBox=_styled(FlexContainer).withConfig({componentId:\"sc-19bbdv4-4\"})([\"display:flex;border-radius:12px;background-color:\",\";align-items:center;gap:8px;\"],function(_ref7){var theme=_ref7.theme;return theme.backgroundModule;});var PendingBadge=_styled.span.withConfig({componentId:\"sc-19bbdv4-5\"})([\"background-color:\",\";color:\",\";font-weight:600;padding:4px 8px;border-radius:4px;\"],function(_ref8){var theme=_ref8.theme;return theme.accentActionSoft;},function(_ref9){var theme=_ref9.theme;return theme.accentAction;});var IconWrap=_styled.span.withConfig({componentId:\"sc-19bbdv4-6\"})([\"display:inline-block;margin-top:auto;margin-bottom:auto;margin-left:4px;height:16px;\"]);var DefaultMenuWrap=_styled.div.withConfig({componentId:\"sc-19bbdv4-7\"})([\"width:100%;height:100%;padding:0 8px;\"]);var DefaultText=_styled.span.withConfig({componentId:\"sc-19bbdv4-8\"})([\"font-size:14px;font-weight:400;\"]);var CenterVertically=_styled.div.withConfig({componentId:\"sc-19bbdv4-9\"})([\"margin-top:auto;margin-bottom:auto;\"]);var WalletDropdown=function WalletDropdown(_ref10){var setMenu=_ref10.setMenu;var _useWeb3React=useWeb3React(),account=_useWeb3React.account;var isAuthenticated=!!account;var _useDarkModeManager=useDarkModeManager(),_useDarkModeManager2=_slicedToArray(_useDarkModeManager,2),darkMode=_useDarkModeManager2[0],toggleDarkMode=_useDarkModeManager2[1];var activeLocale=useActiveLocale();var ISO=activeLocale.split('-')[0].toUpperCase();var allTransactions=useAllTransactions();var toggleWalletModal=useToggleWalletModal();var pendingTransactions=useMemo(function(){return Object.values(allTransactions).filter(function(tx){return!tx.receipt;});},[allTransactions]);var latestPendingTransaction=pendingTransactions.length>0?pendingTransactions.sort(function(tx1,tx2){return tx2.addedTime-tx1.addedTime;})[0]:undefined;return/*#__PURE__*/_jsxs(DefaultMenuWrap,{children:[isAuthenticated?/*#__PURE__*/_jsx(AuthenticatedHeader,{}):/*#__PURE__*/_jsx(ConnectButton,{\"data-testid\":\"wallet-connect-wallet\",onClick:toggleWalletModal,children:\"Connect wallet\"}),/*#__PURE__*/_jsx(Divider,{}),isAuthenticated&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(ToggleMenuItem,{\"data-testid\":\"wallet-transactions\",onClick:function onClick(){return setMenu(MenuState.TRANSACTIONS);},children:[/*#__PURE__*/_jsxs(DefaultText,{children:[/*#__PURE__*/_jsx(Trans,{id:\"Transactions\"}),' ',pendingTransactions.length>0&&/*#__PURE__*/_jsxs(PendingBadge,{children:[pendingTransactions.length,\" \",/*#__PURE__*/_jsx(Trans,{id:\"Pending\"})]})]}),/*#__PURE__*/_jsx(IconWrap,{children:/*#__PURE__*/_jsx(ChevronRight,{size:16,strokeWidth:3})})]}),!!latestPendingTransaction&&/*#__PURE__*/_jsx(LatestPendingTxnBox,{children:/*#__PURE__*/_jsx(TransactionSummary,{transactionDetails:latestPendingTransaction,isLastTransactionInList:true},latestPendingTransaction.hash)})]}),/*#__PURE__*/_jsxs(ToggleMenuItem,{\"data-testid\":\"wallet-select-language\",onClick:function onClick(){return setMenu(MenuState.LANGUAGE);},children:[/*#__PURE__*/_jsx(DefaultText,{children:/*#__PURE__*/_jsx(Trans,{id:\"Language\"})}),/*#__PURE__*/_jsxs(FlexContainer,{children:[/*#__PURE__*/_jsx(CenterVertically,{children:/*#__PURE__*/_jsx(DefaultText,{children:ISO})}),/*#__PURE__*/_jsx(IconWrap,{children:/*#__PURE__*/_jsx(ChevronRight,{size:16,strokeWidth:3})})]})]}),/*#__PURE__*/_jsxs(ToggleMenuItem,{\"data-testid\":\"wallet-select-theme\",onClick:toggleDarkMode,children:[/*#__PURE__*/_jsx(DefaultText,{children:darkMode?/*#__PURE__*/_jsx(Trans,{id:\"Light theme\"}):/*#__PURE__*/_jsx(Trans,{id:\"Dark theme\"})}),/*#__PURE__*/_jsx(IconWrap,{children:darkMode?/*#__PURE__*/_jsx(Sun,{size:16}):/*#__PURE__*/_jsx(Moon,{size:16})})]})]});};export default WalletDropdown;","map":{"version":3,"names":["useWeb3React","TransactionSummary","ButtonPrimary","useActiveLocale","useMemo","ChevronRight","Moon","Sun","useToggleWalletModal","useDarkModeManager","useAllTransactions","AuthenticatedHeader","MenuState","ConnectButton","styled","theme","breakpoint","sm","Divider","div","backgroundOutline","ToggleMenuItem","button","textSecondary","textPrimary","backgroundModule","transition","duration","timing","fast","in","FlexContainer","LatestPendingTxnBox","PendingBadge","span","accentActionSoft","accentAction","IconWrap","DefaultMenuWrap","DefaultText","CenterVertically","WalletDropdown","setMenu","account","isAuthenticated","darkMode","toggleDarkMode","activeLocale","ISO","split","toUpperCase","allTransactions","toggleWalletModal","pendingTransactions","Object","values","filter","tx","receipt","latestPendingTransaction","length","sort","tx1","tx2","addedTime","undefined","TRANSACTIONS","hash","LANGUAGE"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/components/WalletDropdown/DefaultMenu.tsx"],"sourcesContent":["import { Trans } from '@lingui/macro'\nimport { useWeb3React } from '@web3-react/core'\nimport { TransactionSummary } from 'components/AccountDetailsV2'\nimport { ButtonPrimary } from 'components/Button'\nimport { useActiveLocale } from 'hooks/useActiveLocale'\nimport { useMemo } from 'react'\nimport { ChevronRight, Moon, Sun } from 'react-feather'\nimport { useToggleWalletModal } from 'state/application/hooks'\nimport { useDarkModeManager } from 'state/user/hooks'\nimport styled from 'styled-components/macro'\n\nimport { useAllTransactions } from '../../state/transactions/hooks'\nimport AuthenticatedHeader from './AuthenticatedHeader'\nimport { MenuState } from './index'\n\nconst ConnectButton = styled(ButtonPrimary)`\n  border-radius: 12px;\n  height: 44px;\n  width: 288px;\n  font-weight: 600;\n  font-size: 16px;\n  margin-left: auto;\n  margin-right: auto;\n\n  @media only screen and (max-width: ${({ theme }) => `${theme.breakpoint.sm}px`}) {\n    width: 100%;\n  }\n`\n\nconst Divider = styled.div`\n  border-bottom: 1px solid ${({ theme }) => theme.backgroundOutline};\n  margin-top: 16px;\n  margin-bottom: 16px;\n`\n\nconst ToggleMenuItem = styled.button`\n  background-color: transparent;\n  margin: 0;\n  border: none;\n  cursor: pointer;\n  display: flex;\n  flex: 1;\n  border-radius: 12px;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  font-size: 14px;\n  font-weight: 400;\n  width: 100%;\n  padding: 12px 8px;\n  color: ${({ theme }) => theme.textSecondary};\n  :hover {\n    color: ${({ theme }) => theme.textPrimary};\n    background-color: ${({ theme }) => theme.backgroundModule};\n    transition: ${({\n      theme: {\n        transition: { duration, timing },\n      },\n    }) => `${duration.fast} all ${timing.in}`};\n  }\n`\n\nconst FlexContainer = styled.div`\n  display: flex;\n`\n\nconst LatestPendingTxnBox = styled(FlexContainer)`\n  display: flex;\n  border-radius: 12px;\n  background-color: ${({ theme }) => theme.backgroundModule};\n  align-items: center;\n  gap: 8px;\n`\n\nconst PendingBadge = styled.span`\n  background-color: ${({ theme }) => theme.accentActionSoft};\n  color: ${({ theme }) => theme.accentAction};\n  font-weight: 600;\n  padding: 4px 8px;\n  border-radius: 4px;\n`\n\nconst IconWrap = styled.span`\n  display: inline-block;\n  margin-top: auto;\n  margin-bottom: auto;\n  margin-left: 4px;\n  height: 16px;\n`\n\nconst DefaultMenuWrap = styled.div`\n  width: 100%;\n  height: 100%;\n  padding: 0 8px;\n`\n\nconst DefaultText = styled.span`\n  font-size: 14px;\n  font-weight: 400;\n`\n\nconst CenterVertically = styled.div`\n  margin-top: auto;\n  margin-bottom: auto;\n`\n\nconst WalletDropdown = ({ setMenu }: { setMenu: (state: MenuState) => void }) => {\n  const { account } = useWeb3React()\n  const isAuthenticated = !!account\n  const [darkMode, toggleDarkMode] = useDarkModeManager()\n  const activeLocale = useActiveLocale()\n  const ISO = activeLocale.split('-')[0].toUpperCase()\n  const allTransactions = useAllTransactions()\n  const toggleWalletModal = useToggleWalletModal()\n\n  const pendingTransactions = useMemo(\n    () => Object.values(allTransactions).filter((tx) => !tx.receipt),\n    [allTransactions]\n  )\n  const latestPendingTransaction =\n    pendingTransactions.length > 0\n      ? pendingTransactions.sort((tx1, tx2) => tx2.addedTime - tx1.addedTime)[0]\n      : undefined\n\n  return (\n    <DefaultMenuWrap>\n      {isAuthenticated ? (\n        <AuthenticatedHeader />\n      ) : (\n        <ConnectButton data-testid=\"wallet-connect-wallet\" onClick={toggleWalletModal}>\n          Connect wallet\n        </ConnectButton>\n      )}\n      <Divider />\n      {isAuthenticated && (\n        <>\n          <ToggleMenuItem data-testid=\"wallet-transactions\" onClick={() => setMenu(MenuState.TRANSACTIONS)}>\n            <DefaultText>\n              <Trans>Transactions</Trans>{' '}\n              {pendingTransactions.length > 0 && (\n                <PendingBadge>\n                  {pendingTransactions.length} <Trans>Pending</Trans>\n                </PendingBadge>\n              )}\n            </DefaultText>\n            <IconWrap>\n              <ChevronRight size={16} strokeWidth={3} />\n            </IconWrap>\n          </ToggleMenuItem>\n          {!!latestPendingTransaction && (\n            <LatestPendingTxnBox>\n              <TransactionSummary\n                key={latestPendingTransaction.hash}\n                transactionDetails={latestPendingTransaction}\n                isLastTransactionInList={true}\n              />\n            </LatestPendingTxnBox>\n          )}\n        </>\n      )}\n      <ToggleMenuItem data-testid=\"wallet-select-language\" onClick={() => setMenu(MenuState.LANGUAGE)}>\n        <DefaultText>\n          <Trans>Language</Trans>\n        </DefaultText>\n        <FlexContainer>\n          <CenterVertically>\n            <DefaultText>{ISO}</DefaultText>\n          </CenterVertically>\n          <IconWrap>\n            <ChevronRight size={16} strokeWidth={3} />\n          </IconWrap>\n        </FlexContainer>\n      </ToggleMenuItem>\n      <ToggleMenuItem data-testid=\"wallet-select-theme\" onClick={toggleDarkMode}>\n        <DefaultText>{darkMode ? <Trans> Light theme</Trans> : <Trans>Dark theme</Trans>}</DefaultText>\n        <IconWrap>{darkMode ? <Sun size={16} /> : <Moon size={16} />}</IconWrap>\n      </ToggleMenuItem>\n    </DefaultMenuWrap>\n  )\n}\n\nexport default WalletDropdown\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}