{"ast":null,"code":"import _slicedToArray from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _styled from\"styled-components\";import{Trans}from\"@lingui/react\";import{Protocol}from'@uniswap/router-sdk';import Badge from'components/Badge';import DoubleCurrencyLogo from'components/DoubleLogo';import CurrencyLogo from'components/Logo/CurrencyLogo';import Row,{AutoRow}from'components/Row';import{useTokenInfoFromActiveList}from'hooks/useTokenInfoFromActiveList';import{Box}from'rebass';import{ThemedText}from'theme';import{Z_INDEX}from'theme/zIndex';import{ReactComponent as DotLine}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/svg/dot_line.svg\";import{MouseoverTooltip}from'../Tooltip';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Wrapper=_styled(Box).withConfig({componentId:\"sc-o1ook0-0\"})([\"align-items:center;width:100%;\"]);var RouteContainerRow=_styled(Row).withConfig({componentId:\"sc-o1ook0-1\"})([\"display:grid;grid-template-columns:24px 1fr 24px;\"]);var RouteRow=_styled(Row).withConfig({componentId:\"sc-o1ook0-2\"})([\"align-items:center;display:flex;justify-content:center;padding:0.1rem 0.5rem;position:relative;\"]);var PoolBadge=_styled(Badge).withConfig({componentId:\"sc-o1ook0-3\"})([\"display:flex;padding:4px 4px;\"]);var DottedLine=_styled.div.withConfig({componentId:\"sc-o1ook0-4\"})([\"display:flex;align-items:center;position:absolute;width:calc(100%);z-index:1;opacity:0.5;\"]);var DotColor=_styled(DotLine).withConfig({componentId:\"sc-o1ook0-5\"})([\"path{stroke:\",\";}\"],function(_ref){var theme=_ref.theme;return theme.deprecated_bg4;});var OpaqueBadge=_styled(Badge).withConfig({componentId:\"sc-o1ook0-6\"})([\"background-color:\",\";border-radius:8px;display:grid;font-size:12px;grid-gap:4px;grid-auto-flow:column;justify-content:start;padding:4px 6px 4px 4px;z-index:\",\";\"],function(_ref2){var theme=_ref2.theme;return theme.backgroundInteractive;},Z_INDEX.sticky);var ProtocolBadge=_styled(Badge).withConfig({componentId:\"sc-o1ook0-7\"})([\"background-color:\",\";border-radius:4px;color:\",\";font-size:10px;padding:2px 4px;z-index:\",\";\"],function(_ref3){var theme=_ref3.theme;return theme.deprecated_bg3;},function(_ref4){var theme=_ref4.theme;return theme.textSecondary;},Z_INDEX.sticky+1);var MixedProtocolBadge=_styled(ProtocolBadge).withConfig({componentId:\"sc-o1ook0-8\"})([\"width:60px;\"]);var BadgeText=_styled(ThemedText.DeprecatedSmall).withConfig({componentId:\"sc-o1ook0-9\"})([\"word-break:normal;\"]);export default function RoutingDiagram(_ref5){var currencyIn=_ref5.currencyIn,currencyOut=_ref5.currencyOut,routes=_ref5.routes;var tokenIn=useTokenInfoFromActiveList(currencyIn);var tokenOut=useTokenInfoFromActiveList(currencyOut);return/*#__PURE__*/_jsx(Wrapper,{children:routes.map(function(entry,index){return/*#__PURE__*/_jsxs(RouteContainerRow,{children:[/*#__PURE__*/_jsx(CurrencyLogo,{currency:tokenIn,size:\"20px\"}),/*#__PURE__*/_jsx(Route,{entry:entry}),/*#__PURE__*/_jsx(CurrencyLogo,{currency:tokenOut,size:\"20px\"})]},index);})});}function Route(_ref6){var _ref6$entry=_ref6.entry,percent=_ref6$entry.percent,path=_ref6$entry.path,protocol=_ref6$entry.protocol;return/*#__PURE__*/_jsxs(RouteRow,{children:[/*#__PURE__*/_jsx(DottedLine,{children:/*#__PURE__*/_jsx(DotColor,{})}),/*#__PURE__*/_jsxs(OpaqueBadge,{children:[protocol===Protocol.MIXED?/*#__PURE__*/_jsx(MixedProtocolBadge,{children:/*#__PURE__*/_jsx(BadgeText,{fontSize:12,children:\"V3 + V2\"})}):/*#__PURE__*/_jsx(ProtocolBadge,{children:/*#__PURE__*/_jsx(BadgeText,{fontSize:12,children:protocol.toUpperCase()})}),/*#__PURE__*/_jsxs(BadgeText,{fontSize:14,style:{minWidth:'auto'},children:[percent.toSignificant(2),\"%\"]})]}),/*#__PURE__*/_jsx(AutoRow,{gap:\"1px\",width:\"100%\",style:{justifyContent:'space-evenly',zIndex:2},children:path.map(function(_ref7,index){var _ref8=_slicedToArray(_ref7,3),currency0=_ref8[0],currency1=_ref8[1],feeAmount=_ref8[2];return/*#__PURE__*/_jsx(Pool,{currency0:currency0,currency1:currency1,feeAmount:feeAmount},index);})})]});}function Pool(_ref9){var currency0=_ref9.currency0,currency1=_ref9.currency1,feeAmount=_ref9.feeAmount;var tokenInfo0=useTokenInfoFromActiveList(currency0);var tokenInfo1=useTokenInfoFromActiveList(currency1);// TODO - link pool icon to info.uniswap.org via query params\nreturn/*#__PURE__*/_jsx(MouseoverTooltip,{text:/*#__PURE__*/_jsx(Trans,{id:\"{0}% pool\",values:{0:(tokenInfo0===null||tokenInfo0===void 0?void 0:tokenInfo0.symbol)+'/'+(tokenInfo1===null||tokenInfo1===void 0?void 0:tokenInfo1.symbol)+' '+feeAmount/10000}}),children:/*#__PURE__*/_jsxs(PoolBadge,{children:[/*#__PURE__*/_jsx(Box,{margin:\"0 4px 0 12px\",children:/*#__PURE__*/_jsx(DoubleCurrencyLogo,{currency0:tokenInfo1,currency1:tokenInfo0,size:20})}),/*#__PURE__*/_jsxs(ThemedText.DeprecatedSmall,{fontSize:14,children:[feeAmount/10000,\"%\"]})]})});}","map":{"version":3,"names":["Protocol","Badge","DoubleCurrencyLogo","CurrencyLogo","Row","AutoRow","useTokenInfoFromActiveList","Box","ThemedText","Z_INDEX","MouseoverTooltip","Wrapper","styled","RouteContainerRow","RouteRow","PoolBadge","DottedLine","div","DotColor","DotLine","theme","deprecated_bg4","OpaqueBadge","backgroundInteractive","sticky","ProtocolBadge","deprecated_bg3","textSecondary","MixedProtocolBadge","BadgeText","DeprecatedSmall","RoutingDiagram","currencyIn","currencyOut","routes","tokenIn","tokenOut","map","entry","index","Route","percent","path","protocol","MIXED","toUpperCase","minWidth","toSignificant","justifyContent","zIndex","currency0","currency1","feeAmount","Pool","tokenInfo0","tokenInfo1","symbol"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/components/RoutingDiagram/RoutingDiagram.tsx"],"sourcesContent":["import { Trans } from '@lingui/macro'\nimport { Protocol } from '@uniswap/router-sdk'\nimport { Currency } from '@uniswap/sdk-core'\nimport { FeeAmount } from '@uniswap/v3-sdk'\nimport Badge from 'components/Badge'\nimport DoubleCurrencyLogo from 'components/DoubleLogo'\nimport CurrencyLogo from 'components/Logo/CurrencyLogo'\nimport Row, { AutoRow } from 'components/Row'\nimport { RoutingDiagramEntry } from 'components/swap/SwapRoute'\nimport { useTokenInfoFromActiveList } from 'hooks/useTokenInfoFromActiveList'\nimport { Box } from 'rebass'\nimport styled from 'styled-components/macro'\nimport { ThemedText } from 'theme'\nimport { Z_INDEX } from 'theme/zIndex'\n\nimport { ReactComponent as DotLine } from '../../assets/svg/dot_line.svg'\nimport { MouseoverTooltip } from '../Tooltip'\n\nconst Wrapper = styled(Box)`\n  align-items: center;\n  width: 100%;\n`\n\nconst RouteContainerRow = styled(Row)`\n  display: grid;\n  grid-template-columns: 24px 1fr 24px;\n`\n\nconst RouteRow = styled(Row)`\n  align-items: center;\n  display: flex;\n  justify-content: center;\n  padding: 0.1rem 0.5rem;\n  position: relative;\n`\n\nconst PoolBadge = styled(Badge)`\n  display: flex;\n  padding: 4px 4px;\n`\n\nconst DottedLine = styled.div`\n  display: flex;\n  align-items: center;\n  position: absolute;\n  width: calc(100%);\n  z-index: 1;\n  opacity: 0.5;\n`\n\nconst DotColor = styled(DotLine)`\n  path {\n    stroke: ${({ theme }) => theme.deprecated_bg4};\n  }\n`\n\nconst OpaqueBadge = styled(Badge)`\n  background-color: ${({ theme }) => theme.backgroundInteractive};\n  border-radius: 8px;\n  display: grid;\n  font-size: 12px;\n  grid-gap: 4px;\n  grid-auto-flow: column;\n  justify-content: start;\n  padding: 4px 6px 4px 4px;\n  z-index: ${Z_INDEX.sticky};\n`\n\nconst ProtocolBadge = styled(Badge)`\n  background-color: ${({ theme }) => theme.deprecated_bg3};\n  border-radius: 4px;\n  color: ${({ theme }) => theme.textSecondary};\n  font-size: 10px;\n  padding: 2px 4px;\n  z-index: ${Z_INDEX.sticky + 1};\n`\n\nconst MixedProtocolBadge = styled(ProtocolBadge)`\n  width: 60px;\n`\n\nconst BadgeText = styled(ThemedText.DeprecatedSmall)`\n  word-break: normal;\n`\n\nexport default function RoutingDiagram({\n  currencyIn,\n  currencyOut,\n  routes,\n}: {\n  currencyIn: Currency\n  currencyOut: Currency\n  routes: RoutingDiagramEntry[]\n}) {\n  const tokenIn = useTokenInfoFromActiveList(currencyIn)\n  const tokenOut = useTokenInfoFromActiveList(currencyOut)\n\n  return (\n    <Wrapper>\n      {routes.map((entry, index) => (\n        <RouteContainerRow key={index}>\n          <CurrencyLogo currency={tokenIn} size=\"20px\" />\n          <Route entry={entry} />\n          <CurrencyLogo currency={tokenOut} size=\"20px\" />\n        </RouteContainerRow>\n      ))}\n    </Wrapper>\n  )\n}\n\nfunction Route({ entry: { percent, path, protocol } }: { entry: RoutingDiagramEntry }) {\n  return (\n    <RouteRow>\n      <DottedLine>\n        <DotColor />\n      </DottedLine>\n      <OpaqueBadge>\n        {protocol === Protocol.MIXED ? (\n          <MixedProtocolBadge>\n            <BadgeText fontSize={12}>V3 + V2</BadgeText>\n          </MixedProtocolBadge>\n        ) : (\n          <ProtocolBadge>\n            <BadgeText fontSize={12}>{protocol.toUpperCase()}</BadgeText>\n          </ProtocolBadge>\n        )}\n        <BadgeText fontSize={14} style={{ minWidth: 'auto' }}>\n          {percent.toSignificant(2)}%\n        </BadgeText>\n      </OpaqueBadge>\n      <AutoRow gap=\"1px\" width=\"100%\" style={{ justifyContent: 'space-evenly', zIndex: 2 }}>\n        {path.map(([currency0, currency1, feeAmount], index) => (\n          <Pool key={index} currency0={currency0} currency1={currency1} feeAmount={feeAmount} />\n        ))}\n      </AutoRow>\n    </RouteRow>\n  )\n}\n\nfunction Pool({ currency0, currency1, feeAmount }: { currency0: Currency; currency1: Currency; feeAmount: FeeAmount }) {\n  const tokenInfo0 = useTokenInfoFromActiveList(currency0)\n  const tokenInfo1 = useTokenInfoFromActiveList(currency1)\n\n  // TODO - link pool icon to info.uniswap.org via query params\n  return (\n    <MouseoverTooltip\n      text={<Trans>{tokenInfo0?.symbol + '/' + tokenInfo1?.symbol + ' ' + feeAmount / 10000}% pool</Trans>}\n    >\n      <PoolBadge>\n        <Box margin=\"0 4px 0 12px\">\n          <DoubleCurrencyLogo currency0={tokenInfo1} currency1={tokenInfo0} size={20} />\n        </Box>\n        <ThemedText.DeprecatedSmall fontSize={14}>{feeAmount / 10000}%</ThemedText.DeprecatedSmall>\n      </PoolBadge>\n    </MouseoverTooltip>\n  )\n}\n"],"mappings":"oPACA,OAASA,QAAQ,KAAQ,qBAAqB,CAG9C,MAAOC,MAAK,KAAM,kBAAkB,CACpC,MAAOC,mBAAkB,KAAM,uBAAuB,CACtD,MAAOC,aAAY,KAAM,8BAA8B,CACvD,MAAOC,IAAG,EAAIC,OAAO,KAAQ,gBAAgB,CAE7C,OAASC,0BAA0B,KAAQ,kCAAkC,CAC7E,OAASC,GAAG,KAAQ,QAAQ,CAE5B,OAASC,UAAU,KAAQ,OAAO,CAClC,OAASC,OAAO,KAAQ,cAAc,0GAGtC,OAASC,gBAAgB,KAAQ,YAAY,yFAE7C,GAAMC,QAAO,CAAGC,OAAM,CAACL,GAAG,CAAC,4EAG1B,CAED,GAAMM,kBAAiB,CAAGD,OAAM,CAACR,GAAG,CAAC,+FAGpC,CAED,GAAMU,SAAQ,CAAGF,OAAM,CAACR,GAAG,CAAC,6IAM3B,CAED,GAAMW,UAAS,CAAGH,OAAM,CAACX,KAAK,CAAC,2EAG9B,CAED,GAAMe,WAAU,CAAGJ,OAAM,CAACK,GAAG,uIAO5B,CAED,GAAMC,SAAQ,CAAGN,OAAM,CAACO,OAAO,CAAC,+DAElB,kBAAGC,MAAK,MAALA,KAAK,OAAOA,MAAK,CAACC,cAAc,GAEhD,CAED,GAAMC,YAAW,CAAGV,OAAM,CAACX,KAAK,CAAC,8MACX,mBAAGmB,MAAK,OAALA,KAAK,OAAOA,MAAK,CAACG,qBAAqB,GAQnDd,OAAO,CAACe,MAAM,CAC1B,CAED,GAAMC,cAAa,CAAGb,OAAM,CAACX,KAAK,CAAC,0IACb,mBAAGmB,MAAK,OAALA,KAAK,OAAOA,MAAK,CAACM,cAAc,GAE9C,mBAAGN,MAAK,OAALA,KAAK,OAAOA,MAAK,CAACO,aAAa,GAGhClB,OAAO,CAACe,MAAM,CAAG,CAAC,CAC9B,CAED,GAAMI,mBAAkB,CAAGhB,OAAM,CAACa,aAAa,CAAC,yDAE/C,CAED,GAAMI,UAAS,CAAGjB,OAAM,CAACJ,UAAU,CAACsB,eAAe,CAAC,gEAEnD,CAED,cAAe,SAASC,eAAc,OAQnC,IAPDC,WAAU,OAAVA,UAAU,CACVC,WAAW,OAAXA,WAAW,CACXC,MAAM,OAANA,MAAM,CAMN,GAAMC,QAAO,CAAG7B,0BAA0B,CAAC0B,UAAU,CAAC,CACtD,GAAMI,SAAQ,CAAG9B,0BAA0B,CAAC2B,WAAW,CAAC,CAExD,mBACE,KAAC,OAAO,WACLC,MAAM,CAACG,GAAG,CAAC,SAACC,KAAK,CAAEC,KAAK,qBACvB,MAAC,iBAAiB,yBAChB,KAAC,YAAY,EAAC,QAAQ,CAAEJ,OAAQ,CAAC,IAAI,CAAC,MAAM,EAAG,cAC/C,KAAC,KAAK,EAAC,KAAK,CAAEG,KAAM,EAAG,cACvB,KAAC,YAAY,EAAC,QAAQ,CAAEF,QAAS,CAAC,IAAI,CAAC,MAAM,EAAG,GAH1BG,KAAK,CAIT,EACrB,CAAC,EACM,CAEd,CAEA,QAASC,MAAK,OAAyE,uBAAtEF,KAAK,CAAIG,OAAO,aAAPA,OAAO,CAAEC,IAAI,aAAJA,IAAI,CAAEC,QAAQ,aAARA,QAAQ,CAC/C,mBACE,MAAC,QAAQ,yBACP,KAAC,UAAU,wBACT,KAAC,QAAQ,IAAG,EACD,cACb,MAAC,WAAW,YACTA,QAAQ,GAAK3C,QAAQ,CAAC4C,KAAK,cAC1B,KAAC,kBAAkB,wBACjB,KAAC,SAAS,EAAC,QAAQ,CAAE,EAAG,qBAAoB,EACzB,cAErB,KAAC,aAAa,wBACZ,KAAC,SAAS,EAAC,QAAQ,CAAE,EAAG,UAAED,QAAQ,CAACE,WAAW,EAAE,EAAa,EAEhE,cACD,MAAC,SAAS,EAAC,QAAQ,CAAE,EAAG,CAAC,KAAK,CAAE,CAAEC,QAAQ,CAAE,MAAO,CAAE,WAClDL,OAAO,CAACM,aAAa,CAAC,CAAC,CAAC,OACf,GACA,cACd,KAAC,OAAO,EAAC,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAE,CAAEC,cAAc,CAAE,cAAc,CAAEC,MAAM,CAAE,CAAE,CAAE,UAClFP,IAAI,CAACL,GAAG,CAAC,eAAoCE,KAAK,oCAAvCW,SAAS,UAAEC,SAAS,UAAEC,SAAS,6BACzC,KAAC,IAAI,EAAa,SAAS,CAAEF,SAAU,CAAC,SAAS,CAAEC,SAAU,CAAC,SAAS,CAAEC,SAAU,EAAxEb,KAAK,CAAsE,EACvF,CAAC,EACM,GACD,CAEf,CAEA,QAASc,KAAI,OAA0G,IAAvGH,UAAS,OAATA,SAAS,CAAEC,SAAS,OAATA,SAAS,CAAEC,SAAS,OAATA,SAAS,CAC7C,GAAME,WAAU,CAAGhD,0BAA0B,CAAC4C,SAAS,CAAC,CACxD,GAAMK,WAAU,CAAGjD,0BAA0B,CAAC6C,SAAS,CAAC,CAExD;AACA,mBACE,KAAC,gBAAgB,EACf,IAAI,cAAE,qCAAQ,CAAAG,UAAU,SAAVA,UAAU,iBAAVA,UAAU,CAAEE,MAAM,EAAG,GAAG,EAAGD,UAAU,SAAVA,UAAU,iBAAVA,UAAU,CAAEC,MAAM,EAAG,GAAG,CAAGJ,SAAS,CAAG,KAAK,GAAgB,uBAErG,MAAC,SAAS,yBACR,KAAC,GAAG,EAAC,MAAM,CAAC,cAAc,uBACxB,KAAC,kBAAkB,EAAC,SAAS,CAAEG,UAAW,CAAC,SAAS,CAAED,UAAW,CAAC,IAAI,CAAE,EAAG,EAAG,EAC1E,cACN,MAAC,UAAU,CAAC,eAAe,EAAC,QAAQ,CAAE,EAAG,WAAEF,SAAS,CAAG,KAAK,OAA+B,GACjF,EACK,CAEvB"},"metadata":{},"sourceType":"module"}