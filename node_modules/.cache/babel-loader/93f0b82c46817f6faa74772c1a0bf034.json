{"ast":null,"code":"import _slicedToArray from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectSpread from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _objectWithoutProperties from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import _taggedTemplateLiteral from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import{useTheme as _useTheme}from\"styled-components\";import _styled from\"styled-components\";var _excluded=[\"end\"];var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5;import{Trans}from\"@lingui/react\";import{BigNumber}from'@ethersproject/bignumber';import{Trace}from'@uniswap/analytics';import{PageName}from'@uniswap/analytics-events';import{CurrencyAmount,Fraction,Percent}from'@uniswap/sdk-core';import{NonfungiblePositionManager,Position}from'@uniswap/v3-sdk';import{useWeb3React}from'@web3-react/core';import{sendEvent}from'components/analytics';import Badge from'components/Badge';import{ButtonConfirmed,ButtonGray,ButtonPrimary}from'components/Button';import{DarkCard,LightCard}from'components/Card';import{AutoColumn}from'components/Column';import DoubleCurrencyLogo from'components/DoubleLogo';import Loader from'components/Loader';import CurrencyLogo from'components/Logo/CurrencyLogo';import{RowBetween,RowFixed}from'components/Row';import{Dots}from'components/swap/styleds';import Toggle from'components/Toggle';import TransactionConfirmationModal,{ConfirmationModalContent}from'components/TransactionConfirmationModal';import{useToken}from'hooks/Tokens';import{useV3NFTPositionManagerContract}from'hooks/useContract';import useIsTickAtLimit from'hooks/useIsTickAtLimit';import{PoolState,usePool}from'hooks/usePools';import useStablecoinPrice from'hooks/useStablecoinPrice';import{useV3PositionFees}from'hooks/useV3PositionFees';import{useV3PositionFromTokenId}from'hooks/useV3Positions';import{useSingleCallResult}from'lib/hooks/multicall';import useNativeCurrency from'lib/hooks/useNativeCurrency';import{useCallback,useMemo,useRef,useState}from'react';import{Link,useParams}from'react-router-dom';import{Bound}from'state/mint/v3/actions';import{useIsTransactionPending,useTransactionAdder}from'state/transactions/hooks';import{ExternalLink,HideExtraSmall,ThemedText}from'theme';import{currencyId}from'utils/currencyId';import{formatCurrencyAmount}from'utils/formatCurrencyAmount';import{formatTickPrice}from'utils/formatTickPrice';import{unwrappedToken}from'utils/unwrappedToken';import RangeBadge from'../../components/Badge/RangeBadge';import{getPriceOrderingFromPositionForUI}from'../../components/PositionListItem';import RateToggle from'../../components/RateToggle';import{SwitchLocaleLink}from'../../components/SwitchLocaleLink';import{usePositionTokenURI}from'../../hooks/usePositionTokenURI';import{TransactionType}from'../../state/transactions/types';import{calculateGasMargin}from'../../utils/calculateGasMargin';import{ExplorerDataType,getExplorerLink}from'../../utils/getExplorerLink';import{LoadingRows}from'./styleds';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var PageWrapper=_styled.div.withConfig({componentId:\"sc-z20cv-0\"})([\"padding:68px 8px 0px;min-width:800px;max-width:960px;@media only screen and (max-width:\",\"){padding:48px 8px 0px;}@media only screen and (max-width:\",\"){padding-top:20px;}\",\";\",\";@media only screen and (max-width:620px){min-width:500px;max-width:500px;}\",\";\"],function(_ref){var theme=_ref.theme;return\"\".concat(theme.breakpoint.md,\"px\");},function(_ref2){var theme=_ref2.theme;return\"\".concat(theme.breakpoint.sm,\"px\");},function(_ref3){var theme=_ref3.theme;return theme.deprecated_mediaWidth.deprecated_upToMedium(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    min-width: 680px;\\n    max-width: 680px;\\n  \"])));},function(_ref4){var theme=_ref4.theme;return theme.deprecated_mediaWidth.deprecated_upToSmall(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    min-width: 600px;\\n    max-width: 600px;\\n  \"])));},function(_ref5){var theme=_ref5.theme;return theme.deprecated_mediaWidth.deprecated_upToExtraSmall(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n    min-width: 340px;\\n    max-width: 340px;\\n  \"])));});var BadgeText=_styled.div.withConfig({componentId:\"sc-z20cv-1\"})([\"font-weight:500;font-size:14px;\"]);// responsive text\n// disable the warning because we don't use the end prop, we just want to filter it out\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nvar Label=_styled(function(_ref6){var end=_ref6.end,props=_objectWithoutProperties(_ref6,_excluded);return/*#__PURE__*/_jsx(ThemedText.DeprecatedLabel,_objectSpread({},props));}).withConfig({componentId:\"sc-z20cv-2\"})([\"display:flex;font-size:16px;justify-content:\",\";align-items:center;\"],function(_ref7){var end=_ref7.end;return end?'flex-end':'flex-start';});var ExtentsText=_styled.span.withConfig({componentId:\"sc-z20cv-3\"})([\"color:\",\";font-size:14px;text-align:center;margin-right:4px;font-weight:500;\"],function(_ref8){var theme=_ref8.theme;return theme.textSecondary;});var HoverText=_styled(ThemedText.DeprecatedMain).withConfig({componentId:\"sc-z20cv-4\"})([\"text-decoration:none;color:\",\";:hover{color:\",\";text-decoration:none;}\"],function(_ref9){var theme=_ref9.theme;return theme.textTertiary;},function(_ref10){var theme=_ref10.theme;return theme.textPrimary;});var DoubleArrow=_styled.span.withConfig({componentId:\"sc-z20cv-5\"})([\"color:\",\";margin:0 1rem;\"],function(_ref11){var theme=_ref11.theme;return theme.textTertiary;});var ResponsiveRow=_styled(RowBetween).withConfig({componentId:\"sc-z20cv-6\"})([\"\",\";\"],function(_ref12){var theme=_ref12.theme;return theme.deprecated_mediaWidth.deprecated_upToSmall(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n    flex-direction: column;\\n    align-items: flex-start;\\n    row-gap: 16px;\\n    width: 100%:\\n  \"])));});var ResponsiveButtonPrimary=_styled(ButtonPrimary).withConfig({componentId:\"sc-z20cv-7\"})([\"border-radius:12px;padding:6px 8px;width:fit-content;font-size:16px;\",\";\"],function(_ref13){var theme=_ref13.theme;return theme.deprecated_mediaWidth.deprecated_upToSmall(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n    flex: 1 1 auto;\\n    width: 49%;\\n  \"])));});var NFTGrid=_styled.div.withConfig({componentId:\"sc-z20cv-8\"})([\"display:grid;grid-template:'overlap';min-height:400px;\"]);var NFTCanvas=_styled.canvas.withConfig({componentId:\"sc-z20cv-9\"})([\"grid-area:overlap;\"]);var NFTImage=_styled.img.withConfig({componentId:\"sc-z20cv-10\"})([\"grid-area:overlap;height:400px;z-index:1;\"]);function CurrentPriceCard(_ref14){var inverted=_ref14.inverted,pool=_ref14.pool,currencyQuote=_ref14.currencyQuote,currencyBase=_ref14.currencyBase;if(!pool||!currencyQuote||!currencyBase){return null;}return/*#__PURE__*/_jsx(LightCard,{padding:\"12px \",children:/*#__PURE__*/_jsxs(AutoColumn,{gap:\"sm\",justify:\"center\",children:[/*#__PURE__*/_jsx(ExtentsText,{children:/*#__PURE__*/_jsx(Trans,{id:\"Current price\"})}),/*#__PURE__*/_jsxs(ThemedText.DeprecatedMediumHeader,{textAlign:\"center\",children:[(inverted?pool.token1Price:pool.token0Price).toSignificant(6),' ']}),/*#__PURE__*/_jsx(ExtentsText,{children:/*#__PURE__*/_jsx(Trans,{id:\"{0} per {1}\",values:{0:currencyQuote===null||currencyQuote===void 0?void 0:currencyQuote.symbol,1:currencyBase===null||currencyBase===void 0?void 0:currencyBase.symbol}})})]})});}function LinkedCurrency(_ref15){var chainId=_ref15.chainId,currency=_ref15.currency;var address=currency===null||currency===void 0?void 0:currency.address;if(typeof chainId==='number'&&address){return/*#__PURE__*/_jsx(ExternalLink,{href:getExplorerLink(chainId,address,ExplorerDataType.TOKEN),children:/*#__PURE__*/_jsxs(RowFixed,{children:[/*#__PURE__*/_jsx(CurrencyLogo,{currency:currency,size:\"20px\",style:{marginRight:'0.5rem'}}),/*#__PURE__*/_jsxs(ThemedText.DeprecatedMain,{children:[currency===null||currency===void 0?void 0:currency.symbol,\" \\u2197\"]})]})});}return/*#__PURE__*/_jsxs(RowFixed,{children:[/*#__PURE__*/_jsx(CurrencyLogo,{currency:currency,size:\"20px\",style:{marginRight:'0.5rem'}}),/*#__PURE__*/_jsx(ThemedText.DeprecatedMain,{children:currency===null||currency===void 0?void 0:currency.symbol})]});}function getRatio(lower,current,upper){try{if(!current.greaterThan(lower)){return 100;}else if(!current.lessThan(upper)){return 0;}var a=Number.parseFloat(lower.toSignificant(15));var b=Number.parseFloat(upper.toSignificant(15));var c=Number.parseFloat(current.toSignificant(15));var ratio=Math.floor(1/((Math.sqrt(a*b)-Math.sqrt(b*c))/(c-Math.sqrt(b*c))+1)*100);if(ratio<0||ratio>100){throw Error('Out of range');}return ratio;}catch(_unused){return undefined;}}// snapshots a src img into a canvas\nfunction getSnapshot(src,canvas,targetHeight){var context=canvas.getContext('2d');if(context){var width=src.width,height=src.height;// src may be hidden and not have the target dimensions\nvar ratio=width/height;height=targetHeight;width=Math.round(ratio*targetHeight);// Ensure crispness at high DPIs\ncanvas.width=width*devicePixelRatio;canvas.height=height*devicePixelRatio;canvas.style.width=width+'px';canvas.style.height=height+'px';context.scale(devicePixelRatio,devicePixelRatio);context.clearRect(0,0,width,height);context.drawImage(src,0,0,width,height);}}function NFT(_ref16){var image=_ref16.image,targetHeight=_ref16.height;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),animate=_useState2[0],setAnimate=_useState2[1];var canvasRef=useRef(null);var imageRef=useRef(null);return/*#__PURE__*/_jsxs(NFTGrid,{onMouseEnter:function onMouseEnter(){setAnimate(true);},onMouseLeave:function onMouseLeave(){// snapshot the current frame so the transition to the canvas is smooth\nif(imageRef.current&&canvasRef.current){getSnapshot(imageRef.current,canvasRef.current,targetHeight);}setAnimate(false);},children:[/*#__PURE__*/_jsx(NFTCanvas,{ref:canvasRef}),/*#__PURE__*/_jsx(NFTImage,{ref:imageRef,src:image,hidden:!animate,onLoad:function onLoad(){// snapshot for the canvas\nif(imageRef.current&&canvasRef.current){getSnapshot(imageRef.current,canvasRef.current,targetHeight);}}})]});}var useInverter=function useInverter(_ref17){var priceLower=_ref17.priceLower,priceUpper=_ref17.priceUpper,quote=_ref17.quote,base=_ref17.base,invert=_ref17.invert;return{priceUpper:invert?priceLower===null||priceLower===void 0?void 0:priceLower.invert():priceUpper,priceLower:invert?priceUpper===null||priceUpper===void 0?void 0:priceUpper.invert():priceLower,quote:invert?base:quote,base:invert?quote:base};};export function PositionPage(){var _useSingleCallResult$,_feeValueUpper$curren2,_feeValueLower$curren2;var _useParams=useParams(),tokenIdFromUrl=_useParams.tokenId;var _useWeb3React=useWeb3React(),chainId=_useWeb3React.chainId,account=_useWeb3React.account,provider=_useWeb3React.provider;var theme=_useTheme();var parsedTokenId=tokenIdFromUrl?BigNumber.from(tokenIdFromUrl):undefined;var _useV3PositionFromTok=useV3PositionFromTokenId(parsedTokenId),loading=_useV3PositionFromTok.loading,positionDetails=_useV3PositionFromTok.position;var _ref18=positionDetails||{},token0Address=_ref18.token0,token1Address=_ref18.token1,feeAmount=_ref18.fee,liquidity=_ref18.liquidity,tickLower=_ref18.tickLower,tickUpper=_ref18.tickUpper,tokenId=_ref18.tokenId;var removed=liquidity===null||liquidity===void 0?void 0:liquidity.eq(0);var metadata=usePositionTokenURI(parsedTokenId);var token0=useToken(token0Address);var token1=useToken(token1Address);var currency0=token0?unwrappedToken(token0):undefined;var currency1=token1?unwrappedToken(token1):undefined;// flag for receiving WETH\nvar _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),receiveWETH=_useState4[0],setReceiveWETH=_useState4[1];var nativeCurrency=useNativeCurrency();var nativeWrappedSymbol=nativeCurrency.wrapped.symbol;// construct Position from details returned\nvar _usePool=usePool(token0!==null&&token0!==void 0?token0:undefined,token1!==null&&token1!==void 0?token1:undefined,feeAmount),_usePool2=_slicedToArray(_usePool,2),poolState=_usePool2[0],pool=_usePool2[1];var position=useMemo(function(){if(pool&&liquidity&&typeof tickLower==='number'&&typeof tickUpper==='number'){return new Position({pool:pool,liquidity:liquidity.toString(),tickLower:tickLower,tickUpper:tickUpper});}return undefined;},[liquidity,pool,tickLower,tickUpper]);var tickAtLimit=useIsTickAtLimit(feeAmount,tickLower,tickUpper);var pricesFromPosition=getPriceOrderingFromPositionForUI(position);var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),manuallyInverted=_useState6[0],setManuallyInverted=_useState6[1];// handle manual inversion\nvar _useInverter=useInverter({priceLower:pricesFromPosition.priceLower,priceUpper:pricesFromPosition.priceUpper,quote:pricesFromPosition.quote,base:pricesFromPosition.base,invert:manuallyInverted}),priceLower=_useInverter.priceLower,priceUpper=_useInverter.priceUpper,base=_useInverter.base;var inverted=token1?base===null||base===void 0?void 0:base.equals(token1):undefined;var currencyQuote=inverted?currency0:currency1;var currencyBase=inverted?currency1:currency0;var ratio=useMemo(function(){return priceLower&&pool&&priceUpper?getRatio(inverted?priceUpper.invert():priceLower,pool.token0Price,inverted?priceLower.invert():priceUpper):undefined;},[inverted,pool,priceLower,priceUpper]);// fees\nvar _useV3PositionFees=useV3PositionFees(pool!==null&&pool!==void 0?pool:undefined,positionDetails===null||positionDetails===void 0?void 0:positionDetails.tokenId,receiveWETH),_useV3PositionFees2=_slicedToArray(_useV3PositionFees,2),feeValue0=_useV3PositionFees2[0],feeValue1=_useV3PositionFees2[1];// these currencies will match the feeValue{0,1} currencies for the purposes of fee collection\nvar currency0ForFeeCollectionPurposes=pool?receiveWETH?pool.token0:unwrappedToken(pool.token0):undefined;var currency1ForFeeCollectionPurposes=pool?receiveWETH?pool.token1:unwrappedToken(pool.token1):undefined;var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),collecting=_useState8[0],setCollecting=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),collectMigrationHash=_useState10[0],setCollectMigrationHash=_useState10[1];var isCollectPending=useIsTransactionPending(collectMigrationHash!==null&&collectMigrationHash!==void 0?collectMigrationHash:undefined);var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),showConfirm=_useState12[0],setShowConfirm=_useState12[1];// usdc prices always in terms of tokens\nvar price0=useStablecoinPrice(token0!==null&&token0!==void 0?token0:undefined);var price1=useStablecoinPrice(token1!==null&&token1!==void 0?token1:undefined);var fiatValueOfFees=useMemo(function(){if(!price0||!price1||!feeValue0||!feeValue1)return null;// we wrap because it doesn't matter, the quote returns a USDC amount\nvar feeValue0Wrapped=feeValue0===null||feeValue0===void 0?void 0:feeValue0.wrapped;var feeValue1Wrapped=feeValue1===null||feeValue1===void 0?void 0:feeValue1.wrapped;if(!feeValue0Wrapped||!feeValue1Wrapped)return null;var amount0=price0.quote(feeValue0Wrapped);var amount1=price1.quote(feeValue1Wrapped);return amount0.add(amount1);},[price0,price1,feeValue0,feeValue1]);var fiatValueOfLiquidity=useMemo(function(){if(!price0||!price1||!position)return null;var amount0=price0.quote(position.amount0);var amount1=price1.quote(position.amount1);return amount0.add(amount1);},[price0,price1,position]);var addTransaction=useTransactionAdder();var positionManager=useV3NFTPositionManagerContract();var collect=useCallback(function(){if(!currency0ForFeeCollectionPurposes||!currency1ForFeeCollectionPurposes||!chainId||!positionManager||!account||!tokenId||!provider)return;setCollecting(true);// we fall back to expecting 0 fees in case the fetch fails, which is safe in the\n// vast majority of cases\nvar _NonfungiblePositionM=NonfungiblePositionManager.collectCallParameters({tokenId:tokenId.toString(),expectedCurrencyOwed0:feeValue0!==null&&feeValue0!==void 0?feeValue0:CurrencyAmount.fromRawAmount(currency0ForFeeCollectionPurposes,0),expectedCurrencyOwed1:feeValue1!==null&&feeValue1!==void 0?feeValue1:CurrencyAmount.fromRawAmount(currency1ForFeeCollectionPurposes,0),recipient:account}),calldata=_NonfungiblePositionM.calldata,value=_NonfungiblePositionM.value;var txn={to:positionManager.address,data:calldata,value:value};provider.getSigner().estimateGas(txn).then(function(estimate){var newTxn=_objectSpread(_objectSpread({},txn),{},{gasLimit:calculateGasMargin(estimate)});return provider.getSigner().sendTransaction(newTxn).then(function(response){setCollectMigrationHash(response.hash);setCollecting(false);sendEvent({category:'Liquidity',action:'CollectV3',label:[currency0ForFeeCollectionPurposes.symbol,currency1ForFeeCollectionPurposes.symbol].join('/')});addTransaction(response,{type:TransactionType.COLLECT_FEES,currencyId0:currencyId(currency0ForFeeCollectionPurposes),currencyId1:currencyId(currency1ForFeeCollectionPurposes),expectedCurrencyOwed0:CurrencyAmount.fromRawAmount(currency0ForFeeCollectionPurposes,0).toExact(),expectedCurrencyOwed1:CurrencyAmount.fromRawAmount(currency1ForFeeCollectionPurposes,0).toExact()});});}).catch(function(error){setCollecting(false);console.error(error);});},[chainId,feeValue0,feeValue1,currency0ForFeeCollectionPurposes,currency1ForFeeCollectionPurposes,positionManager,account,tokenId,addTransaction,provider]);var owner=(_useSingleCallResult$=useSingleCallResult(tokenId?positionManager:null,'ownerOf',[tokenId]).result)===null||_useSingleCallResult$===void 0?void 0:_useSingleCallResult$[0];var ownsNFT=owner===account||(positionDetails===null||positionDetails===void 0?void 0:positionDetails.operator)===account;var feeValueUpper=inverted?feeValue0:feeValue1;var feeValueLower=inverted?feeValue1:feeValue0;// check if price is within range\nvar below=pool&&typeof tickLower==='number'?pool.tickCurrent<tickLower:undefined;var above=pool&&typeof tickUpper==='number'?pool.tickCurrent>=tickUpper:undefined;var inRange=typeof below==='boolean'&&typeof above==='boolean'?!below&&!above:false;function modalHeader(){var _feeValueUpper$curren,_feeValueLower$curren;return/*#__PURE__*/_jsxs(AutoColumn,{gap:\"md\",style:{marginTop:'20px'},children:[/*#__PURE__*/_jsx(LightCard,{padding:\"12px 16px\",children:/*#__PURE__*/_jsxs(AutoColumn,{gap:\"md\",children:[/*#__PURE__*/_jsxs(RowBetween,{children:[/*#__PURE__*/_jsxs(RowFixed,{children:[/*#__PURE__*/_jsx(CurrencyLogo,{currency:feeValueUpper===null||feeValueUpper===void 0?void 0:feeValueUpper.currency,size:\"20px\",style:{marginRight:'0.5rem'}}),/*#__PURE__*/_jsx(ThemedText.DeprecatedMain,{children:feeValueUpper?formatCurrencyAmount(feeValueUpper,4):'-'})]}),/*#__PURE__*/_jsx(ThemedText.DeprecatedMain,{children:feeValueUpper===null||feeValueUpper===void 0?void 0:(_feeValueUpper$curren=feeValueUpper.currency)===null||_feeValueUpper$curren===void 0?void 0:_feeValueUpper$curren.symbol})]}),/*#__PURE__*/_jsxs(RowBetween,{children:[/*#__PURE__*/_jsxs(RowFixed,{children:[/*#__PURE__*/_jsx(CurrencyLogo,{currency:feeValueLower===null||feeValueLower===void 0?void 0:feeValueLower.currency,size:\"20px\",style:{marginRight:'0.5rem'}}),/*#__PURE__*/_jsx(ThemedText.DeprecatedMain,{children:feeValueLower?formatCurrencyAmount(feeValueLower,4):'-'})]}),/*#__PURE__*/_jsx(ThemedText.DeprecatedMain,{children:feeValueLower===null||feeValueLower===void 0?void 0:(_feeValueLower$curren=feeValueLower.currency)===null||_feeValueLower$curren===void 0?void 0:_feeValueLower$curren.symbol})]})]})}),/*#__PURE__*/_jsx(ThemedText.DeprecatedItalic,{children:/*#__PURE__*/_jsx(Trans,{id:\"Collecting fees will withdraw currently available fees for you.\"})}),/*#__PURE__*/_jsx(ButtonPrimary,{onClick:collect,children:/*#__PURE__*/_jsx(Trans,{id:\"Collect\"})})]});}var showCollectAsWeth=Boolean(ownsNFT&&((feeValue0===null||feeValue0===void 0?void 0:feeValue0.greaterThan(0))||(feeValue1===null||feeValue1===void 0?void 0:feeValue1.greaterThan(0)))&&currency0&&currency1&&(currency0.isNative||currency1.isNative)&&!collectMigrationHash);return loading||poolState===PoolState.LOADING||!feeAmount?/*#__PURE__*/_jsxs(LoadingRows,{children:[/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{})]}):/*#__PURE__*/_jsx(Trace,{page:PageName.POOL_PAGE,shouldLogImpression:true,children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(PageWrapper,{children:[/*#__PURE__*/_jsx(TransactionConfirmationModal,{isOpen:showConfirm,onDismiss:function onDismiss(){return setShowConfirm(false);},attemptingTxn:collecting,hash:collectMigrationHash!==null&&collectMigrationHash!==void 0?collectMigrationHash:'',content:function content(){return/*#__PURE__*/_jsx(ConfirmationModalContent,{title:/*#__PURE__*/_jsx(Trans,{id:\"Claim fees\"}),onDismiss:function onDismiss(){return setShowConfirm(false);},topContent:modalHeader});},pendingText:/*#__PURE__*/_jsx(Trans,{id:\"Collecting fees\"})}),/*#__PURE__*/_jsxs(AutoColumn,{gap:\"md\",children:[/*#__PURE__*/_jsxs(AutoColumn,{gap:\"sm\",children:[/*#__PURE__*/_jsx(Link,{\"data-cy\":\"visit-pool\",style:{textDecoration:'none',width:'fit-content',marginBottom:'0.5rem'},to:\"/pool\",children:/*#__PURE__*/_jsx(HoverText,{children:/*#__PURE__*/_jsx(Trans,{id:\"\\u2190 Back to Pools\"})})}),/*#__PURE__*/_jsxs(ResponsiveRow,{children:[/*#__PURE__*/_jsxs(RowFixed,{children:[/*#__PURE__*/_jsx(DoubleCurrencyLogo,{currency0:currencyBase,currency1:currencyQuote,size:24,margin:true}),/*#__PURE__*/_jsxs(ThemedText.DeprecatedLabel,{fontSize:\"24px\",mr:\"10px\",children:[\"\\xA0\",currencyQuote===null||currencyQuote===void 0?void 0:currencyQuote.symbol,\"\\xA0/\\xA0\",currencyBase===null||currencyBase===void 0?void 0:currencyBase.symbol]}),/*#__PURE__*/_jsx(Badge,{style:{marginRight:'8px'},children:/*#__PURE__*/_jsx(BadgeText,{children:/*#__PURE__*/_jsx(Trans,{id:\"{0}%\",values:{0:new Percent(feeAmount,1000000).toSignificant()}})})}),/*#__PURE__*/_jsx(RangeBadge,{removed:removed,inRange:inRange})]}),ownsNFT&&/*#__PURE__*/_jsxs(RowFixed,{children:[currency0&&currency1&&feeAmount&&tokenId?/*#__PURE__*/_jsx(ButtonGray,{as:Link,to:\"/increase/\".concat(currencyId(currency0),\"/\").concat(currencyId(currency1),\"/\").concat(feeAmount,\"/\").concat(tokenId),width:\"fit-content\",padding:\"6px 8px\",$borderRadius:\"12px\",style:{marginRight:'8px'},children:/*#__PURE__*/_jsx(Trans,{id:\"Increase Liquidity\"})}):null,tokenId&&!removed?/*#__PURE__*/_jsx(ResponsiveButtonPrimary,{as:Link,to:\"/remove/\".concat(tokenId),width:\"fit-content\",padding:\"6px 8px\",$borderRadius:\"12px\",children:/*#__PURE__*/_jsx(Trans,{id:\"Remove Liquidity\"})}):null]})]}),/*#__PURE__*/_jsx(RowBetween,{})]}),/*#__PURE__*/_jsxs(ResponsiveRow,{align:\"flex-start\",children:['result'in metadata?/*#__PURE__*/_jsxs(DarkCard,{width:\"100%\",height:\"100%\",style:{display:'flex',alignItems:'center',flexDirection:'column',justifyContent:'space-around',marginRight:'12px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{marginRight:12},children:/*#__PURE__*/_jsx(NFT,{image:metadata.result.image,height:400})}),typeof chainId==='number'&&owner&&!ownsNFT?/*#__PURE__*/_jsx(ExternalLink,{href:getExplorerLink(chainId,owner,ExplorerDataType.ADDRESS),children:/*#__PURE__*/_jsx(Trans,{id:\"Owner\"})}):null]}):/*#__PURE__*/_jsx(DarkCard,{width:\"100%\",height:\"100%\",style:{marginRight:'12px',minWidth:'340px'},children:/*#__PURE__*/_jsx(Loader,{})}),/*#__PURE__*/_jsxs(AutoColumn,{gap:\"sm\",style:{width:'100%',height:'100%'},children:[/*#__PURE__*/_jsx(DarkCard,{children:/*#__PURE__*/_jsxs(AutoColumn,{gap:\"md\",style:{width:'100%'},children:[/*#__PURE__*/_jsxs(AutoColumn,{gap:\"md\",children:[/*#__PURE__*/_jsx(Label,{children:/*#__PURE__*/_jsx(Trans,{id:\"Liquidity\"})}),(fiatValueOfLiquidity===null||fiatValueOfLiquidity===void 0?void 0:fiatValueOfLiquidity.greaterThan(new Fraction(1,100)))?/*#__PURE__*/_jsx(ThemedText.DeprecatedLargeHeader,{fontSize:\"36px\",fontWeight:500,children:/*#__PURE__*/_jsx(Trans,{id:\"${0}\",values:{0:fiatValueOfLiquidity.toFixed(2,{groupSeparator:','})}})}):/*#__PURE__*/_jsx(ThemedText.DeprecatedLargeHeader,{color:theme.textPrimary,fontSize:\"36px\",fontWeight:500,children:/*#__PURE__*/_jsx(Trans,{id:\"$-\"})})]}),/*#__PURE__*/_jsx(LightCard,{padding:\"12px 16px\",children:/*#__PURE__*/_jsxs(AutoColumn,{gap:\"md\",children:[/*#__PURE__*/_jsxs(RowBetween,{children:[/*#__PURE__*/_jsx(LinkedCurrency,{chainId:chainId,currency:currencyQuote}),/*#__PURE__*/_jsxs(RowFixed,{children:[/*#__PURE__*/_jsx(ThemedText.DeprecatedMain,{children:inverted?position===null||position===void 0?void 0:position.amount0.toSignificant(4):position===null||position===void 0?void 0:position.amount1.toSignificant(4)}),typeof ratio==='number'&&!removed?/*#__PURE__*/_jsx(Badge,{style:{marginLeft:'10px'},children:/*#__PURE__*/_jsx(ThemedText.DeprecatedMain,{fontSize:11,children:/*#__PURE__*/_jsx(Trans,{id:\"{0}%\",values:{0:inverted?ratio:100-ratio}})})}):null]})]}),/*#__PURE__*/_jsxs(RowBetween,{children:[/*#__PURE__*/_jsx(LinkedCurrency,{chainId:chainId,currency:currencyBase}),/*#__PURE__*/_jsxs(RowFixed,{children:[/*#__PURE__*/_jsx(ThemedText.DeprecatedMain,{children:inverted?position===null||position===void 0?void 0:position.amount1.toSignificant(4):position===null||position===void 0?void 0:position.amount0.toSignificant(4)}),typeof ratio==='number'&&!removed?/*#__PURE__*/_jsx(Badge,{style:{marginLeft:'10px'},children:/*#__PURE__*/_jsx(ThemedText.DeprecatedMain,{color:theme.textSecondary,fontSize:11,children:/*#__PURE__*/_jsx(Trans,{id:\"{0}%\",values:{0:inverted?100-ratio:ratio}})})}):null]})]})]})})]})}),/*#__PURE__*/_jsx(DarkCard,{children:/*#__PURE__*/_jsxs(AutoColumn,{gap:\"md\",style:{width:'100%'},children:[/*#__PURE__*/_jsx(AutoColumn,{gap:\"md\",children:/*#__PURE__*/_jsxs(RowBetween,{style:{alignItems:'flex-start'},children:[/*#__PURE__*/_jsxs(AutoColumn,{gap:\"md\",children:[/*#__PURE__*/_jsx(Label,{children:/*#__PURE__*/_jsx(Trans,{id:\"Unclaimed fees\"})}),(fiatValueOfFees===null||fiatValueOfFees===void 0?void 0:fiatValueOfFees.greaterThan(new Fraction(1,100)))?/*#__PURE__*/_jsx(ThemedText.DeprecatedLargeHeader,{color:theme.accentSuccess,fontSize:\"36px\",fontWeight:500,children:/*#__PURE__*/_jsx(Trans,{id:\"${0}\",values:{0:fiatValueOfFees.toFixed(2,{groupSeparator:','})}})}):/*#__PURE__*/_jsx(ThemedText.DeprecatedLargeHeader,{color:theme.textPrimary,fontSize:\"36px\",fontWeight:500,children:/*#__PURE__*/_jsx(Trans,{id:\"$-\"})})]}),ownsNFT&&((feeValue0===null||feeValue0===void 0?void 0:feeValue0.greaterThan(0))||(feeValue1===null||feeValue1===void 0?void 0:feeValue1.greaterThan(0))||!!collectMigrationHash)?/*#__PURE__*/_jsx(ButtonConfirmed,{disabled:collecting||!!collectMigrationHash,confirmed:!!collectMigrationHash&&!isCollectPending,width:\"fit-content\",style:{borderRadius:'12px'},padding:\"4px 8px\",onClick:function onClick(){return setShowConfirm(true);},children:!!collectMigrationHash&&!isCollectPending?/*#__PURE__*/_jsx(ThemedText.DeprecatedMain,{color:theme.textPrimary,children:/*#__PURE__*/_jsx(Trans,{id:\"Collected\"})}):isCollectPending||collecting?/*#__PURE__*/_jsxs(ThemedText.DeprecatedMain,{color:theme.textPrimary,children:[' ',/*#__PURE__*/_jsx(Dots,{children:/*#__PURE__*/_jsx(Trans,{id:\"Collecting\"})})]}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(ThemedText.DeprecatedMain,{color:theme.white,children:/*#__PURE__*/_jsx(Trans,{id:\"Collect fees\"})})})}):null]})}),/*#__PURE__*/_jsx(LightCard,{padding:\"12px 16px\",children:/*#__PURE__*/_jsxs(AutoColumn,{gap:\"md\",children:[/*#__PURE__*/_jsxs(RowBetween,{children:[/*#__PURE__*/_jsxs(RowFixed,{children:[/*#__PURE__*/_jsx(CurrencyLogo,{currency:feeValueUpper===null||feeValueUpper===void 0?void 0:feeValueUpper.currency,size:\"20px\",style:{marginRight:'0.5rem'}}),/*#__PURE__*/_jsx(ThemedText.DeprecatedMain,{children:feeValueUpper===null||feeValueUpper===void 0?void 0:(_feeValueUpper$curren2=feeValueUpper.currency)===null||_feeValueUpper$curren2===void 0?void 0:_feeValueUpper$curren2.symbol})]}),/*#__PURE__*/_jsx(RowFixed,{children:/*#__PURE__*/_jsx(ThemedText.DeprecatedMain,{children:feeValueUpper?formatCurrencyAmount(feeValueUpper,4):'-'})})]}),/*#__PURE__*/_jsxs(RowBetween,{children:[/*#__PURE__*/_jsxs(RowFixed,{children:[/*#__PURE__*/_jsx(CurrencyLogo,{currency:feeValueLower===null||feeValueLower===void 0?void 0:feeValueLower.currency,size:\"20px\",style:{marginRight:'0.5rem'}}),/*#__PURE__*/_jsx(ThemedText.DeprecatedMain,{children:feeValueLower===null||feeValueLower===void 0?void 0:(_feeValueLower$curren2=feeValueLower.currency)===null||_feeValueLower$curren2===void 0?void 0:_feeValueLower$curren2.symbol})]}),/*#__PURE__*/_jsx(RowFixed,{children:/*#__PURE__*/_jsx(ThemedText.DeprecatedMain,{children:feeValueLower?formatCurrencyAmount(feeValueLower,4):'-'})})]})]})}),showCollectAsWeth&&/*#__PURE__*/_jsx(AutoColumn,{gap:\"md\",children:/*#__PURE__*/_jsxs(RowBetween,{children:[/*#__PURE__*/_jsx(ThemedText.DeprecatedMain,{children:/*#__PURE__*/_jsx(Trans,{id:\"Collect as {nativeWrappedSymbol}\",values:{nativeWrappedSymbol:nativeWrappedSymbol}})}),/*#__PURE__*/_jsx(Toggle,{id:\"receive-as-weth\",isActive:receiveWETH,toggle:function toggle(){return setReceiveWETH(function(receiveWETH){return!receiveWETH;});}})]})})]})})]})]}),/*#__PURE__*/_jsx(DarkCard,{children:/*#__PURE__*/_jsxs(AutoColumn,{gap:\"md\",children:[/*#__PURE__*/_jsxs(RowBetween,{children:[/*#__PURE__*/_jsxs(RowFixed,{children:[/*#__PURE__*/_jsx(Label,{display:\"flex\",style:{marginRight:'12px'},children:/*#__PURE__*/_jsx(Trans,{id:\"Price range\"})}),/*#__PURE__*/_jsx(HideExtraSmall,{children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(RangeBadge,{removed:removed,inRange:inRange}),/*#__PURE__*/_jsx(\"span\",{style:{width:'8px'}})]})})]}),/*#__PURE__*/_jsx(RowFixed,{children:currencyBase&&currencyQuote&&/*#__PURE__*/_jsx(RateToggle,{currencyA:currencyBase,currencyB:currencyQuote,handleRateToggle:function handleRateToggle(){return setManuallyInverted(!manuallyInverted);}})})]}),/*#__PURE__*/_jsxs(RowBetween,{children:[/*#__PURE__*/_jsx(LightCard,{padding:\"12px\",width:\"100%\",children:/*#__PURE__*/_jsxs(AutoColumn,{gap:\"sm\",justify:\"center\",children:[/*#__PURE__*/_jsx(ExtentsText,{children:/*#__PURE__*/_jsx(Trans,{id:\"Min price\"})}),/*#__PURE__*/_jsx(ThemedText.DeprecatedMediumHeader,{textAlign:\"center\",children:formatTickPrice(priceLower,tickAtLimit,Bound.LOWER)}),/*#__PURE__*/_jsxs(ExtentsText,{children:[' ',/*#__PURE__*/_jsx(Trans,{id:\"{0} per {1}\",values:{0:currencyQuote===null||currencyQuote===void 0?void 0:currencyQuote.symbol,1:currencyBase===null||currencyBase===void 0?void 0:currencyBase.symbol}})]}),inRange&&/*#__PURE__*/_jsx(ThemedText.DeprecatedSmall,{color:theme.textTertiary,children:/*#__PURE__*/_jsx(Trans,{id:\"Your position will be 100% {0} at this price.\",values:{0:currencyBase===null||currencyBase===void 0?void 0:currencyBase.symbol}})})]})}),/*#__PURE__*/_jsx(DoubleArrow,{children:\"\\u27F7\"}),/*#__PURE__*/_jsx(LightCard,{padding:\"12px\",width:\"100%\",children:/*#__PURE__*/_jsxs(AutoColumn,{gap:\"sm\",justify:\"center\",children:[/*#__PURE__*/_jsx(ExtentsText,{children:/*#__PURE__*/_jsx(Trans,{id:\"Max price\"})}),/*#__PURE__*/_jsx(ThemedText.DeprecatedMediumHeader,{textAlign:\"center\",children:formatTickPrice(priceUpper,tickAtLimit,Bound.UPPER)}),/*#__PURE__*/_jsxs(ExtentsText,{children:[' ',/*#__PURE__*/_jsx(Trans,{id:\"{0} per {1}\",values:{0:currencyQuote===null||currencyQuote===void 0?void 0:currencyQuote.symbol,1:currencyBase===null||currencyBase===void 0?void 0:currencyBase.symbol}})]}),inRange&&/*#__PURE__*/_jsx(ThemedText.DeprecatedSmall,{color:theme.textTertiary,children:/*#__PURE__*/_jsx(Trans,{id:\"Your position will be 100% {0} at this price.\",values:{0:currencyQuote===null||currencyQuote===void 0?void 0:currencyQuote.symbol}})})]})})]}),/*#__PURE__*/_jsx(CurrentPriceCard,{inverted:inverted,pool:pool,currencyQuote:currencyQuote,currencyBase:currencyBase})]})})]})]}),/*#__PURE__*/_jsx(SwitchLocaleLink,{})]})});}","map":{"version":3,"names":["BigNumber","Trace","PageName","CurrencyAmount","Fraction","Percent","NonfungiblePositionManager","Position","useWeb3React","sendEvent","Badge","ButtonConfirmed","ButtonGray","ButtonPrimary","DarkCard","LightCard","AutoColumn","DoubleCurrencyLogo","Loader","CurrencyLogo","RowBetween","RowFixed","Dots","Toggle","TransactionConfirmationModal","ConfirmationModalContent","useToken","useV3NFTPositionManagerContract","useIsTickAtLimit","PoolState","usePool","useStablecoinPrice","useV3PositionFees","useV3PositionFromTokenId","useSingleCallResult","useNativeCurrency","useCallback","useMemo","useRef","useState","Link","useParams","Bound","useIsTransactionPending","useTransactionAdder","ExternalLink","HideExtraSmall","ThemedText","currencyId","formatCurrencyAmount","formatTickPrice","unwrappedToken","RangeBadge","getPriceOrderingFromPositionForUI","RateToggle","SwitchLocaleLink","usePositionTokenURI","TransactionType","calculateGasMargin","ExplorerDataType","getExplorerLink","LoadingRows","PageWrapper","styled","div","theme","breakpoint","md","sm","deprecated_mediaWidth","deprecated_upToMedium","deprecated_upToSmall","deprecated_upToExtraSmall","BadgeText","Label","end","props","ExtentsText","span","textSecondary","HoverText","DeprecatedMain","textTertiary","textPrimary","DoubleArrow","ResponsiveRow","ResponsiveButtonPrimary","NFTGrid","NFTCanvas","canvas","NFTImage","img","CurrentPriceCard","inverted","pool","currencyQuote","currencyBase","token1Price","token0Price","toSignificant","symbol","LinkedCurrency","chainId","currency","address","TOKEN","marginRight","getRatio","lower","current","upper","greaterThan","lessThan","a","Number","parseFloat","b","c","ratio","Math","floor","sqrt","Error","undefined","getSnapshot","src","targetHeight","context","getContext","width","height","round","devicePixelRatio","style","scale","clearRect","drawImage","NFT","image","animate","setAnimate","canvasRef","imageRef","useInverter","priceLower","priceUpper","quote","base","invert","PositionPage","tokenIdFromUrl","tokenId","account","provider","useTheme","parsedTokenId","from","loading","positionDetails","position","token0Address","token0","token1Address","token1","feeAmount","fee","liquidity","tickLower","tickUpper","removed","eq","metadata","currency0","currency1","receiveWETH","setReceiveWETH","nativeCurrency","nativeWrappedSymbol","wrapped","poolState","toString","tickAtLimit","pricesFromPosition","manuallyInverted","setManuallyInverted","equals","feeValue0","feeValue1","currency0ForFeeCollectionPurposes","currency1ForFeeCollectionPurposes","collecting","setCollecting","collectMigrationHash","setCollectMigrationHash","isCollectPending","showConfirm","setShowConfirm","price0","price1","fiatValueOfFees","feeValue0Wrapped","feeValue1Wrapped","amount0","amount1","add","fiatValueOfLiquidity","addTransaction","positionManager","collect","collectCallParameters","expectedCurrencyOwed0","fromRawAmount","expectedCurrencyOwed1","recipient","calldata","value","txn","to","data","getSigner","estimateGas","then","estimate","newTxn","gasLimit","sendTransaction","response","hash","category","action","label","join","type","COLLECT_FEES","currencyId0","currencyId1","toExact","catch","error","console","owner","result","ownsNFT","operator","feeValueUpper","feeValueLower","below","tickCurrent","above","inRange","modalHeader","marginTop","showCollectAsWeth","Boolean","isNative","LOADING","POOL_PAGE","textDecoration","marginBottom","display","alignItems","flexDirection","justifyContent","ADDRESS","minWidth","toFixed","groupSeparator","marginLeft","accentSuccess","borderRadius","white","LOWER","UPPER"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/pages/Pool/PositionPage.tsx"],"sourcesContent":["import { BigNumber } from '@ethersproject/bignumber'\nimport type { TransactionResponse } from '@ethersproject/providers'\nimport { Trans } from '@lingui/macro'\nimport { Trace } from '@uniswap/analytics'\nimport { PageName } from '@uniswap/analytics-events'\nimport { Currency, CurrencyAmount, Fraction, Percent, Price, Token } from '@uniswap/sdk-core'\nimport { NonfungiblePositionManager, Pool, Position } from '@uniswap/v3-sdk'\nimport { useWeb3React } from '@web3-react/core'\nimport { sendEvent } from 'components/analytics'\nimport Badge from 'components/Badge'\nimport { ButtonConfirmed, ButtonGray, ButtonPrimary } from 'components/Button'\nimport { DarkCard, LightCard } from 'components/Card'\nimport { AutoColumn } from 'components/Column'\nimport DoubleCurrencyLogo from 'components/DoubleLogo'\nimport Loader from 'components/Loader'\nimport CurrencyLogo from 'components/Logo/CurrencyLogo'\nimport { RowBetween, RowFixed } from 'components/Row'\nimport { Dots } from 'components/swap/styleds'\nimport Toggle from 'components/Toggle'\nimport TransactionConfirmationModal, { ConfirmationModalContent } from 'components/TransactionConfirmationModal'\nimport { useToken } from 'hooks/Tokens'\nimport { useV3NFTPositionManagerContract } from 'hooks/useContract'\nimport useIsTickAtLimit from 'hooks/useIsTickAtLimit'\nimport { PoolState, usePool } from 'hooks/usePools'\nimport useStablecoinPrice from 'hooks/useStablecoinPrice'\nimport { useV3PositionFees } from 'hooks/useV3PositionFees'\nimport { useV3PositionFromTokenId } from 'hooks/useV3Positions'\nimport { useSingleCallResult } from 'lib/hooks/multicall'\nimport useNativeCurrency from 'lib/hooks/useNativeCurrency'\nimport { useCallback, useMemo, useRef, useState } from 'react'\nimport { Link, useParams } from 'react-router-dom'\nimport { Bound } from 'state/mint/v3/actions'\nimport { useIsTransactionPending, useTransactionAdder } from 'state/transactions/hooks'\nimport styled, { useTheme } from 'styled-components/macro'\nimport { ExternalLink, HideExtraSmall, ThemedText } from 'theme'\nimport { currencyId } from 'utils/currencyId'\nimport { formatCurrencyAmount } from 'utils/formatCurrencyAmount'\nimport { formatTickPrice } from 'utils/formatTickPrice'\nimport { unwrappedToken } from 'utils/unwrappedToken'\n\nimport RangeBadge from '../../components/Badge/RangeBadge'\nimport { getPriceOrderingFromPositionForUI } from '../../components/PositionListItem'\nimport RateToggle from '../../components/RateToggle'\nimport { SwitchLocaleLink } from '../../components/SwitchLocaleLink'\nimport { usePositionTokenURI } from '../../hooks/usePositionTokenURI'\nimport { TransactionType } from '../../state/transactions/types'\nimport { calculateGasMargin } from '../../utils/calculateGasMargin'\nimport { ExplorerDataType, getExplorerLink } from '../../utils/getExplorerLink'\nimport { LoadingRows } from './styleds'\n\nconst PageWrapper = styled.div`\n  padding: 68px 8px 0px;\n\n  min-width: 800px;\n  max-width: 960px;\n\n  @media only screen and (max-width: ${({ theme }) => `${theme.breakpoint.md}px`}) {\n    padding: 48px 8px 0px;\n  }\n\n  @media only screen and (max-width: ${({ theme }) => `${theme.breakpoint.sm}px`}) {\n    padding-top: 20px;\n  }\n\n  ${({ theme }) => theme.deprecated_mediaWidth.deprecated_upToMedium`\n    min-width: 680px;\n    max-width: 680px;\n  `};\n\n  ${({ theme }) => theme.deprecated_mediaWidth.deprecated_upToSmall`\n    min-width: 600px;\n    max-width: 600px;\n  `};\n\n  @media only screen and (max-width: 620px) {\n    min-width: 500px;\n    max-width: 500px;\n  }\n\n  ${({ theme }) => theme.deprecated_mediaWidth.deprecated_upToExtraSmall`\n    min-width: 340px;\n    max-width: 340px;\n  `};\n`\n\nconst BadgeText = styled.div`\n  font-weight: 500;\n  font-size: 14px;\n`\n\n// responsive text\n// disable the warning because we don't use the end prop, we just want to filter it out\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst Label = styled(({ end, ...props }) => <ThemedText.DeprecatedLabel {...props} />)<{ end?: boolean }>`\n  display: flex;\n  font-size: 16px;\n  justify-content: ${({ end }) => (end ? 'flex-end' : 'flex-start')};\n  align-items: center;\n`\n\nconst ExtentsText = styled.span`\n  color: ${({ theme }) => theme.textSecondary};\n  font-size: 14px;\n  text-align: center;\n  margin-right: 4px;\n  font-weight: 500;\n`\n\nconst HoverText = styled(ThemedText.DeprecatedMain)`\n  text-decoration: none;\n  color: ${({ theme }) => theme.textTertiary};\n  :hover {\n    color: ${({ theme }) => theme.textPrimary};\n    text-decoration: none;\n  }\n`\n\nconst DoubleArrow = styled.span`\n  color: ${({ theme }) => theme.textTertiary};\n  margin: 0 1rem;\n`\nconst ResponsiveRow = styled(RowBetween)`\n  ${({ theme }) => theme.deprecated_mediaWidth.deprecated_upToSmall`\n    flex-direction: column;\n    align-items: flex-start;\n    row-gap: 16px;\n    width: 100%:\n  `};\n`\n\nconst ResponsiveButtonPrimary = styled(ButtonPrimary)`\n  border-radius: 12px;\n  padding: 6px 8px;\n  width: fit-content;\n  font-size: 16px;\n  ${({ theme }) => theme.deprecated_mediaWidth.deprecated_upToSmall`\n    flex: 1 1 auto;\n    width: 49%;\n  `};\n`\n\nconst NFTGrid = styled.div`\n  display: grid;\n  grid-template: 'overlap';\n  min-height: 400px;\n`\n\nconst NFTCanvas = styled.canvas`\n  grid-area: overlap;\n`\n\nconst NFTImage = styled.img`\n  grid-area: overlap;\n  height: 400px;\n  /* Ensures SVG appears on top of canvas. */\n  z-index: 1;\n`\n\nfunction CurrentPriceCard({\n  inverted,\n  pool,\n  currencyQuote,\n  currencyBase,\n}: {\n  inverted?: boolean\n  pool?: Pool | null\n  currencyQuote?: Currency\n  currencyBase?: Currency\n}) {\n  if (!pool || !currencyQuote || !currencyBase) {\n    return null\n  }\n\n  return (\n    <LightCard padding=\"12px \">\n      <AutoColumn gap=\"sm\" justify=\"center\">\n        <ExtentsText>\n          <Trans>Current price</Trans>\n        </ExtentsText>\n        <ThemedText.DeprecatedMediumHeader textAlign=\"center\">\n          {(inverted ? pool.token1Price : pool.token0Price).toSignificant(6)}{' '}\n        </ThemedText.DeprecatedMediumHeader>\n        <ExtentsText>\n          <Trans>\n            {currencyQuote?.symbol} per {currencyBase?.symbol}\n          </Trans>\n        </ExtentsText>\n      </AutoColumn>\n    </LightCard>\n  )\n}\n\nfunction LinkedCurrency({ chainId, currency }: { chainId?: number; currency?: Currency }) {\n  const address = (currency as Token)?.address\n\n  if (typeof chainId === 'number' && address) {\n    return (\n      <ExternalLink href={getExplorerLink(chainId, address, ExplorerDataType.TOKEN)}>\n        <RowFixed>\n          <CurrencyLogo currency={currency} size=\"20px\" style={{ marginRight: '0.5rem' }} />\n          <ThemedText.DeprecatedMain>{currency?.symbol} â†—</ThemedText.DeprecatedMain>\n        </RowFixed>\n      </ExternalLink>\n    )\n  }\n\n  return (\n    <RowFixed>\n      <CurrencyLogo currency={currency} size=\"20px\" style={{ marginRight: '0.5rem' }} />\n      <ThemedText.DeprecatedMain>{currency?.symbol}</ThemedText.DeprecatedMain>\n    </RowFixed>\n  )\n}\n\nfunction getRatio(\n  lower: Price<Currency, Currency>,\n  current: Price<Currency, Currency>,\n  upper: Price<Currency, Currency>\n) {\n  try {\n    if (!current.greaterThan(lower)) {\n      return 100\n    } else if (!current.lessThan(upper)) {\n      return 0\n    }\n\n    const a = Number.parseFloat(lower.toSignificant(15))\n    const b = Number.parseFloat(upper.toSignificant(15))\n    const c = Number.parseFloat(current.toSignificant(15))\n\n    const ratio = Math.floor((1 / ((Math.sqrt(a * b) - Math.sqrt(b * c)) / (c - Math.sqrt(b * c)) + 1)) * 100)\n\n    if (ratio < 0 || ratio > 100) {\n      throw Error('Out of range')\n    }\n\n    return ratio\n  } catch {\n    return undefined\n  }\n}\n\n// snapshots a src img into a canvas\nfunction getSnapshot(src: HTMLImageElement, canvas: HTMLCanvasElement, targetHeight: number) {\n  const context = canvas.getContext('2d')\n\n  if (context) {\n    let { width, height } = src\n\n    // src may be hidden and not have the target dimensions\n    const ratio = width / height\n    height = targetHeight\n    width = Math.round(ratio * targetHeight)\n\n    // Ensure crispness at high DPIs\n    canvas.width = width * devicePixelRatio\n    canvas.height = height * devicePixelRatio\n    canvas.style.width = width + 'px'\n    canvas.style.height = height + 'px'\n    context.scale(devicePixelRatio, devicePixelRatio)\n\n    context.clearRect(0, 0, width, height)\n    context.drawImage(src, 0, 0, width, height)\n  }\n}\n\nfunction NFT({ image, height: targetHeight }: { image: string; height: number }) {\n  const [animate, setAnimate] = useState(false)\n\n  const canvasRef = useRef<HTMLCanvasElement>(null)\n  const imageRef = useRef<HTMLImageElement>(null)\n\n  return (\n    <NFTGrid\n      onMouseEnter={() => {\n        setAnimate(true)\n      }}\n      onMouseLeave={() => {\n        // snapshot the current frame so the transition to the canvas is smooth\n        if (imageRef.current && canvasRef.current) {\n          getSnapshot(imageRef.current, canvasRef.current, targetHeight)\n        }\n        setAnimate(false)\n      }}\n    >\n      <NFTCanvas ref={canvasRef} />\n      <NFTImage\n        ref={imageRef}\n        src={image}\n        hidden={!animate}\n        onLoad={() => {\n          // snapshot for the canvas\n          if (imageRef.current && canvasRef.current) {\n            getSnapshot(imageRef.current, canvasRef.current, targetHeight)\n          }\n        }}\n      />\n    </NFTGrid>\n  )\n}\n\nconst useInverter = ({\n  priceLower,\n  priceUpper,\n  quote,\n  base,\n  invert,\n}: {\n  priceLower?: Price<Token, Token>\n  priceUpper?: Price<Token, Token>\n  quote?: Token\n  base?: Token\n  invert?: boolean\n}): {\n  priceLower?: Price<Token, Token>\n  priceUpper?: Price<Token, Token>\n  quote?: Token\n  base?: Token\n} => {\n  return {\n    priceUpper: invert ? priceLower?.invert() : priceUpper,\n    priceLower: invert ? priceUpper?.invert() : priceLower,\n    quote: invert ? base : quote,\n    base: invert ? quote : base,\n  }\n}\n\nexport function PositionPage() {\n  const { tokenId: tokenIdFromUrl } = useParams<{ tokenId?: string }>()\n  const { chainId, account, provider } = useWeb3React()\n  const theme = useTheme()\n\n  const parsedTokenId = tokenIdFromUrl ? BigNumber.from(tokenIdFromUrl) : undefined\n  const { loading, position: positionDetails } = useV3PositionFromTokenId(parsedTokenId)\n\n  const {\n    token0: token0Address,\n    token1: token1Address,\n    fee: feeAmount,\n    liquidity,\n    tickLower,\n    tickUpper,\n    tokenId,\n  } = positionDetails || {}\n\n  const removed = liquidity?.eq(0)\n\n  const metadata = usePositionTokenURI(parsedTokenId)\n\n  const token0 = useToken(token0Address)\n  const token1 = useToken(token1Address)\n\n  const currency0 = token0 ? unwrappedToken(token0) : undefined\n  const currency1 = token1 ? unwrappedToken(token1) : undefined\n\n  // flag for receiving WETH\n  const [receiveWETH, setReceiveWETH] = useState(false)\n  const nativeCurrency = useNativeCurrency()\n  const nativeWrappedSymbol = nativeCurrency.wrapped.symbol\n\n  // construct Position from details returned\n  const [poolState, pool] = usePool(token0 ?? undefined, token1 ?? undefined, feeAmount)\n  const position = useMemo(() => {\n    if (pool && liquidity && typeof tickLower === 'number' && typeof tickUpper === 'number') {\n      return new Position({ pool, liquidity: liquidity.toString(), tickLower, tickUpper })\n    }\n    return undefined\n  }, [liquidity, pool, tickLower, tickUpper])\n\n  const tickAtLimit = useIsTickAtLimit(feeAmount, tickLower, tickUpper)\n\n  const pricesFromPosition = getPriceOrderingFromPositionForUI(position)\n  const [manuallyInverted, setManuallyInverted] = useState(false)\n\n  // handle manual inversion\n  const { priceLower, priceUpper, base } = useInverter({\n    priceLower: pricesFromPosition.priceLower,\n    priceUpper: pricesFromPosition.priceUpper,\n    quote: pricesFromPosition.quote,\n    base: pricesFromPosition.base,\n    invert: manuallyInverted,\n  })\n\n  const inverted = token1 ? base?.equals(token1) : undefined\n  const currencyQuote = inverted ? currency0 : currency1\n  const currencyBase = inverted ? currency1 : currency0\n\n  const ratio = useMemo(() => {\n    return priceLower && pool && priceUpper\n      ? getRatio(\n          inverted ? priceUpper.invert() : priceLower,\n          pool.token0Price,\n          inverted ? priceLower.invert() : priceUpper\n        )\n      : undefined\n  }, [inverted, pool, priceLower, priceUpper])\n\n  // fees\n  const [feeValue0, feeValue1] = useV3PositionFees(pool ?? undefined, positionDetails?.tokenId, receiveWETH)\n\n  // these currencies will match the feeValue{0,1} currencies for the purposes of fee collection\n  const currency0ForFeeCollectionPurposes = pool ? (receiveWETH ? pool.token0 : unwrappedToken(pool.token0)) : undefined\n  const currency1ForFeeCollectionPurposes = pool ? (receiveWETH ? pool.token1 : unwrappedToken(pool.token1)) : undefined\n\n  const [collecting, setCollecting] = useState<boolean>(false)\n  const [collectMigrationHash, setCollectMigrationHash] = useState<string | null>(null)\n  const isCollectPending = useIsTransactionPending(collectMigrationHash ?? undefined)\n  const [showConfirm, setShowConfirm] = useState(false)\n\n  // usdc prices always in terms of tokens\n  const price0 = useStablecoinPrice(token0 ?? undefined)\n  const price1 = useStablecoinPrice(token1 ?? undefined)\n\n  const fiatValueOfFees: CurrencyAmount<Currency> | null = useMemo(() => {\n    if (!price0 || !price1 || !feeValue0 || !feeValue1) return null\n\n    // we wrap because it doesn't matter, the quote returns a USDC amount\n    const feeValue0Wrapped = feeValue0?.wrapped\n    const feeValue1Wrapped = feeValue1?.wrapped\n\n    if (!feeValue0Wrapped || !feeValue1Wrapped) return null\n\n    const amount0 = price0.quote(feeValue0Wrapped)\n    const amount1 = price1.quote(feeValue1Wrapped)\n    return amount0.add(amount1)\n  }, [price0, price1, feeValue0, feeValue1])\n\n  const fiatValueOfLiquidity: CurrencyAmount<Token> | null = useMemo(() => {\n    if (!price0 || !price1 || !position) return null\n    const amount0 = price0.quote(position.amount0)\n    const amount1 = price1.quote(position.amount1)\n    return amount0.add(amount1)\n  }, [price0, price1, position])\n\n  const addTransaction = useTransactionAdder()\n  const positionManager = useV3NFTPositionManagerContract()\n  const collect = useCallback(() => {\n    if (\n      !currency0ForFeeCollectionPurposes ||\n      !currency1ForFeeCollectionPurposes ||\n      !chainId ||\n      !positionManager ||\n      !account ||\n      !tokenId ||\n      !provider\n    )\n      return\n\n    setCollecting(true)\n\n    // we fall back to expecting 0 fees in case the fetch fails, which is safe in the\n    // vast majority of cases\n    const { calldata, value } = NonfungiblePositionManager.collectCallParameters({\n      tokenId: tokenId.toString(),\n      expectedCurrencyOwed0: feeValue0 ?? CurrencyAmount.fromRawAmount(currency0ForFeeCollectionPurposes, 0),\n      expectedCurrencyOwed1: feeValue1 ?? CurrencyAmount.fromRawAmount(currency1ForFeeCollectionPurposes, 0),\n      recipient: account,\n    })\n\n    const txn = {\n      to: positionManager.address,\n      data: calldata,\n      value,\n    }\n\n    provider\n      .getSigner()\n      .estimateGas(txn)\n      .then((estimate) => {\n        const newTxn = {\n          ...txn,\n          gasLimit: calculateGasMargin(estimate),\n        }\n\n        return provider\n          .getSigner()\n          .sendTransaction(newTxn)\n          .then((response: TransactionResponse) => {\n            setCollectMigrationHash(response.hash)\n            setCollecting(false)\n\n            sendEvent({\n              category: 'Liquidity',\n              action: 'CollectV3',\n              label: [currency0ForFeeCollectionPurposes.symbol, currency1ForFeeCollectionPurposes.symbol].join('/'),\n            })\n\n            addTransaction(response, {\n              type: TransactionType.COLLECT_FEES,\n              currencyId0: currencyId(currency0ForFeeCollectionPurposes),\n              currencyId1: currencyId(currency1ForFeeCollectionPurposes),\n              expectedCurrencyOwed0: CurrencyAmount.fromRawAmount(currency0ForFeeCollectionPurposes, 0).toExact(),\n              expectedCurrencyOwed1: CurrencyAmount.fromRawAmount(currency1ForFeeCollectionPurposes, 0).toExact(),\n            })\n          })\n      })\n      .catch((error) => {\n        setCollecting(false)\n        console.error(error)\n      })\n  }, [\n    chainId,\n    feeValue0,\n    feeValue1,\n    currency0ForFeeCollectionPurposes,\n    currency1ForFeeCollectionPurposes,\n    positionManager,\n    account,\n    tokenId,\n    addTransaction,\n    provider,\n  ])\n\n  const owner = useSingleCallResult(tokenId ? positionManager : null, 'ownerOf', [tokenId]).result?.[0]\n  const ownsNFT = owner === account || positionDetails?.operator === account\n\n  const feeValueUpper = inverted ? feeValue0 : feeValue1\n  const feeValueLower = inverted ? feeValue1 : feeValue0\n\n  // check if price is within range\n  const below = pool && typeof tickLower === 'number' ? pool.tickCurrent < tickLower : undefined\n  const above = pool && typeof tickUpper === 'number' ? pool.tickCurrent >= tickUpper : undefined\n  const inRange: boolean = typeof below === 'boolean' && typeof above === 'boolean' ? !below && !above : false\n\n  function modalHeader() {\n    return (\n      <AutoColumn gap=\"md\" style={{ marginTop: '20px' }}>\n        <LightCard padding=\"12px 16px\">\n          <AutoColumn gap=\"md\">\n            <RowBetween>\n              <RowFixed>\n                <CurrencyLogo currency={feeValueUpper?.currency} size=\"20px\" style={{ marginRight: '0.5rem' }} />\n                <ThemedText.DeprecatedMain>\n                  {feeValueUpper ? formatCurrencyAmount(feeValueUpper, 4) : '-'}\n                </ThemedText.DeprecatedMain>\n              </RowFixed>\n              <ThemedText.DeprecatedMain>{feeValueUpper?.currency?.symbol}</ThemedText.DeprecatedMain>\n            </RowBetween>\n            <RowBetween>\n              <RowFixed>\n                <CurrencyLogo currency={feeValueLower?.currency} size=\"20px\" style={{ marginRight: '0.5rem' }} />\n                <ThemedText.DeprecatedMain>\n                  {feeValueLower ? formatCurrencyAmount(feeValueLower, 4) : '-'}\n                </ThemedText.DeprecatedMain>\n              </RowFixed>\n              <ThemedText.DeprecatedMain>{feeValueLower?.currency?.symbol}</ThemedText.DeprecatedMain>\n            </RowBetween>\n          </AutoColumn>\n        </LightCard>\n        <ThemedText.DeprecatedItalic>\n          <Trans>Collecting fees will withdraw currently available fees for you.</Trans>\n        </ThemedText.DeprecatedItalic>\n        <ButtonPrimary onClick={collect}>\n          <Trans>Collect</Trans>\n        </ButtonPrimary>\n      </AutoColumn>\n    )\n  }\n\n  const showCollectAsWeth = Boolean(\n    ownsNFT &&\n      (feeValue0?.greaterThan(0) || feeValue1?.greaterThan(0)) &&\n      currency0 &&\n      currency1 &&\n      (currency0.isNative || currency1.isNative) &&\n      !collectMigrationHash\n  )\n\n  return loading || poolState === PoolState.LOADING || !feeAmount ? (\n    <LoadingRows>\n      <div />\n      <div />\n      <div />\n      <div />\n      <div />\n      <div />\n      <div />\n      <div />\n      <div />\n      <div />\n      <div />\n      <div />\n    </LoadingRows>\n  ) : (\n    <Trace page={PageName.POOL_PAGE} shouldLogImpression>\n      <>\n        <PageWrapper>\n          <TransactionConfirmationModal\n            isOpen={showConfirm}\n            onDismiss={() => setShowConfirm(false)}\n            attemptingTxn={collecting}\n            hash={collectMigrationHash ?? ''}\n            content={() => (\n              <ConfirmationModalContent\n                title={<Trans>Claim fees</Trans>}\n                onDismiss={() => setShowConfirm(false)}\n                topContent={modalHeader}\n              />\n            )}\n            pendingText={<Trans>Collecting fees</Trans>}\n          />\n          <AutoColumn gap=\"md\">\n            <AutoColumn gap=\"sm\">\n              <Link\n                data-cy=\"visit-pool\"\n                style={{ textDecoration: 'none', width: 'fit-content', marginBottom: '0.5rem' }}\n                to=\"/pool\"\n              >\n                <HoverText>\n                  <Trans>â† Back to Pools</Trans>\n                </HoverText>\n              </Link>\n              <ResponsiveRow>\n                <RowFixed>\n                  <DoubleCurrencyLogo currency0={currencyBase} currency1={currencyQuote} size={24} margin={true} />\n                  <ThemedText.DeprecatedLabel fontSize=\"24px\" mr=\"10px\">\n                    &nbsp;{currencyQuote?.symbol}&nbsp;/&nbsp;{currencyBase?.symbol}\n                  </ThemedText.DeprecatedLabel>\n                  <Badge style={{ marginRight: '8px' }}>\n                    <BadgeText>\n                      <Trans>{new Percent(feeAmount, 1_000_000).toSignificant()}%</Trans>\n                    </BadgeText>\n                  </Badge>\n                  <RangeBadge removed={removed} inRange={inRange} />\n                </RowFixed>\n                {ownsNFT && (\n                  <RowFixed>\n                    {currency0 && currency1 && feeAmount && tokenId ? (\n                      <ButtonGray\n                        as={Link}\n                        to={`/increase/${currencyId(currency0)}/${currencyId(currency1)}/${feeAmount}/${tokenId}`}\n                        width=\"fit-content\"\n                        padding=\"6px 8px\"\n                        $borderRadius=\"12px\"\n                        style={{ marginRight: '8px' }}\n                      >\n                        <Trans>Increase Liquidity</Trans>\n                      </ButtonGray>\n                    ) : null}\n                    {tokenId && !removed ? (\n                      <ResponsiveButtonPrimary\n                        as={Link}\n                        to={`/remove/${tokenId}`}\n                        width=\"fit-content\"\n                        padding=\"6px 8px\"\n                        $borderRadius=\"12px\"\n                      >\n                        <Trans>Remove Liquidity</Trans>\n                      </ResponsiveButtonPrimary>\n                    ) : null}\n                  </RowFixed>\n                )}\n              </ResponsiveRow>\n              <RowBetween></RowBetween>\n            </AutoColumn>\n            <ResponsiveRow align=\"flex-start\">\n              {'result' in metadata ? (\n                <DarkCard\n                  width=\"100%\"\n                  height=\"100%\"\n                  style={{\n                    display: 'flex',\n                    alignItems: 'center',\n                    flexDirection: 'column',\n                    justifyContent: 'space-around',\n                    marginRight: '12px',\n                  }}\n                >\n                  <div style={{ marginRight: 12 }}>\n                    <NFT image={metadata.result.image} height={400} />\n                  </div>\n                  {typeof chainId === 'number' && owner && !ownsNFT ? (\n                    <ExternalLink href={getExplorerLink(chainId, owner, ExplorerDataType.ADDRESS)}>\n                      <Trans>Owner</Trans>\n                    </ExternalLink>\n                  ) : null}\n                </DarkCard>\n              ) : (\n                <DarkCard\n                  width=\"100%\"\n                  height=\"100%\"\n                  style={{\n                    marginRight: '12px',\n                    minWidth: '340px',\n                  }}\n                >\n                  <Loader />\n                </DarkCard>\n              )}\n              <AutoColumn gap=\"sm\" style={{ width: '100%', height: '100%' }}>\n                <DarkCard>\n                  <AutoColumn gap=\"md\" style={{ width: '100%' }}>\n                    <AutoColumn gap=\"md\">\n                      <Label>\n                        <Trans>Liquidity</Trans>\n                      </Label>\n                      {fiatValueOfLiquidity?.greaterThan(new Fraction(1, 100)) ? (\n                        <ThemedText.DeprecatedLargeHeader fontSize=\"36px\" fontWeight={500}>\n                          <Trans>${fiatValueOfLiquidity.toFixed(2, { groupSeparator: ',' })}</Trans>\n                        </ThemedText.DeprecatedLargeHeader>\n                      ) : (\n                        <ThemedText.DeprecatedLargeHeader color={theme.textPrimary} fontSize=\"36px\" fontWeight={500}>\n                          <Trans>$-</Trans>\n                        </ThemedText.DeprecatedLargeHeader>\n                      )}\n                    </AutoColumn>\n                    <LightCard padding=\"12px 16px\">\n                      <AutoColumn gap=\"md\">\n                        <RowBetween>\n                          <LinkedCurrency chainId={chainId} currency={currencyQuote} />\n                          <RowFixed>\n                            <ThemedText.DeprecatedMain>\n                              {inverted ? position?.amount0.toSignificant(4) : position?.amount1.toSignificant(4)}\n                            </ThemedText.DeprecatedMain>\n                            {typeof ratio === 'number' && !removed ? (\n                              <Badge style={{ marginLeft: '10px' }}>\n                                <ThemedText.DeprecatedMain fontSize={11}>\n                                  <Trans>{inverted ? ratio : 100 - ratio}%</Trans>\n                                </ThemedText.DeprecatedMain>\n                              </Badge>\n                            ) : null}\n                          </RowFixed>\n                        </RowBetween>\n                        <RowBetween>\n                          <LinkedCurrency chainId={chainId} currency={currencyBase} />\n                          <RowFixed>\n                            <ThemedText.DeprecatedMain>\n                              {inverted ? position?.amount1.toSignificant(4) : position?.amount0.toSignificant(4)}\n                            </ThemedText.DeprecatedMain>\n                            {typeof ratio === 'number' && !removed ? (\n                              <Badge style={{ marginLeft: '10px' }}>\n                                <ThemedText.DeprecatedMain color={theme.textSecondary} fontSize={11}>\n                                  <Trans>{inverted ? 100 - ratio : ratio}%</Trans>\n                                </ThemedText.DeprecatedMain>\n                              </Badge>\n                            ) : null}\n                          </RowFixed>\n                        </RowBetween>\n                      </AutoColumn>\n                    </LightCard>\n                  </AutoColumn>\n                </DarkCard>\n                <DarkCard>\n                  <AutoColumn gap=\"md\" style={{ width: '100%' }}>\n                    <AutoColumn gap=\"md\">\n                      <RowBetween style={{ alignItems: 'flex-start' }}>\n                        <AutoColumn gap=\"md\">\n                          <Label>\n                            <Trans>Unclaimed fees</Trans>\n                          </Label>\n                          {fiatValueOfFees?.greaterThan(new Fraction(1, 100)) ? (\n                            <ThemedText.DeprecatedLargeHeader\n                              color={theme.accentSuccess}\n                              fontSize=\"36px\"\n                              fontWeight={500}\n                            >\n                              <Trans>${fiatValueOfFees.toFixed(2, { groupSeparator: ',' })}</Trans>\n                            </ThemedText.DeprecatedLargeHeader>\n                          ) : (\n                            <ThemedText.DeprecatedLargeHeader\n                              color={theme.textPrimary}\n                              fontSize=\"36px\"\n                              fontWeight={500}\n                            >\n                              <Trans>$-</Trans>\n                            </ThemedText.DeprecatedLargeHeader>\n                          )}\n                        </AutoColumn>\n                        {ownsNFT &&\n                        (feeValue0?.greaterThan(0) || feeValue1?.greaterThan(0) || !!collectMigrationHash) ? (\n                          <ButtonConfirmed\n                            disabled={collecting || !!collectMigrationHash}\n                            confirmed={!!collectMigrationHash && !isCollectPending}\n                            width=\"fit-content\"\n                            style={{ borderRadius: '12px' }}\n                            padding=\"4px 8px\"\n                            onClick={() => setShowConfirm(true)}\n                          >\n                            {!!collectMigrationHash && !isCollectPending ? (\n                              <ThemedText.DeprecatedMain color={theme.textPrimary}>\n                                <Trans> Collected</Trans>\n                              </ThemedText.DeprecatedMain>\n                            ) : isCollectPending || collecting ? (\n                              <ThemedText.DeprecatedMain color={theme.textPrimary}>\n                                {' '}\n                                <Dots>\n                                  <Trans>Collecting</Trans>\n                                </Dots>\n                              </ThemedText.DeprecatedMain>\n                            ) : (\n                              <>\n                                <ThemedText.DeprecatedMain color={theme.white}>\n                                  <Trans>Collect fees</Trans>\n                                </ThemedText.DeprecatedMain>\n                              </>\n                            )}\n                          </ButtonConfirmed>\n                        ) : null}\n                      </RowBetween>\n                    </AutoColumn>\n                    <LightCard padding=\"12px 16px\">\n                      <AutoColumn gap=\"md\">\n                        <RowBetween>\n                          <RowFixed>\n                            <CurrencyLogo\n                              currency={feeValueUpper?.currency}\n                              size=\"20px\"\n                              style={{ marginRight: '0.5rem' }}\n                            />\n                            <ThemedText.DeprecatedMain>{feeValueUpper?.currency?.symbol}</ThemedText.DeprecatedMain>\n                          </RowFixed>\n                          <RowFixed>\n                            <ThemedText.DeprecatedMain>\n                              {feeValueUpper ? formatCurrencyAmount(feeValueUpper, 4) : '-'}\n                            </ThemedText.DeprecatedMain>\n                          </RowFixed>\n                        </RowBetween>\n                        <RowBetween>\n                          <RowFixed>\n                            <CurrencyLogo\n                              currency={feeValueLower?.currency}\n                              size=\"20px\"\n                              style={{ marginRight: '0.5rem' }}\n                            />\n                            <ThemedText.DeprecatedMain>{feeValueLower?.currency?.symbol}</ThemedText.DeprecatedMain>\n                          </RowFixed>\n                          <RowFixed>\n                            <ThemedText.DeprecatedMain>\n                              {feeValueLower ? formatCurrencyAmount(feeValueLower, 4) : '-'}\n                            </ThemedText.DeprecatedMain>\n                          </RowFixed>\n                        </RowBetween>\n                      </AutoColumn>\n                    </LightCard>\n                    {showCollectAsWeth && (\n                      <AutoColumn gap=\"md\">\n                        <RowBetween>\n                          <ThemedText.DeprecatedMain>\n                            <Trans>Collect as {nativeWrappedSymbol}</Trans>\n                          </ThemedText.DeprecatedMain>\n                          <Toggle\n                            id=\"receive-as-weth\"\n                            isActive={receiveWETH}\n                            toggle={() => setReceiveWETH((receiveWETH) => !receiveWETH)}\n                          />\n                        </RowBetween>\n                      </AutoColumn>\n                    )}\n                  </AutoColumn>\n                </DarkCard>\n              </AutoColumn>\n            </ResponsiveRow>\n            <DarkCard>\n              <AutoColumn gap=\"md\">\n                <RowBetween>\n                  <RowFixed>\n                    <Label display=\"flex\" style={{ marginRight: '12px' }}>\n                      <Trans>Price range</Trans>\n                    </Label>\n                    <HideExtraSmall>\n                      <>\n                        <RangeBadge removed={removed} inRange={inRange} />\n                        <span style={{ width: '8px' }} />\n                      </>\n                    </HideExtraSmall>\n                  </RowFixed>\n                  <RowFixed>\n                    {currencyBase && currencyQuote && (\n                      <RateToggle\n                        currencyA={currencyBase}\n                        currencyB={currencyQuote}\n                        handleRateToggle={() => setManuallyInverted(!manuallyInverted)}\n                      />\n                    )}\n                  </RowFixed>\n                </RowBetween>\n\n                <RowBetween>\n                  <LightCard padding=\"12px\" width=\"100%\">\n                    <AutoColumn gap=\"sm\" justify=\"center\">\n                      <ExtentsText>\n                        <Trans>Min price</Trans>\n                      </ExtentsText>\n                      <ThemedText.DeprecatedMediumHeader textAlign=\"center\">\n                        {formatTickPrice(priceLower, tickAtLimit, Bound.LOWER)}\n                      </ThemedText.DeprecatedMediumHeader>\n                      <ExtentsText>\n                        {' '}\n                        <Trans>\n                          {currencyQuote?.symbol} per {currencyBase?.symbol}\n                        </Trans>\n                      </ExtentsText>\n\n                      {inRange && (\n                        <ThemedText.DeprecatedSmall color={theme.textTertiary}>\n                          <Trans>Your position will be 100% {currencyBase?.symbol} at this price.</Trans>\n                        </ThemedText.DeprecatedSmall>\n                      )}\n                    </AutoColumn>\n                  </LightCard>\n\n                  <DoubleArrow>âŸ·</DoubleArrow>\n                  <LightCard padding=\"12px\" width=\"100%\">\n                    <AutoColumn gap=\"sm\" justify=\"center\">\n                      <ExtentsText>\n                        <Trans>Max price</Trans>\n                      </ExtentsText>\n                      <ThemedText.DeprecatedMediumHeader textAlign=\"center\">\n                        {formatTickPrice(priceUpper, tickAtLimit, Bound.UPPER)}\n                      </ThemedText.DeprecatedMediumHeader>\n                      <ExtentsText>\n                        {' '}\n                        <Trans>\n                          {currencyQuote?.symbol} per {currencyBase?.symbol}\n                        </Trans>\n                      </ExtentsText>\n\n                      {inRange && (\n                        <ThemedText.DeprecatedSmall color={theme.textTertiary}>\n                          <Trans>Your position will be 100% {currencyQuote?.symbol} at this price.</Trans>\n                        </ThemedText.DeprecatedSmall>\n                      )}\n                    </AutoColumn>\n                  </LightCard>\n                </RowBetween>\n                <CurrentPriceCard\n                  inverted={inverted}\n                  pool={pool}\n                  currencyQuote={currencyQuote}\n                  currencyBase={currencyBase}\n                />\n              </AutoColumn>\n            </DarkCard>\n          </AutoColumn>\n        </PageWrapper>\n        <SwitchLocaleLink />\n      </>\n    </Trace>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}