{"ast":null,"code":"import _slicedToArray from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Trans}from\"@lingui/react\";import{CurrencyAmount,Percent}from'@uniswap/sdk-core';import{Position}from'@uniswap/v3-sdk';import{useWeb3React}from'@web3-react/core';import{useToken}from'hooks/Tokens';import{usePool}from'hooks/usePools';import{useV3PositionFees}from'hooks/useV3PositionFees';import{useCallback,useMemo}from'react';import{useAppDispatch,useAppSelector}from'state/hooks';import{unwrappedToken}from'utils/unwrappedToken';import{selectPercent}from'./actions';import{jsx as _jsx}from\"react/jsx-runtime\";export function useBurnV3State(){return useAppSelector(function(state){return state.burnV3;});}export function useDerivedV3BurnInfo(position){var asWETH=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var _useWeb3React=useWeb3React(),account=_useWeb3React.account;var _useBurnV3State=useBurnV3State(),percent=_useBurnV3State.percent;var token0=useToken(position===null||position===void 0?void 0:position.token0);var token1=useToken(position===null||position===void 0?void 0:position.token1);var _usePool=usePool(token0!==null&&token0!==void 0?token0:undefined,token1!==null&&token1!==void 0?token1:undefined,position===null||position===void 0?void 0:position.fee),_usePool2=_slicedToArray(_usePool,2),pool=_usePool2[1];var positionSDK=useMemo(function(){return pool&&(position===null||position===void 0?void 0:position.liquidity)&&typeof(position===null||position===void 0?void 0:position.tickLower)==='number'&&typeof(position===null||position===void 0?void 0:position.tickUpper)==='number'?new Position({pool:pool,liquidity:position.liquidity.toString(),tickLower:position.tickLower,tickUpper:position.tickUpper}):undefined;},[pool,position]);var liquidityPercentage=new Percent(percent,100);var discountedAmount0=positionSDK?liquidityPercentage.multiply(positionSDK.amount0.quotient).quotient:undefined;var discountedAmount1=positionSDK?liquidityPercentage.multiply(positionSDK.amount1.quotient).quotient:undefined;var liquidityValue0=token0&&discountedAmount0?CurrencyAmount.fromRawAmount(asWETH?token0:unwrappedToken(token0),discountedAmount0):undefined;var liquidityValue1=token1&&discountedAmount1?CurrencyAmount.fromRawAmount(asWETH?token1:unwrappedToken(token1),discountedAmount1):undefined;var _useV3PositionFees=useV3PositionFees(pool!==null&&pool!==void 0?pool:undefined,position===null||position===void 0?void 0:position.tokenId,asWETH),_useV3PositionFees2=_slicedToArray(_useV3PositionFees,2),feeValue0=_useV3PositionFees2[0],feeValue1=_useV3PositionFees2[1];var outOfRange=pool&&position?pool.tickCurrent<position.tickLower||pool.tickCurrent>position.tickUpper:false;var error;if(!account){error=/*#__PURE__*/_jsx(Trans,{id:\"Connect Wallet\"});}if(percent===0){var _error;error=(_error=error)!==null&&_error!==void 0?_error:/*#__PURE__*/_jsx(Trans,{id:\"Enter a percent\"});}return{position:positionSDK,liquidityPercentage:liquidityPercentage,liquidityValue0:liquidityValue0,liquidityValue1:liquidityValue1,feeValue0:feeValue0,feeValue1:feeValue1,outOfRange:outOfRange,error:error};}export function useBurnV3ActionHandlers(){var dispatch=useAppDispatch();var onPercentSelect=useCallback(function(percent){dispatch(selectPercent({percent:percent}));},[dispatch]);return{onPercentSelect:onPercentSelect};}","map":{"version":3,"names":["CurrencyAmount","Percent","Position","useWeb3React","useToken","usePool","useV3PositionFees","useCallback","useMemo","useAppDispatch","useAppSelector","unwrappedToken","selectPercent","useBurnV3State","state","burnV3","useDerivedV3BurnInfo","position","asWETH","account","percent","token0","token1","undefined","fee","pool","positionSDK","liquidity","tickLower","tickUpper","toString","liquidityPercentage","discountedAmount0","multiply","amount0","quotient","discountedAmount1","amount1","liquidityValue0","fromRawAmount","liquidityValue1","tokenId","feeValue0","feeValue1","outOfRange","tickCurrent","error","useBurnV3ActionHandlers","dispatch","onPercentSelect"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/state/burn/v3/hooks.tsx"],"sourcesContent":["import { Trans } from '@lingui/macro'\nimport { Currency, CurrencyAmount, Percent } from '@uniswap/sdk-core'\nimport { Position } from '@uniswap/v3-sdk'\nimport { useWeb3React } from '@web3-react/core'\nimport { useToken } from 'hooks/Tokens'\nimport { usePool } from 'hooks/usePools'\nimport { useV3PositionFees } from 'hooks/useV3PositionFees'\nimport { ReactNode, useCallback, useMemo } from 'react'\nimport { useAppDispatch, useAppSelector } from 'state/hooks'\nimport { PositionDetails } from 'types/position'\nimport { unwrappedToken } from 'utils/unwrappedToken'\n\nimport { AppState } from '../../index'\nimport { selectPercent } from './actions'\n\nexport function useBurnV3State(): AppState['burnV3'] {\n  return useAppSelector((state) => state.burnV3)\n}\n\nexport function useDerivedV3BurnInfo(\n  position?: PositionDetails,\n  asWETH = false\n): {\n  position?: Position\n  liquidityPercentage?: Percent\n  liquidityValue0?: CurrencyAmount<Currency>\n  liquidityValue1?: CurrencyAmount<Currency>\n  feeValue0?: CurrencyAmount<Currency>\n  feeValue1?: CurrencyAmount<Currency>\n  outOfRange: boolean\n  error?: ReactNode\n} {\n  const { account } = useWeb3React()\n  const { percent } = useBurnV3State()\n\n  const token0 = useToken(position?.token0)\n  const token1 = useToken(position?.token1)\n\n  const [, pool] = usePool(token0 ?? undefined, token1 ?? undefined, position?.fee)\n\n  const positionSDK = useMemo(\n    () =>\n      pool && position?.liquidity && typeof position?.tickLower === 'number' && typeof position?.tickUpper === 'number'\n        ? new Position({\n            pool,\n            liquidity: position.liquidity.toString(),\n            tickLower: position.tickLower,\n            tickUpper: position.tickUpper,\n          })\n        : undefined,\n    [pool, position]\n  )\n\n  const liquidityPercentage = new Percent(percent, 100)\n\n  const discountedAmount0 = positionSDK\n    ? liquidityPercentage.multiply(positionSDK.amount0.quotient).quotient\n    : undefined\n  const discountedAmount1 = positionSDK\n    ? liquidityPercentage.multiply(positionSDK.amount1.quotient).quotient\n    : undefined\n\n  const liquidityValue0 =\n    token0 && discountedAmount0\n      ? CurrencyAmount.fromRawAmount(asWETH ? token0 : unwrappedToken(token0), discountedAmount0)\n      : undefined\n  const liquidityValue1 =\n    token1 && discountedAmount1\n      ? CurrencyAmount.fromRawAmount(asWETH ? token1 : unwrappedToken(token1), discountedAmount1)\n      : undefined\n\n  const [feeValue0, feeValue1] = useV3PositionFees(pool ?? undefined, position?.tokenId, asWETH)\n\n  const outOfRange =\n    pool && position ? pool.tickCurrent < position.tickLower || pool.tickCurrent > position.tickUpper : false\n\n  let error: ReactNode | undefined\n  if (!account) {\n    error = <Trans>Connect Wallet</Trans>\n  }\n  if (percent === 0) {\n    error = error ?? <Trans>Enter a percent</Trans>\n  }\n  return {\n    position: positionSDK,\n    liquidityPercentage,\n    liquidityValue0,\n    liquidityValue1,\n    feeValue0,\n    feeValue1,\n    outOfRange,\n    error,\n  }\n}\n\nexport function useBurnV3ActionHandlers(): {\n  onPercentSelect: (percent: number) => void\n} {\n  const dispatch = useAppDispatch()\n\n  const onPercentSelect = useCallback(\n    (percent: number) => {\n      dispatch(selectPercent({ percent }))\n    },\n    [dispatch]\n  )\n\n  return {\n    onPercentSelect,\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}