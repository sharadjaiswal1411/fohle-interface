{"ast":null,"code":"var _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport { Trans } from \"@lingui/react\";\nimport { CurrencyAmount, Percent } from '@uniswap/sdk-core';\nimport { Position } from '@uniswap/v3-sdk';\nimport { useWeb3React } from '@web3-react/core';\nimport { useToken } from 'hooks/Tokens';\nimport { usePool } from 'hooks/usePools';\nimport { useV3PositionFees } from 'hooks/useV3PositionFees';\nimport { useCallback, useMemo } from 'react';\nimport { useAppDispatch, useAppSelector } from 'state/hooks';\nimport { unwrappedToken } from 'utils/unwrappedToken';\nimport { selectPercent } from './actions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function useBurnV3State() {\n  _s();\n  return useAppSelector(state => state.burnV3);\n}\n_s(useBurnV3State, \"bRaY7Fsh/GrWHjZMhGvF04Z7BZI=\", false, function () {\n  return [useAppSelector];\n});\nexport function useDerivedV3BurnInfo(position) {\n  _s2();\n  let asWETH = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  const {\n    account\n  } = useWeb3React();\n  const {\n    percent\n  } = useBurnV3State();\n  const token0 = useToken(position === null || position === void 0 ? void 0 : position.token0);\n  const token1 = useToken(position === null || position === void 0 ? void 0 : position.token1);\n  const [, pool] = usePool(token0 !== null && token0 !== void 0 ? token0 : undefined, token1 !== null && token1 !== void 0 ? token1 : undefined, position === null || position === void 0 ? void 0 : position.fee);\n  const positionSDK = useMemo(() => pool && (position === null || position === void 0 ? void 0 : position.liquidity) && typeof (position === null || position === void 0 ? void 0 : position.tickLower) === 'number' && typeof (position === null || position === void 0 ? void 0 : position.tickUpper) === 'number' ? new Position({\n    pool,\n    liquidity: position.liquidity.toString(),\n    tickLower: position.tickLower,\n    tickUpper: position.tickUpper\n  }) : undefined, [pool, position]);\n  const liquidityPercentage = new Percent(percent, 100);\n  const discountedAmount0 = positionSDK ? liquidityPercentage.multiply(positionSDK.amount0.quotient).quotient : undefined;\n  const discountedAmount1 = positionSDK ? liquidityPercentage.multiply(positionSDK.amount1.quotient).quotient : undefined;\n  const liquidityValue0 = token0 && discountedAmount0 ? CurrencyAmount.fromRawAmount(asWETH ? token0 : unwrappedToken(token0), discountedAmount0) : undefined;\n  const liquidityValue1 = token1 && discountedAmount1 ? CurrencyAmount.fromRawAmount(asWETH ? token1 : unwrappedToken(token1), discountedAmount1) : undefined;\n  const [feeValue0, feeValue1] = useV3PositionFees(pool !== null && pool !== void 0 ? pool : undefined, position === null || position === void 0 ? void 0 : position.tokenId, asWETH);\n  const outOfRange = pool && position ? pool.tickCurrent < position.tickLower || pool.tickCurrent > position.tickUpper : false;\n  let error;\n  if (!account) {\n    error = /*#__PURE__*/_jsxDEV(Trans, {\n      id: \"Connect Wallet\"\n    }, void 0, false, void 0, this);\n  }\n  if (percent === 0) {\n    var _error;\n    error = (_error = error) !== null && _error !== void 0 ? _error : /*#__PURE__*/_jsxDEV(Trans, {\n      id: \"Enter a percent\"\n    }, void 0, false, void 0, this);\n  }\n  return {\n    position: positionSDK,\n    liquidityPercentage,\n    liquidityValue0,\n    liquidityValue1,\n    feeValue0,\n    feeValue1,\n    outOfRange,\n    error\n  };\n}\n_s2(useDerivedV3BurnInfo, \"AqBR6PlMvNP8fzHn+DhTP/h/Z5U=\", false, function () {\n  return [useWeb3React, useBurnV3State, useToken, useToken, usePool, useV3PositionFees];\n});\nexport function useBurnV3ActionHandlers() {\n  _s3();\n  const dispatch = useAppDispatch();\n  const onPercentSelect = useCallback(percent => {\n    dispatch(selectPercent({\n      percent\n    }));\n  }, [dispatch]);\n  return {\n    onPercentSelect\n  };\n}\n_s3(useBurnV3ActionHandlers, \"otvy2up4GPQ0k43e4aoCp1xRZdU=\", false, function () {\n  return [useAppDispatch];\n});","map":{"version":3,"names":["CurrencyAmount","Percent","Position","useWeb3React","useToken","usePool","useV3PositionFees","useCallback","useMemo","useAppDispatch","useAppSelector","unwrappedToken","selectPercent","useBurnV3State","state","burnV3","useDerivedV3BurnInfo","position","asWETH","account","percent","token0","token1","pool","undefined","fee","positionSDK","liquidity","tickLower","tickUpper","toString","liquidityPercentage","discountedAmount0","multiply","amount0","quotient","discountedAmount1","amount1","liquidityValue0","fromRawAmount","liquidityValue1","feeValue0","feeValue1","tokenId","outOfRange","tickCurrent","error","useBurnV3ActionHandlers","dispatch","onPercentSelect"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/state/burn/v3/hooks.tsx"],"sourcesContent":["import { Trans } from '@lingui/macro'\nimport { Currency, CurrencyAmount, Percent } from '@uniswap/sdk-core'\nimport { Position } from '@uniswap/v3-sdk'\nimport { useWeb3React } from '@web3-react/core'\nimport { useToken } from 'hooks/Tokens'\nimport { usePool } from 'hooks/usePools'\nimport { useV3PositionFees } from 'hooks/useV3PositionFees'\nimport { ReactNode, useCallback, useMemo } from 'react'\nimport { useAppDispatch, useAppSelector } from 'state/hooks'\nimport { PositionDetails } from 'types/position'\nimport { unwrappedToken } from 'utils/unwrappedToken'\n\nimport { AppState } from '../../index'\nimport { selectPercent } from './actions'\n\nexport function useBurnV3State(): AppState['burnV3'] {\n  return useAppSelector((state) => state.burnV3)\n}\n\nexport function useDerivedV3BurnInfo(\n  position?: PositionDetails,\n  asWETH = false\n): {\n  position?: Position\n  liquidityPercentage?: Percent\n  liquidityValue0?: CurrencyAmount<Currency>\n  liquidityValue1?: CurrencyAmount<Currency>\n  feeValue0?: CurrencyAmount<Currency>\n  feeValue1?: CurrencyAmount<Currency>\n  outOfRange: boolean\n  error?: ReactNode\n} {\n  const { account } = useWeb3React()\n  const { percent } = useBurnV3State()\n\n  const token0 = useToken(position?.token0)\n  const token1 = useToken(position?.token1)\n\n  const [, pool] = usePool(token0 ?? undefined, token1 ?? undefined, position?.fee)\n\n  const positionSDK = useMemo(\n    () =>\n      pool && position?.liquidity && typeof position?.tickLower === 'number' && typeof position?.tickUpper === 'number'\n        ? new Position({\n            pool,\n            liquidity: position.liquidity.toString(),\n            tickLower: position.tickLower,\n            tickUpper: position.tickUpper,\n          })\n        : undefined,\n    [pool, position]\n  )\n\n  const liquidityPercentage = new Percent(percent, 100)\n\n  const discountedAmount0 = positionSDK\n    ? liquidityPercentage.multiply(positionSDK.amount0.quotient).quotient\n    : undefined\n  const discountedAmount1 = positionSDK\n    ? liquidityPercentage.multiply(positionSDK.amount1.quotient).quotient\n    : undefined\n\n  const liquidityValue0 =\n    token0 && discountedAmount0\n      ? CurrencyAmount.fromRawAmount(asWETH ? token0 : unwrappedToken(token0), discountedAmount0)\n      : undefined\n  const liquidityValue1 =\n    token1 && discountedAmount1\n      ? CurrencyAmount.fromRawAmount(asWETH ? token1 : unwrappedToken(token1), discountedAmount1)\n      : undefined\n\n  const [feeValue0, feeValue1] = useV3PositionFees(pool ?? undefined, position?.tokenId, asWETH)\n\n  const outOfRange =\n    pool && position ? pool.tickCurrent < position.tickLower || pool.tickCurrent > position.tickUpper : false\n\n  let error: ReactNode | undefined\n  if (!account) {\n    error = <Trans>Connect Wallet</Trans>\n  }\n  if (percent === 0) {\n    error = error ?? <Trans>Enter a percent</Trans>\n  }\n  return {\n    position: positionSDK,\n    liquidityPercentage,\n    liquidityValue0,\n    liquidityValue1,\n    feeValue0,\n    feeValue1,\n    outOfRange,\n    error,\n  }\n}\n\nexport function useBurnV3ActionHandlers(): {\n  onPercentSelect: (percent: number) => void\n} {\n  const dispatch = useAppDispatch()\n\n  const onPercentSelect = useCallback(\n    (percent: number) => {\n      dispatch(selectPercent({ percent }))\n    },\n    [dispatch]\n  )\n\n  return {\n    onPercentSelect,\n  }\n}\n"],"mappings":";;;;AACA,SAAmBA,cAAc,EAAEC,OAAO,QAAQ,mBAAmB;AACrE,SAASC,QAAQ,QAAQ,iBAAiB;AAC1C,SAASC,YAAY,QAAQ,kBAAkB;AAC/C,SAASC,QAAQ,QAAQ,cAAc;AACvC,SAASC,OAAO,QAAQ,gBAAgB;AACxC,SAASC,iBAAiB,QAAQ,yBAAyB;AAC3D,SAAoBC,WAAW,EAAEC,OAAO,QAAQ,OAAO;AACvD,SAASC,cAAc,EAAEC,cAAc,QAAQ,aAAa;AAE5D,SAASC,cAAc,QAAQ,sBAAsB;AAGrD,SAASC,aAAa,QAAQ,WAAW;AAAA;AAEzC,OAAO,SAASC,cAAc,GAAuB;EAAA;EACnD,OAAOH,cAAc,CAAEI,KAAK,IAAKA,KAAK,CAACC,MAAM,CAAC;AAChD;AAAC,GAFeF,cAAc;EAAA,QACrBH,cAAc;AAAA;AAGvB,OAAO,SAASM,oBAAoB,CAClCC,QAA0B,EAW1B;EAAA;EAAA,IAVAC,MAAM,uEAAG,KAAK;EAWd,MAAM;IAAEC;EAAQ,CAAC,GAAGhB,YAAY,EAAE;EAClC,MAAM;IAAEiB;EAAQ,CAAC,GAAGP,cAAc,EAAE;EAEpC,MAAMQ,MAAM,GAAGjB,QAAQ,CAACa,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEI,MAAM,CAAC;EACzC,MAAMC,MAAM,GAAGlB,QAAQ,CAACa,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEK,MAAM,CAAC;EAEzC,MAAM,GAAGC,IAAI,CAAC,GAAGlB,OAAO,CAACgB,MAAM,aAANA,MAAM,cAANA,MAAM,GAAIG,SAAS,EAAEF,MAAM,aAANA,MAAM,cAANA,MAAM,GAAIE,SAAS,EAAEP,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEQ,GAAG,CAAC;EAEjF,MAAMC,WAAW,GAAGlB,OAAO,CACzB,MACEe,IAAI,KAAIN,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEU,SAAS,KAAI,QAAOV,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEW,SAAS,MAAK,QAAQ,IAAI,QAAOX,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEY,SAAS,MAAK,QAAQ,GAC7G,IAAI3B,QAAQ,CAAC;IACXqB,IAAI;IACJI,SAAS,EAAEV,QAAQ,CAACU,SAAS,CAACG,QAAQ,EAAE;IACxCF,SAAS,EAAEX,QAAQ,CAACW,SAAS;IAC7BC,SAAS,EAAEZ,QAAQ,CAACY;EACtB,CAAC,CAAC,GACFL,SAAS,EACf,CAACD,IAAI,EAAEN,QAAQ,CAAC,CACjB;EAED,MAAMc,mBAAmB,GAAG,IAAI9B,OAAO,CAACmB,OAAO,EAAE,GAAG,CAAC;EAErD,MAAMY,iBAAiB,GAAGN,WAAW,GACjCK,mBAAmB,CAACE,QAAQ,CAACP,WAAW,CAACQ,OAAO,CAACC,QAAQ,CAAC,CAACA,QAAQ,GACnEX,SAAS;EACb,MAAMY,iBAAiB,GAAGV,WAAW,GACjCK,mBAAmB,CAACE,QAAQ,CAACP,WAAW,CAACW,OAAO,CAACF,QAAQ,CAAC,CAACA,QAAQ,GACnEX,SAAS;EAEb,MAAMc,eAAe,GACnBjB,MAAM,IAAIW,iBAAiB,GACvBhC,cAAc,CAACuC,aAAa,CAACrB,MAAM,GAAGG,MAAM,GAAGV,cAAc,CAACU,MAAM,CAAC,EAAEW,iBAAiB,CAAC,GACzFR,SAAS;EACf,MAAMgB,eAAe,GACnBlB,MAAM,IAAIc,iBAAiB,GACvBpC,cAAc,CAACuC,aAAa,CAACrB,MAAM,GAAGI,MAAM,GAAGX,cAAc,CAACW,MAAM,CAAC,EAAEc,iBAAiB,CAAC,GACzFZ,SAAS;EAEf,MAAM,CAACiB,SAAS,EAAEC,SAAS,CAAC,GAAGpC,iBAAiB,CAACiB,IAAI,aAAJA,IAAI,cAAJA,IAAI,GAAIC,SAAS,EAAEP,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAE0B,OAAO,EAAEzB,MAAM,CAAC;EAE9F,MAAM0B,UAAU,GACdrB,IAAI,IAAIN,QAAQ,GAAGM,IAAI,CAACsB,WAAW,GAAG5B,QAAQ,CAACW,SAAS,IAAIL,IAAI,CAACsB,WAAW,GAAG5B,QAAQ,CAACY,SAAS,GAAG,KAAK;EAE3G,IAAIiB,KAA4B;EAChC,IAAI,CAAC3B,OAAO,EAAE;IACZ2B,KAAK,gBAAG;MAAA;IAAA,+BAA6B;EACvC;EACA,IAAI1B,OAAO,KAAK,CAAC,EAAE;IAAA;IACjB0B,KAAK,aAAGA,KAAK,wDAAI;MAAA;IAAA,+BAA8B;EACjD;EACA,OAAO;IACL7B,QAAQ,EAAES,WAAW;IACrBK,mBAAmB;IACnBO,eAAe;IACfE,eAAe;IACfC,SAAS;IACTC,SAAS;IACTE,UAAU;IACVE;EACF,CAAC;AACH;AAAC,IA1Ee9B,oBAAoB;EAAA,QAadb,YAAY,EACZU,cAAc,EAEnBT,QAAQ,EACRA,QAAQ,EAENC,OAAO,EAiCOC,iBAAiB;AAAA;AAwBlD,OAAO,SAASyC,uBAAuB,GAErC;EAAA;EACA,MAAMC,QAAQ,GAAGvC,cAAc,EAAE;EAEjC,MAAMwC,eAAe,GAAG1C,WAAW,CAChCa,OAAe,IAAK;IACnB4B,QAAQ,CAACpC,aAAa,CAAC;MAAEQ;IAAQ,CAAC,CAAC,CAAC;EACtC,CAAC,EACD,CAAC4B,QAAQ,CAAC,CACX;EAED,OAAO;IACLC;EACF,CAAC;AACH;AAAC,IAfeF,uBAAuB;EAAA,QAGpBtC,cAAc;AAAA"},"metadata":{},"sourceType":"module"}