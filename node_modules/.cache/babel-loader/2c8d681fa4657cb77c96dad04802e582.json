{"ast":null,"code":"import _slicedToArray from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _styled from\"styled-components\";import jazzicon from'@metamask/jazzicon';import{useWeb3React}from'@web3-react/core';import useENSAvatar from'hooks/useENSAvatar';import{useCallback,useLayoutEffect,useMemo,useRef,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";var StyledIdenticon=_styled.div.withConfig({componentId:\"sc-z4caw7-0\"})([\"height:\",\";width:\",\";border-radius:50%;background-color:\",\";font-size:initial;\"],function(_ref){var iconSize=_ref.iconSize;return\"\".concat(iconSize,\"px\");},function(_ref2){var iconSize=_ref2.iconSize;return\"\".concat(iconSize,\"px\");},function(_ref3){var theme=_ref3.theme;return theme.deprecated_bg4;});var StyledAvatar=_styled.img.withConfig({componentId:\"sc-z4caw7-1\"})([\"height:inherit;width:inherit;border-radius:inherit;\"]);export default function Identicon(_ref4){var size=_ref4.size;var _useWeb3React=useWeb3React(),account=_useWeb3React.account;var _useENSAvatar=useENSAvatar(account!==null&&account!==void 0?account:undefined),avatar=_useENSAvatar.avatar;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),fetchable=_useState2[0],setFetchable=_useState2[1];var iconSize=size!==null&&size!==void 0?size:24;var icon=useMemo(function(){return account&&jazzicon(iconSize,parseInt(account.slice(2,10),16));},[account,iconSize]);var iconRef=useRef(null);useLayoutEffect(function(){var current=iconRef.current;if(icon){current===null||current===void 0?void 0:current.appendChild(icon);return function(){try{current===null||current===void 0?void 0:current.removeChild(icon);}catch(e){console.error('Avatar icon not found');}};}return;},[icon,iconRef]);var handleError=useCallback(function(){return setFetchable(false);},[]);return/*#__PURE__*/_jsx(StyledIdenticon,{iconSize:iconSize,children:avatar&&fetchable?/*#__PURE__*/_jsx(StyledAvatar,{alt:\"avatar\",src:avatar,onError:handleError}):/*#__PURE__*/_jsx(\"span\",{ref:iconRef})});}","map":{"version":3,"names":["jazzicon","useWeb3React","useENSAvatar","useCallback","useLayoutEffect","useMemo","useRef","useState","StyledIdenticon","styled","div","iconSize","theme","deprecated_bg4","StyledAvatar","img","Identicon","size","account","undefined","avatar","fetchable","setFetchable","icon","parseInt","slice","iconRef","current","appendChild","removeChild","e","console","error","handleError"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/components/Identicon/index.tsx"],"sourcesContent":["import jazzicon from '@metamask/jazzicon'\nimport { useWeb3React } from '@web3-react/core'\nimport useENSAvatar from 'hooks/useENSAvatar'\nimport { useCallback, useLayoutEffect, useMemo, useRef, useState } from 'react'\nimport styled from 'styled-components/macro'\n\nconst StyledIdenticon = styled.div<{ iconSize: number }>`\n  height: ${({ iconSize }) => `${iconSize}px`};\n  width: ${({ iconSize }) => `${iconSize}px`};\n  border-radius: 50%;\n  background-color: ${({ theme }) => theme.deprecated_bg4};\n  font-size: initial;\n`\n\nconst StyledAvatar = styled.img`\n  height: inherit;\n  width: inherit;\n  border-radius: inherit;\n`\n\nexport default function Identicon({ size }: { size?: number }) {\n  const { account } = useWeb3React()\n  const { avatar } = useENSAvatar(account ?? undefined)\n  const [fetchable, setFetchable] = useState(true)\n  const iconSize = size ?? 24\n\n  const icon = useMemo(() => account && jazzicon(iconSize, parseInt(account.slice(2, 10), 16)), [account, iconSize])\n  const iconRef = useRef<HTMLDivElement>(null)\n  useLayoutEffect(() => {\n    const current = iconRef.current\n    if (icon) {\n      current?.appendChild(icon)\n      return () => {\n        try {\n          current?.removeChild(icon)\n        } catch (e) {\n          console.error('Avatar icon not found')\n        }\n      }\n    }\n    return\n  }, [icon, iconRef])\n\n  const handleError = useCallback(() => setFetchable(false), [])\n\n  return (\n    <StyledIdenticon iconSize={iconSize}>\n      {avatar && fetchable ? (\n        <StyledAvatar alt=\"avatar\" src={avatar} onError={handleError}></StyledAvatar>\n      ) : (\n        <span ref={iconRef} />\n      )}\n    </StyledIdenticon>\n  )\n}\n"],"mappings":"mNAAA,MAAOA,SAAQ,KAAM,oBAAoB,CACzC,OAASC,YAAY,KAAQ,kBAAkB,CAC/C,MAAOC,aAAY,KAAM,oBAAoB,CAC7C,OAASC,WAAW,CAAEC,eAAe,CAAEC,OAAO,CAAEC,MAAM,CAAEC,QAAQ,KAAQ,OAAO,4CAG/E,GAAMC,gBAAe,CAAGC,OAAM,CAACC,GAAG,4HACtB,kBAAGC,SAAQ,MAARA,QAAQ,iBAAUA,QAAQ,QAAI,CAClC,mBAAGA,SAAQ,OAARA,QAAQ,iBAAUA,QAAQ,QAAI,CAEtB,mBAAGC,MAAK,OAALA,KAAK,OAAOA,MAAK,CAACC,cAAc,GAExD,CAED,GAAMC,aAAY,CAAGL,OAAM,CAACM,GAAG,iGAI9B,CAED,cAAe,SAASC,UAAS,OAA8B,IAA3BC,KAAI,OAAJA,IAAI,CACtC,kBAAoBhB,YAAY,EAAE,CAA1BiB,OAAO,eAAPA,OAAO,CACf,kBAAmBhB,YAAY,CAACgB,OAAO,SAAPA,OAAO,UAAPA,OAAO,CAAIC,SAAS,CAAC,CAA7CC,MAAM,eAANA,MAAM,CACd,cAAkCb,QAAQ,CAAC,IAAI,CAAC,wCAAzCc,SAAS,eAAEC,YAAY,eAC9B,GAAMX,SAAQ,CAAGM,IAAI,SAAJA,IAAI,UAAJA,IAAI,CAAI,EAAE,CAE3B,GAAMM,KAAI,CAAGlB,OAAO,CAAC,iBAAMa,QAAO,EAAIlB,QAAQ,CAACW,QAAQ,CAAEa,QAAQ,CAACN,OAAO,CAACO,KAAK,CAAC,CAAC,CAAE,EAAE,CAAC,CAAE,EAAE,CAAC,CAAC,GAAE,CAACP,OAAO,CAAEP,QAAQ,CAAC,CAAC,CAClH,GAAMe,QAAO,CAAGpB,MAAM,CAAiB,IAAI,CAAC,CAC5CF,eAAe,CAAC,UAAM,CACpB,GAAMuB,QAAO,CAAGD,OAAO,CAACC,OAAO,CAC/B,GAAIJ,IAAI,CAAE,CACRI,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEC,WAAW,CAACL,IAAI,CAAC,CAC1B,MAAO,WAAM,CACX,GAAI,CACFI,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEE,WAAW,CAACN,IAAI,CAAC,CAC5B,CAAE,MAAOO,CAAC,CAAE,CACVC,OAAO,CAACC,KAAK,CAAC,uBAAuB,CAAC,CACxC,CACF,CAAC,CACH,CACA,OACF,CAAC,CAAE,CAACT,IAAI,CAAEG,OAAO,CAAC,CAAC,CAEnB,GAAMO,YAAW,CAAG9B,WAAW,CAAC,iBAAMmB,aAAY,CAAC,KAAK,CAAC,GAAE,EAAE,CAAC,CAE9D,mBACE,KAAC,eAAe,EAAC,QAAQ,CAAEX,QAAS,UACjCS,MAAM,EAAIC,SAAS,cAClB,KAAC,YAAY,EAAC,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAED,MAAO,CAAC,OAAO,CAAEa,WAAY,EAAgB,cAE7E,aAAM,GAAG,CAAEP,OAAQ,EACpB,EACe,CAEtB"},"metadata":{},"sourceType":"module"}