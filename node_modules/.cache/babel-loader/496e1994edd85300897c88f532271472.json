{"ast":null,"code":"import _objectSpread from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{useTheme as _useTheme}from\"styled-components\";import _styled from\"styled-components\";import{Trans}from\"@lingui/react\";import{sendAnalyticsEvent,TraceEvent}from'@uniswap/analytics';import{BrowserEvent,ElementName,EventName}from'@uniswap/analytics-events';import{useWeb3React}from'@web3-react/core';import{FiatOnrampAnnouncement}from'components/FiatOnrampAnnouncement';import{IconWrapper}from'components/Identicon/StatusIcon';import WalletDropdown from'components/WalletDropdown';import{getConnection,getIsMetaMask}from'connection/utils';import{Portal}from'nft/components/common/Portal';import{useIsNftClaimAvailable}from'nft/hooks/useIsNftClaimAvailable';import{getIsValidSwapQuote}from'pages/Swap';import{darken}from'polished';import{useCallback,useEffect,useMemo,useRef}from'react';import{AlertTriangle,ChevronDown,ChevronUp}from'react-feather';import{useAppSelector}from'state/hooks';import{useDerivedSwapInfo}from'state/swap/hooks';import{colors}from'theme/colors';import{flexRowNoWrap}from'theme/styles';import{useOnClickOutside}from'../../hooks/useOnClickOutside';import{useCloseModal,useModalIsOpen,useToggleMetamaskConnectionErrorModal,useToggleWalletDropdown,useToggleWalletModal}from'../../state/application/hooks';import{ApplicationModal}from'../../state/application/reducer';import{isTransactionRecent,useAllTransactions}from'../../state/transactions/hooks';import{shortenAddress}from'../../utils';import{ButtonSecondary}from'../Button';import StatusIcon from'../Identicon/StatusIcon';import Loader from'../Loader';import{RowBetween}from'../Row';import WalletModal from'../WalletModal';import MetamaskConnectionError from'./MetamaskConnectionError';// https://stackoverflow.com/a/31617326\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var FULL_BORDER_RADIUS=9999;var ChevronWrapper=_styled.button.withConfig({componentId:\"sc-m6ivbz-0\"})([\"background-color:transparent;border:none;cursor:pointer;display:flex;padding:10px 16px 10px 4px;:hover{color:\",\";}:hover,:active,:focus{border:none;}\"],function(_ref){var theme=_ref.theme;return theme.accentActionSoft;});var Web3StatusGeneric=_styled(ButtonSecondary).withConfig({componentId:\"sc-m6ivbz-1\"})([\"\",\";width:100%;align-items:center;padding:0.5rem;border-radius:\",\"px;cursor:pointer;user-select:none;height:36px;margin-right:2px;margin-left:2px;:focus{outline:none;}\"],flexRowNoWrap,FULL_BORDER_RADIUS);var Web3StatusError=_styled(Web3StatusGeneric).withConfig({componentId:\"sc-m6ivbz-2\"})([\"background-color:\",\";border:1px solid \",\";color:\",\";font-weight:500;:hover,:focus{background-color:\",\";}\"],function(_ref2){var theme=_ref2.theme;return theme.accentFailure;},function(_ref3){var theme=_ref3.theme;return theme.accentFailure;},function(_ref4){var theme=_ref4.theme;return theme.white;},function(_ref5){var theme=_ref5.theme;return darken(0.1,theme.accentFailure);});var Web3StatusConnectWrapper=_styled.div.withConfig({componentId:\"sc-m6ivbz-3\"})([\"\",\";align-items:center;background-color:\",\";border-radius:\",\"px;border:none;padding:0;height:40px;:hover,:active,:focus{border:none;}\"],flexRowNoWrap,function(_ref6){var theme=_ref6.theme;return theme.accentActionSoft;},FULL_BORDER_RADIUS);var Web3StatusConnected=_styled(Web3StatusGeneric).withConfig({componentId:\"sc-m6ivbz-4\"})([\"background-color:\",\";border:1px solid \",\";color:\",\";font-weight:500;border:\",\";:hover,:focus{border:1px solid \",\";:focus{border:1px solid \",\";}}@media only screen and (max-width:\",\"){width:\",\";\",\"{margin-right:0;}}\"],function(_ref7){var pending=_ref7.pending,theme=_ref7.theme;return pending?theme.accentAction:theme.deprecated_bg1;},function(_ref8){var pending=_ref8.pending,theme=_ref8.theme;return pending?theme.accentAction:theme.deprecated_bg1;},function(_ref9){var pending=_ref9.pending,theme=_ref9.theme;return pending?theme.white:theme.textPrimary;},function(_ref10){var isClaimAvailable=_ref10.isClaimAvailable;return isClaimAvailable&&\"1px solid \".concat(colors.purple300);},function(_ref11){var theme=_ref11.theme;return darken(0.05,theme.deprecated_bg3);},function(_ref12){var pending=_ref12.pending,theme=_ref12.theme;return pending?darken(0.1,theme.accentAction):darken(0.1,theme.backgroundInteractive);},function(_ref13){var theme=_ref13.theme;return\"\".concat(theme.breakpoint.lg,\"px\");},function(_ref14){var pending=_ref14.pending;return!pending&&'36px';},IconWrapper);var AddressAndChevronContainer=_styled.div.withConfig({componentId:\"sc-m6ivbz-5\"})([\"display:flex;@media only screen and (max-width:\",\"){display:none;}\"],function(_ref15){var theme=_ref15.theme;return\"\".concat(theme.breakpoint.lg,\"px\");});var Text=_styled.p.withConfig({componentId:\"sc-m6ivbz-6\"})([\"flex:1 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin:0 0.5rem 0 0.25rem;font-size:1rem;width:fit-content;font-weight:500;\"]);var NetworkIcon=_styled(AlertTriangle).withConfig({componentId:\"sc-m6ivbz-7\"})([\"margin-left:0.25rem;margin-right:0.5rem;width:16px;height:16px;\"]);// we want the latest one to come first, so return negative if a is after b\nfunction newTransactionsFirst(a,b){return b.addedTime-a.addedTime;}var VerticalDivider=_styled.div.withConfig({componentId:\"sc-m6ivbz-8\"})([\"height:20px;margin:0px;width:1px;background-color:\",\";\"],function(_ref16){var theme=_ref16.theme;return theme.accentAction;});var StyledConnectButton=_styled.button.withConfig({componentId:\"sc-m6ivbz-9\"})([\"background-color:transparent;border:none;border-top-left-radius:\",\"px;border-bottom-left-radius:\",\"px;color:\",\";cursor:pointer;font-weight:600;font-size:16px;padding:10px 8px 10px 12px;transition:\",\";:hover,:active,:focus{border:none;}:hover{color:\",\";}\"],FULL_BORDER_RADIUS,FULL_BORDER_RADIUS,function(_ref17){var theme=_ref17.theme;return theme.accentAction;},function(_ref18){var _ref18$theme$transiti=_ref18.theme.transition,duration=_ref18$theme$transiti.duration,timing=_ref18$theme$transiti.timing;return\"\".concat(duration.fast,\" color \").concat(timing.in);},function(_ref19){var theme=_ref19.theme;return theme.accentActionSoft;});var CHEVRON_PROPS={height:20,width:20};function Web3StatusInner(){var _useWeb3React=useWeb3React(),account=_useWeb3React.account,connector=_useWeb3React.connector,chainId=_useWeb3React.chainId,ENSName=_useWeb3React.ENSName;var connectionType=getConnection(connector).type;var _useDerivedSwapInfo=useDerivedSwapInfo(),_useDerivedSwapInfo$t=_useDerivedSwapInfo.trade,tradeState=_useDerivedSwapInfo$t.state,trade=_useDerivedSwapInfo$t.trade,swapInputError=_useDerivedSwapInfo.inputError;var validSwapQuote=getIsValidSwapQuote(trade,tradeState,swapInputError);var theme=_useTheme();var toggleWalletDropdown=useToggleWalletDropdown();var handleWalletDropdownClick=useCallback(function(){sendAnalyticsEvent('FOR Account Dropdown Button Clicks');toggleWalletDropdown();},[toggleWalletDropdown]);var toggleWalletModal=useToggleWalletModal();var toggleMetamaskConnectionErrorModal=useToggleMetamaskConnectionErrorModal();var walletIsOpen=useModalIsOpen(ApplicationModal.WALLET_DROPDOWN);var isClaimAvailable=useIsNftClaimAvailable(function(state){return state.isClaimAvailable;});var error=useAppSelector(function(state){return state.connection.errorByConnectionType[getConnection(connector).type];});useEffect(function(){if(getIsMetaMask()&&error){toggleMetamaskConnectionErrorModal();}},[error,toggleMetamaskConnectionErrorModal]);var allTransactions=useAllTransactions();var sortedRecentTransactions=useMemo(function(){var txs=Object.values(allTransactions);return txs.filter(isTransactionRecent).sort(newTransactionsFirst);},[allTransactions]);var pending=sortedRecentTransactions.filter(function(tx){return!tx.receipt;}).map(function(tx){return tx.hash;});var hasPendingTransactions=!!pending.length;if(!chainId){return null;}else if(error){return/*#__PURE__*/_jsxs(Web3StatusError,{onClick:handleWalletDropdownClick,children:[/*#__PURE__*/_jsx(NetworkIcon,{}),/*#__PURE__*/_jsx(Text,{children:/*#__PURE__*/_jsx(Trans,{id:\"Error\"})})]});}else if(account){var chevronProps=_objectSpread(_objectSpread({},CHEVRON_PROPS),{},{color:theme.textSecondary});return/*#__PURE__*/_jsxs(Web3StatusConnected,{\"data-testid\":\"web3-status-connected\",onClick:handleWalletDropdownClick,pending:hasPendingTransactions,isClaimAvailable:isClaimAvailable,children:[!hasPendingTransactions&&/*#__PURE__*/_jsx(StatusIcon,{size:24,connectionType:connectionType}),hasPendingTransactions?/*#__PURE__*/_jsxs(RowBetween,{children:[/*#__PURE__*/_jsx(Text,{children:/*#__PURE__*/_jsx(Trans,{id:\"{0} Pending\",values:{0:pending===null||pending===void 0?void 0:pending.length}})}),' ',/*#__PURE__*/_jsx(Loader,{stroke:\"white\"})]}):/*#__PURE__*/_jsxs(AddressAndChevronContainer,{children:[/*#__PURE__*/_jsx(Text,{children:ENSName||shortenAddress(account)}),walletIsOpen?/*#__PURE__*/_jsx(ChevronUp,_objectSpread({},chevronProps)):/*#__PURE__*/_jsx(ChevronDown,_objectSpread({},chevronProps))]})]});}else{var _chevronProps=_objectSpread(_objectSpread({},CHEVRON_PROPS),{},{color:theme.accentAction,'data-testid':'navbar-wallet-dropdown'});return/*#__PURE__*/_jsx(TraceEvent,{events:[BrowserEvent.onClick],name:EventName.CONNECT_WALLET_BUTTON_CLICKED,properties:{received_swap_quote:validSwapQuote},element:ElementName.CONNECT_WALLET_BUTTON,children:/*#__PURE__*/_jsxs(Web3StatusConnectWrapper,{faded:!account,children:[/*#__PURE__*/_jsx(StyledConnectButton,{\"data-testid\":\"navbar-connect-wallet\",onClick:toggleWalletModal,children:/*#__PURE__*/_jsx(Trans,{id:\"Connect\"})}),/*#__PURE__*/_jsx(VerticalDivider,{}),/*#__PURE__*/_jsx(ChevronWrapper,{onClick:handleWalletDropdownClick,\"data-testid\":\"navbar-toggle-dropdown\",children:walletIsOpen?/*#__PURE__*/_jsx(ChevronUp,_objectSpread({},_chevronProps)):/*#__PURE__*/_jsx(ChevronDown,_objectSpread({},_chevronProps))})]})});}}export default function Web3Status(){var _useWeb3React2=useWeb3React(),ENSName=_useWeb3React2.ENSName;var allTransactions=useAllTransactions();var ref=useRef(null);var walletRef=useRef(null);var closeModal=useCloseModal();var isOpen=useModalIsOpen(ApplicationModal.WALLET_DROPDOWN);useOnClickOutside(ref,isOpen?closeModal:undefined,[walletRef]);var sortedRecentTransactions=useMemo(function(){var txs=Object.values(allTransactions);return txs.filter(isTransactionRecent).sort(newTransactionsFirst);},[allTransactions]);var pending=sortedRecentTransactions.filter(function(tx){return!tx.receipt;}).map(function(tx){return tx.hash;});var confirmed=sortedRecentTransactions.filter(function(tx){return tx.receipt;}).map(function(tx){return tx.hash;});return/*#__PURE__*/_jsxs(\"span\",{ref:ref,children:[/*#__PURE__*/_jsx(Web3StatusInner,{}),/*#__PURE__*/_jsx(FiatOnrampAnnouncement,{}),/*#__PURE__*/_jsx(WalletModal,{ENSName:ENSName!==null&&ENSName!==void 0?ENSName:undefined,pendingTransactions:pending,confirmedTransactions:confirmed}),/*#__PURE__*/_jsx(MetamaskConnectionError,{}),/*#__PURE__*/_jsx(Portal,{children:/*#__PURE__*/_jsx(\"span\",{ref:walletRef,children:/*#__PURE__*/_jsx(WalletDropdown,{})})})]});}","map":{"version":3,"names":["sendAnalyticsEvent","TraceEvent","BrowserEvent","ElementName","EventName","useWeb3React","FiatOnrampAnnouncement","IconWrapper","WalletDropdown","getConnection","getIsMetaMask","Portal","useIsNftClaimAvailable","getIsValidSwapQuote","darken","useCallback","useEffect","useMemo","useRef","AlertTriangle","ChevronDown","ChevronUp","useAppSelector","useDerivedSwapInfo","colors","flexRowNoWrap","useOnClickOutside","useCloseModal","useModalIsOpen","useToggleMetamaskConnectionErrorModal","useToggleWalletDropdown","useToggleWalletModal","ApplicationModal","isTransactionRecent","useAllTransactions","shortenAddress","ButtonSecondary","StatusIcon","Loader","RowBetween","WalletModal","MetamaskConnectionError","FULL_BORDER_RADIUS","ChevronWrapper","styled","button","theme","accentActionSoft","Web3StatusGeneric","Web3StatusError","accentFailure","white","Web3StatusConnectWrapper","div","Web3StatusConnected","pending","accentAction","deprecated_bg1","textPrimary","isClaimAvailable","purple300","deprecated_bg3","backgroundInteractive","breakpoint","lg","AddressAndChevronContainer","Text","p","NetworkIcon","newTransactionsFirst","a","b","addedTime","VerticalDivider","StyledConnectButton","transition","duration","timing","fast","in","CHEVRON_PROPS","height","width","Web3StatusInner","account","connector","chainId","ENSName","connectionType","type","trade","tradeState","state","swapInputError","inputError","validSwapQuote","useTheme","toggleWalletDropdown","handleWalletDropdownClick","toggleWalletModal","toggleMetamaskConnectionErrorModal","walletIsOpen","WALLET_DROPDOWN","error","connection","errorByConnectionType","allTransactions","sortedRecentTransactions","txs","Object","values","filter","sort","tx","receipt","map","hash","hasPendingTransactions","length","chevronProps","color","textSecondary","onClick","CONNECT_WALLET_BUTTON_CLICKED","received_swap_quote","CONNECT_WALLET_BUTTON","Web3Status","ref","walletRef","closeModal","isOpen","undefined","confirmed"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/components/Web3Status/index.tsx"],"sourcesContent":["import { Trans } from '@lingui/macro'\nimport { sendAnalyticsEvent, TraceEvent } from '@uniswap/analytics'\nimport { BrowserEvent, ElementName, EventName } from '@uniswap/analytics-events'\nimport { useWeb3React } from '@web3-react/core'\nimport { FiatOnrampAnnouncement } from 'components/FiatOnrampAnnouncement'\nimport { IconWrapper } from 'components/Identicon/StatusIcon'\nimport WalletDropdown from 'components/WalletDropdown'\nimport { getConnection, getIsMetaMask } from 'connection/utils'\nimport { Portal } from 'nft/components/common/Portal'\nimport { useIsNftClaimAvailable } from 'nft/hooks/useIsNftClaimAvailable'\nimport { getIsValidSwapQuote } from 'pages/Swap'\nimport { darken } from 'polished'\nimport { useCallback, useEffect, useMemo, useRef } from 'react'\nimport { AlertTriangle, ChevronDown, ChevronUp } from 'react-feather'\nimport { useAppSelector } from 'state/hooks'\nimport { useDerivedSwapInfo } from 'state/swap/hooks'\nimport styled, { useTheme } from 'styled-components/macro'\nimport { colors } from 'theme/colors'\nimport { flexRowNoWrap } from 'theme/styles'\n\nimport { useOnClickOutside } from '../../hooks/useOnClickOutside'\nimport {\n  useCloseModal,\n  useModalIsOpen,\n  useToggleMetamaskConnectionErrorModal,\n  useToggleWalletDropdown,\n  useToggleWalletModal,\n} from '../../state/application/hooks'\nimport { ApplicationModal } from '../../state/application/reducer'\nimport { isTransactionRecent, useAllTransactions } from '../../state/transactions/hooks'\nimport { TransactionDetails } from '../../state/transactions/types'\nimport { shortenAddress } from '../../utils'\nimport { ButtonSecondary } from '../Button'\nimport StatusIcon from '../Identicon/StatusIcon'\nimport Loader from '../Loader'\nimport { RowBetween } from '../Row'\nimport WalletModal from '../WalletModal'\nimport MetamaskConnectionError from './MetamaskConnectionError'\n\n// https://stackoverflow.com/a/31617326\nconst FULL_BORDER_RADIUS = 9999\n\nconst ChevronWrapper = styled.button`\n  background-color: transparent;\n  border: none;\n  cursor: pointer;\n  display: flex;\n  padding: 10px 16px 10px 4px;\n\n  :hover {\n    color: ${({ theme }) => theme.accentActionSoft};\n  }\n  :hover,\n  :active,\n  :focus {\n    border: none;\n  }\n`\n\nconst Web3StatusGeneric = styled(ButtonSecondary)`\n  ${flexRowNoWrap};\n  width: 100%;\n  align-items: center;\n  padding: 0.5rem;\n  border-radius: ${FULL_BORDER_RADIUS}px;\n  cursor: pointer;\n  user-select: none;\n  height: 36px;\n  margin-right: 2px;\n  margin-left: 2px;\n  :focus {\n    outline: none;\n  }\n`\nconst Web3StatusError = styled(Web3StatusGeneric)`\n  background-color: ${({ theme }) => theme.accentFailure};\n  border: 1px solid ${({ theme }) => theme.accentFailure};\n  color: ${({ theme }) => theme.white};\n  font-weight: 500;\n  :hover,\n  :focus {\n    background-color: ${({ theme }) => darken(0.1, theme.accentFailure)};\n  }\n`\n\nconst Web3StatusConnectWrapper = styled.div<{ faded?: boolean }>`\n  ${flexRowNoWrap};\n  align-items: center;\n  background-color: ${({ theme }) => theme.accentActionSoft};\n  border-radius: ${FULL_BORDER_RADIUS}px;\n  border: none;\n  padding: 0;\n  height: 40px;\n\n  :hover,\n  :active,\n  :focus {\n    border: none;\n  }\n`\n\nconst Web3StatusConnected = styled(Web3StatusGeneric)<{\n  pending?: boolean\n  isClaimAvailable?: boolean\n}>`\n  background-color: ${({ pending, theme }) => (pending ? theme.accentAction : theme.deprecated_bg1)};\n  border: 1px solid ${({ pending, theme }) => (pending ? theme.accentAction : theme.deprecated_bg1)};\n  color: ${({ pending, theme }) => (pending ? theme.white : theme.textPrimary)};\n  font-weight: 500;\n  border: ${({ isClaimAvailable }) => isClaimAvailable && `1px solid ${colors.purple300}`};\n  :hover,\n  :focus {\n    border: 1px solid ${({ theme }) => darken(0.05, theme.deprecated_bg3)};\n\n    :focus {\n      border: 1px solid\n        ${({ pending, theme }) =>\n          pending ? darken(0.1, theme.accentAction) : darken(0.1, theme.backgroundInteractive)};\n    }\n  }\n\n  @media only screen and (max-width: ${({ theme }) => `${theme.breakpoint.lg}px`}) {\n    width: ${({ pending }) => !pending && '36px'};\n\n    ${IconWrapper} {\n      margin-right: 0;\n    }\n  }\n`\n\nconst AddressAndChevronContainer = styled.div`\n  display: flex;\n\n  @media only screen and (max-width: ${({ theme }) => `${theme.breakpoint.lg}px`}) {\n    display: none;\n  }\n`\n\nconst Text = styled.p`\n  flex: 1 1 auto;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  margin: 0 0.5rem 0 0.25rem;\n  font-size: 1rem;\n  width: fit-content;\n  font-weight: 500;\n`\n\nconst NetworkIcon = styled(AlertTriangle)`\n  margin-left: 0.25rem;\n  margin-right: 0.5rem;\n  width: 16px;\n  height: 16px;\n`\n\n// we want the latest one to come first, so return negative if a is after b\nfunction newTransactionsFirst(a: TransactionDetails, b: TransactionDetails) {\n  return b.addedTime - a.addedTime\n}\n\nconst VerticalDivider = styled.div`\n  height: 20px;\n  margin: 0px;\n  width: 1px;\n  background-color: ${({ theme }) => theme.accentAction};\n`\n\nconst StyledConnectButton = styled.button`\n  background-color: transparent;\n  border: none;\n  border-top-left-radius: ${FULL_BORDER_RADIUS}px;\n  border-bottom-left-radius: ${FULL_BORDER_RADIUS}px;\n  color: ${({ theme }) => theme.accentAction};\n  cursor: pointer;\n  font-weight: 600;\n  font-size: 16px;\n  padding: 10px 8px 10px 12px;\n\n  transition: ${({\n    theme: {\n      transition: { duration, timing },\n    },\n  }) => `${duration.fast} color ${timing.in}`};\n\n  :hover,\n  :active,\n  :focus {\n    border: none;\n  }\n  :hover {\n    color: ${({ theme }) => theme.accentActionSoft};\n  }\n`\n\nconst CHEVRON_PROPS = {\n  height: 20,\n  width: 20,\n}\n\nfunction Web3StatusInner() {\n  const { account, connector, chainId, ENSName } = useWeb3React()\n  const connectionType = getConnection(connector).type\n  const {\n    trade: { state: tradeState, trade },\n    inputError: swapInputError,\n  } = useDerivedSwapInfo()\n  const validSwapQuote = getIsValidSwapQuote(trade, tradeState, swapInputError)\n  const theme = useTheme()\n  const toggleWalletDropdown = useToggleWalletDropdown()\n  const handleWalletDropdownClick = useCallback(() => {\n    sendAnalyticsEvent('FOR Account Dropdown Button Clicks')\n    toggleWalletDropdown()\n  }, [toggleWalletDropdown])\n  const toggleWalletModal = useToggleWalletModal()\n  const toggleMetamaskConnectionErrorModal = useToggleMetamaskConnectionErrorModal()\n  const walletIsOpen = useModalIsOpen(ApplicationModal.WALLET_DROPDOWN)\n  const isClaimAvailable = useIsNftClaimAvailable((state) => state.isClaimAvailable)\n\n  const error = useAppSelector((state) => state.connection.errorByConnectionType[getConnection(connector).type])\n  useEffect(() => {\n    if (getIsMetaMask() && error) {\n      toggleMetamaskConnectionErrorModal()\n    }\n  }, [error, toggleMetamaskConnectionErrorModal])\n\n  const allTransactions = useAllTransactions()\n\n  const sortedRecentTransactions = useMemo(() => {\n    const txs = Object.values(allTransactions)\n    return txs.filter(isTransactionRecent).sort(newTransactionsFirst)\n  }, [allTransactions])\n\n  const pending = sortedRecentTransactions.filter((tx) => !tx.receipt).map((tx) => tx.hash)\n\n  const hasPendingTransactions = !!pending.length\n\n  if (!chainId) {\n    return null\n  } else if (error) {\n    return (\n      <Web3StatusError onClick={handleWalletDropdownClick}>\n        <NetworkIcon />\n        <Text>\n          <Trans>Error</Trans>\n        </Text>\n      </Web3StatusError>\n    )\n  } else if (account) {\n    const chevronProps = {\n      ...CHEVRON_PROPS,\n      color: theme.textSecondary,\n    }\n\n    return (\n      <Web3StatusConnected\n        data-testid=\"web3-status-connected\"\n        onClick={handleWalletDropdownClick}\n        pending={hasPendingTransactions}\n        isClaimAvailable={isClaimAvailable}\n      >\n        {!hasPendingTransactions && <StatusIcon size={24} connectionType={connectionType} />}\n        {hasPendingTransactions ? (\n          <RowBetween>\n            <Text>\n              <Trans>{pending?.length} Pending</Trans>\n            </Text>{' '}\n            <Loader stroke=\"white\" />\n          </RowBetween>\n        ) : (\n          <AddressAndChevronContainer>\n            <Text>{ENSName || shortenAddress(account)}</Text>\n            {walletIsOpen ? <ChevronUp {...chevronProps} /> : <ChevronDown {...chevronProps} />}\n          </AddressAndChevronContainer>\n        )}\n      </Web3StatusConnected>\n    )\n  } else {\n    const chevronProps = {\n      ...CHEVRON_PROPS,\n      color: theme.accentAction,\n      'data-testid': 'navbar-wallet-dropdown',\n    }\n    return (\n      <TraceEvent\n        events={[BrowserEvent.onClick]}\n        name={EventName.CONNECT_WALLET_BUTTON_CLICKED}\n        properties={{ received_swap_quote: validSwapQuote }}\n        element={ElementName.CONNECT_WALLET_BUTTON}\n      >\n        <Web3StatusConnectWrapper faded={!account}>\n          <StyledConnectButton data-testid=\"navbar-connect-wallet\" onClick={toggleWalletModal}>\n            <Trans>Connect</Trans>\n          </StyledConnectButton>\n          <VerticalDivider />\n          <ChevronWrapper onClick={handleWalletDropdownClick} data-testid=\"navbar-toggle-dropdown\">\n            {walletIsOpen ? <ChevronUp {...chevronProps} /> : <ChevronDown {...chevronProps} />}\n          </ChevronWrapper>\n        </Web3StatusConnectWrapper>\n      </TraceEvent>\n    )\n  }\n}\n\nexport default function Web3Status() {\n  const { ENSName } = useWeb3React()\n\n  const allTransactions = useAllTransactions()\n  const ref = useRef<HTMLDivElement>(null)\n  const walletRef = useRef<HTMLDivElement>(null)\n  const closeModal = useCloseModal()\n  const isOpen = useModalIsOpen(ApplicationModal.WALLET_DROPDOWN)\n\n  useOnClickOutside(ref, isOpen ? closeModal : undefined, [walletRef])\n\n  const sortedRecentTransactions = useMemo(() => {\n    const txs = Object.values(allTransactions)\n    return txs.filter(isTransactionRecent).sort(newTransactionsFirst)\n  }, [allTransactions])\n\n  const pending = sortedRecentTransactions.filter((tx) => !tx.receipt).map((tx) => tx.hash)\n  const confirmed = sortedRecentTransactions.filter((tx) => tx.receipt).map((tx) => tx.hash)\n\n  return (\n    <span ref={ref}>\n      <Web3StatusInner />\n      <FiatOnrampAnnouncement />\n      <WalletModal ENSName={ENSName ?? undefined} pendingTransactions={pending} confirmedTransactions={confirmed} />\n      <MetamaskConnectionError />\n      <Portal>\n        <span ref={walletRef}>\n          <WalletDropdown />\n        </span>\n      </Portal>\n    </span>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}