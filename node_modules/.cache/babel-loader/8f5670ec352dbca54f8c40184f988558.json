{"ast":null,"code":"import _regeneratorRuntime from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{gnosisSafeConnection,networkConnection}from'connection';import{getConnection}from'connection/utils';import{useEffect}from'react';import{useAppDispatch,useAppSelector}from'state/hooks';import{updateSelectedWallet}from'state/user/reducer';function connect(_x){return _connect.apply(this,arguments);}function _connect(){_connect=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(connector){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;if(!connector.connectEagerly){_context.next=6;break;}_context.next=4;return connector.connectEagerly();case 4:_context.next=8;break;case 6:_context.next=8;return connector.activate();case 8:_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.debug(\"web3-react eager connection error: \".concat(_context.t0));case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return _connect.apply(this,arguments);}export default function useEagerlyConnect(){var dispatch=useAppDispatch();var selectedWallet=useAppSelector(function(state){return state.user.selectedWallet;});var selectedConnection;if(selectedWallet){try{selectedConnection=getConnection(selectedWallet);}catch(_unused){dispatch(updateSelectedWallet({wallet:undefined}));}}useEffect(function(){connect(gnosisSafeConnection.connector);connect(networkConnection.connector);if(selectedConnection){connect(selectedConnection.connector);}// The dependency list is empty so this is only run once on mount\n},[]);// eslint-disable-line react-hooks/exhaustive-deps\n}","map":{"version":3,"names":["gnosisSafeConnection","networkConnection","getConnection","useEffect","useAppDispatch","useAppSelector","updateSelectedWallet","connect","connector","connectEagerly","activate","console","debug","useEagerlyConnect","dispatch","selectedWallet","state","user","selectedConnection","wallet","undefined"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/hooks/useEagerlyConnect.ts"],"sourcesContent":["import { Connector } from '@web3-react/types'\nimport { Connection, gnosisSafeConnection, networkConnection } from 'connection'\nimport { getConnection } from 'connection/utils'\nimport { useEffect } from 'react'\nimport { useAppDispatch, useAppSelector } from 'state/hooks'\nimport { updateSelectedWallet } from 'state/user/reducer'\n\nasync function connect(connector: Connector) {\n  try {\n    if (connector.connectEagerly) {\n      await connector.connectEagerly()\n    } else {\n      await connector.activate()\n    }\n  } catch (error) {\n    console.debug(`web3-react eager connection error: ${error}`)\n  }\n}\n\nexport default function useEagerlyConnect() {\n  const dispatch = useAppDispatch()\n\n  const selectedWallet = useAppSelector((state) => state.user.selectedWallet)\n\n  let selectedConnection: Connection | undefined\n  if (selectedWallet) {\n    try {\n      selectedConnection = getConnection(selectedWallet)\n    } catch {\n      dispatch(updateSelectedWallet({ wallet: undefined }))\n    }\n  }\n\n  useEffect(() => {\n    connect(gnosisSafeConnection.connector)\n    connect(networkConnection.connector)\n\n    if (selectedConnection) {\n      connect(selectedConnection.connector)\n    } // The dependency list is empty so this is only run once on mount\n  }, []) // eslint-disable-line react-hooks/exhaustive-deps\n}\n"],"mappings":"qVACA,OAAqBA,oBAAoB,CAAEC,iBAAiB,KAAQ,YAAY,CAChF,OAASC,aAAa,KAAQ,kBAAkB,CAChD,OAASC,SAAS,KAAQ,OAAO,CACjC,OAASC,cAAc,CAAEC,cAAc,KAAQ,aAAa,CAC5D,OAASC,oBAAoB,KAAQ,oBAAoB,SAE1CC,QAAO,iIAAtB,iBAAuBC,SAAoB,sIAEnCA,SAAS,CAACC,cAAc,+CACpBD,UAAS,CAACC,cAAc,EAAE,2DAE1BD,UAAS,CAACE,QAAQ,EAAE,yFAG5BC,OAAO,CAACC,KAAK,2DAA+C,sEAE/D,0CAED,cAAe,SAASC,kBAAiB,EAAG,CAC1C,GAAMC,SAAQ,CAAGV,cAAc,EAAE,CAEjC,GAAMW,eAAc,CAAGV,cAAc,CAAC,SAACW,KAAK,QAAKA,MAAK,CAACC,IAAI,CAACF,cAAc,GAAC,CAE3E,GAAIG,mBAA0C,CAC9C,GAAIH,cAAc,CAAE,CAClB,GAAI,CACFG,kBAAkB,CAAGhB,aAAa,CAACa,cAAc,CAAC,CACpD,CAAE,cAAM,CACND,QAAQ,CAACR,oBAAoB,CAAC,CAAEa,MAAM,CAAEC,SAAU,CAAC,CAAC,CAAC,CACvD,CACF,CAEAjB,SAAS,CAAC,UAAM,CACdI,OAAO,CAACP,oBAAoB,CAACQ,SAAS,CAAC,CACvCD,OAAO,CAACN,iBAAiB,CAACO,SAAS,CAAC,CAEpC,GAAIU,kBAAkB,CAAE,CACtBX,OAAO,CAACW,kBAAkB,CAACV,SAAS,CAAC,CACvC,CAAE;AACJ,CAAC,CAAE,EAAE,CAAC,CAAC;AACT"},"metadata":{},"sourceType":"module"}