{"ast":null,"code":"import _defineProperty from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _get from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/get\";import _getPrototypeOf from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";var _RPC_PROVIDERS;import{deepCopy}from'@ethersproject/properties';// This is the only file which should instantiate new Providers.\n// eslint-disable-next-line @typescript-eslint/no-restricted-imports\nimport{StaticJsonRpcProvider}from'@ethersproject/providers';import{isPlain}from'@reduxjs/toolkit';import{AVERAGE_L1_BLOCK_TIME}from'./chainInfo';import{CHAIN_IDS_TO_NAMES,SupportedChainId}from'./chains';import{RPC_URLS}from'./networks';var AppJsonRpcProvider=/*#__PURE__*/function(_StaticJsonRpcProvide){_inherits(AppJsonRpcProvider,_StaticJsonRpcProvide);var _super=_createSuper(AppJsonRpcProvider);function AppJsonRpcProvider(chainId){var _this;_classCallCheck(this,AppJsonRpcProvider);// Including networkish allows ethers to skip the initial detectNetwork call.\n_this=_super.call(this,RPC_URLS[chainId][0],/* networkish= */{chainId:chainId,name:CHAIN_IDS_TO_NAMES[chainId]});// NB: Third-party providers (eg MetaMask) will have their own polling intervals,\n// which should be left as-is to allow operations (eg transaction confirmation) to resolve faster.\n// Network providers (eg AppJsonRpcProvider) need to update less frequently to be considered responsive.\n_this._blockCache=new Map();_this.pollingInterval=AVERAGE_L1_BLOCK_TIME;return _this;}_createClass(AppJsonRpcProvider,[{key:\"blockCache\",get:function get(){var _this2=this;// If the blockCache has not yet been initialized this block, do so by\n// setting a listener to clear it on the next block.\nif(!this._blockCache.size){this.once('block',function(){return _this2._blockCache.clear();});}return this._blockCache;}},{key:\"send\",value:function send(method,params){// Only cache eth_call's.\nif(method!=='eth_call')return _get(_getPrototypeOf(AppJsonRpcProvider.prototype),\"send\",this).call(this,method,params);// Only cache if params are serializable.\nif(!isPlain(params))return _get(_getPrototypeOf(AppJsonRpcProvider.prototype),\"send\",this).call(this,method,params);var key=\"call:\".concat(JSON.stringify(params));var cached=this.blockCache.get(key);if(cached){this.emit('debug',{action:'request',request:deepCopy({method:method,params:params,id:'cache'}),provider:this});return cached;}var result=_get(_getPrototypeOf(AppJsonRpcProvider.prototype),\"send\",this).call(this,method,params);this.blockCache.set(key,result);return result;}}]);return AppJsonRpcProvider;}(StaticJsonRpcProvider);/**\n * These are the only JsonRpcProviders used directly by the interface.\n */export var RPC_PROVIDERS=(_RPC_PROVIDERS={},_defineProperty(_RPC_PROVIDERS,SupportedChainId.MAINNET,new AppJsonRpcProvider(SupportedChainId.MAINNET)),_defineProperty(_RPC_PROVIDERS,SupportedChainId.RINKEBY,new AppJsonRpcProvider(SupportedChainId.RINKEBY)),_defineProperty(_RPC_PROVIDERS,SupportedChainId.ROPSTEN,new AppJsonRpcProvider(SupportedChainId.ROPSTEN)),_defineProperty(_RPC_PROVIDERS,SupportedChainId.GOERLI,new AppJsonRpcProvider(SupportedChainId.GOERLI)),_defineProperty(_RPC_PROVIDERS,SupportedChainId.KOVAN,new AppJsonRpcProvider(SupportedChainId.KOVAN)),_defineProperty(_RPC_PROVIDERS,SupportedChainId.OPTIMISM,new AppJsonRpcProvider(SupportedChainId.OPTIMISM)),_defineProperty(_RPC_PROVIDERS,SupportedChainId.OPTIMISM_GOERLI,new AppJsonRpcProvider(SupportedChainId.OPTIMISM_GOERLI)),_defineProperty(_RPC_PROVIDERS,SupportedChainId.ARBITRUM_ONE,new AppJsonRpcProvider(SupportedChainId.ARBITRUM_ONE)),_defineProperty(_RPC_PROVIDERS,SupportedChainId.ARBITRUM_RINKEBY,new AppJsonRpcProvider(SupportedChainId.ARBITRUM_RINKEBY)),_defineProperty(_RPC_PROVIDERS,SupportedChainId.POLYGON,new AppJsonRpcProvider(SupportedChainId.POLYGON)),_defineProperty(_RPC_PROVIDERS,SupportedChainId.POLYGON_MUMBAI,new AppJsonRpcProvider(SupportedChainId.POLYGON_MUMBAI)),_defineProperty(_RPC_PROVIDERS,SupportedChainId.CELO,new AppJsonRpcProvider(SupportedChainId.CELO)),_defineProperty(_RPC_PROVIDERS,SupportedChainId.CELO_ALFAJORES,new AppJsonRpcProvider(SupportedChainId.CELO_ALFAJORES)),_RPC_PROVIDERS);","map":{"version":3,"names":["deepCopy","StaticJsonRpcProvider","isPlain","AVERAGE_L1_BLOCK_TIME","CHAIN_IDS_TO_NAMES","SupportedChainId","RPC_URLS","AppJsonRpcProvider","chainId","name","_blockCache","Map","pollingInterval","size","once","clear","method","params","key","JSON","stringify","cached","blockCache","get","emit","action","request","id","provider","result","set","RPC_PROVIDERS","MAINNET","RINKEBY","ROPSTEN","GOERLI","KOVAN","OPTIMISM","OPTIMISM_GOERLI","ARBITRUM_ONE","ARBITRUM_RINKEBY","POLYGON","POLYGON_MUMBAI","CELO","CELO_ALFAJORES"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/constants/providers.ts"],"sourcesContent":["import { deepCopy } from '@ethersproject/properties'\n// This is the only file which should instantiate new Providers.\n// eslint-disable-next-line @typescript-eslint/no-restricted-imports\nimport { StaticJsonRpcProvider } from '@ethersproject/providers'\nimport { isPlain } from '@reduxjs/toolkit'\n\nimport { AVERAGE_L1_BLOCK_TIME } from './chainInfo'\nimport { CHAIN_IDS_TO_NAMES, SupportedChainId } from './chains'\nimport { RPC_URLS } from './networks'\n\nclass AppJsonRpcProvider extends StaticJsonRpcProvider {\n  private _blockCache = new Map<string, Promise<any>>()\n  get blockCache() {\n    // If the blockCache has not yet been initialized this block, do so by\n    // setting a listener to clear it on the next block.\n    if (!this._blockCache.size) {\n      this.once('block', () => this._blockCache.clear())\n    }\n    return this._blockCache\n  }\n\n  constructor(chainId: SupportedChainId) {\n    // Including networkish allows ethers to skip the initial detectNetwork call.\n    super(RPC_URLS[chainId][0], /* networkish= */ { chainId, name: CHAIN_IDS_TO_NAMES[chainId] })\n\n    // NB: Third-party providers (eg MetaMask) will have their own polling intervals,\n    // which should be left as-is to allow operations (eg transaction confirmation) to resolve faster.\n    // Network providers (eg AppJsonRpcProvider) need to update less frequently to be considered responsive.\n    this.pollingInterval = AVERAGE_L1_BLOCK_TIME\n  }\n\n  send(method: string, params: Array<any>): Promise<any> {\n    // Only cache eth_call's.\n    if (method !== 'eth_call') return super.send(method, params)\n\n    // Only cache if params are serializable.\n    if (!isPlain(params)) return super.send(method, params)\n\n    const key = `call:${JSON.stringify(params)}`\n    const cached = this.blockCache.get(key)\n    if (cached) {\n      this.emit('debug', {\n        action: 'request',\n        request: deepCopy({ method, params, id: 'cache' }),\n        provider: this,\n      })\n      return cached\n    }\n\n    const result = super.send(method, params)\n    this.blockCache.set(key, result)\n    return result\n  }\n}\n\n/**\n * These are the only JsonRpcProviders used directly by the interface.\n */\nexport const RPC_PROVIDERS: { [key in SupportedChainId]: StaticJsonRpcProvider } = {\n  [SupportedChainId.MAINNET]: new AppJsonRpcProvider(SupportedChainId.MAINNET),\n  [SupportedChainId.RINKEBY]: new AppJsonRpcProvider(SupportedChainId.RINKEBY),\n  [SupportedChainId.ROPSTEN]: new AppJsonRpcProvider(SupportedChainId.ROPSTEN),\n  [SupportedChainId.GOERLI]: new AppJsonRpcProvider(SupportedChainId.GOERLI),\n  [SupportedChainId.KOVAN]: new AppJsonRpcProvider(SupportedChainId.KOVAN),\n  [SupportedChainId.OPTIMISM]: new AppJsonRpcProvider(SupportedChainId.OPTIMISM),\n  [SupportedChainId.OPTIMISM_GOERLI]: new AppJsonRpcProvider(SupportedChainId.OPTIMISM_GOERLI),\n  [SupportedChainId.ARBITRUM_ONE]: new AppJsonRpcProvider(SupportedChainId.ARBITRUM_ONE),\n  [SupportedChainId.ARBITRUM_RINKEBY]: new AppJsonRpcProvider(SupportedChainId.ARBITRUM_RINKEBY),\n  [SupportedChainId.POLYGON]: new AppJsonRpcProvider(SupportedChainId.POLYGON),\n  [SupportedChainId.POLYGON_MUMBAI]: new AppJsonRpcProvider(SupportedChainId.POLYGON_MUMBAI),\n  [SupportedChainId.CELO]: new AppJsonRpcProvider(SupportedChainId.CELO),\n  [SupportedChainId.CELO_ALFAJORES]: new AppJsonRpcProvider(SupportedChainId.CELO_ALFAJORES),\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}