{"ast":null,"code":"import _createForOfIteratorHelper from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _slicedToArray from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _styled from\"styled-components\";import{Box}from'nft/components/Box';import{SortDropdown}from'nft/components/common/SortDropdown';import{Column,Row}from'nft/components/Flex';import{AttachPriceIcon,EditPriceIcon,RowsCollpsedIcon,RowsExpandedIcon,VerifiedIcon}from'nft/components/icons';import{NumericInput}from'nft/components/layout/Input';import{badge,body,bodySmall,subheadSmall}from'nft/css/common.css';import{useSellAsset}from'nft/hooks';import{LOOKS_RARE_CREATOR_BASIS_POINTS}from'nft/utils';import{formatEth,formatUsdPrice}from'nft/utils/currency';import{fetchPrice}from'nft/utils/fetchPrice';import{useEffect,useMemo,useRef,useState}from'react';import*as styles from'./ListPage.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var TableHeader=_styled.div.withConfig({componentId:\"sc-1vku9kh-0\"})([\"display:flex;position:sticky;align-items:center;top:72px;padding-top:24px;padding-bottom:24px;z-index:1;background-color:\",\";\"],function(_ref){var theme=_ref.theme;return theme.backgroundBackdrop;});var SetPriceMethod;(function(SetPriceMethod){SetPriceMethod[SetPriceMethod[\"SAME_PRICE\"]=0]=\"SAME_PRICE\";SetPriceMethod[SetPriceMethod[\"FLOOR_PRICE\"]=1]=\"FLOOR_PRICE\";SetPriceMethod[SetPriceMethod[\"PREV_LISTING\"]=2]=\"PREV_LISTING\";})(SetPriceMethod||(SetPriceMethod={}));export var NFTListingsGrid=function NFTListingsGrid(_ref2){var selectedMarkets=_ref2.selectedMarkets;var sellAssets=useSellAsset(function(state){return state.sellAssets;});var _useState=useState(),_useState2=_slicedToArray(_useState,2),globalPriceMethod=_useState2[0],setGlobalPriceMethod=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),globalPrice=_useState4[0],setGlobalPrice=_useState4[1];var priceDropdownOptions=useMemo(function(){return[{displayText:'Same price',onClick:function onClick(){return setGlobalPriceMethod(SetPriceMethod.SAME_PRICE);}},{displayText:'Floor price',onClick:function onClick(){return setGlobalPriceMethod(SetPriceMethod.FLOOR_PRICE);}},{displayText:'Prev. listing',onClick:function onClick(){return setGlobalPriceMethod(SetPriceMethod.PREV_LISTING);}}];},[]);return/*#__PURE__*/_jsxs(Column,{children:[/*#__PURE__*/_jsxs(TableHeader,{children:[/*#__PURE__*/_jsx(Column,{marginLeft:selectedMarkets.length>1?'36':'0',transition:\"500\",className:bodySmall,color:\"textSecondary\",flex:\"2\",children:\"NFT\"}),/*#__PURE__*/_jsxs(Row,{flex:{sm:'1.5',md:'3'},children:[/*#__PURE__*/_jsx(Column,{className:subheadSmall,flex:\"1.5\",children:/*#__PURE__*/_jsx(SortDropdown,{dropDownOptions:priceDropdownOptions,mini:true,miniPrompt:\"Set price by\"})}),/*#__PURE__*/_jsx(Column,{className:bodySmall,color:\"textSecondary\",flex:\"1\",display:{sm:'none',md:'flex'},textAlign:\"right\",children:\"Marketplace fee\"}),/*#__PURE__*/_jsx(Column,{className:bodySmall,color:\"textSecondary\",flex:\"1\",display:{sm:'none',md:'flex'},textAlign:\"right\",children:\"Royalties\"}),/*#__PURE__*/_jsx(Column,{className:bodySmall,color:\"textSecondary\",style:{flex:'1.5'},display:{sm:'none',md:'flex'},textAlign:\"right\",children:\"You receive\"})]})]}),sellAssets.map(function(asset){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NFTListRow,{asset:asset,globalPriceMethod:globalPriceMethod,globalPrice:globalPrice,setGlobalPrice:setGlobalPrice,selectedMarkets:selectedMarkets}),sellAssets.indexOf(asset)<sellAssets.length-1&&/*#__PURE__*/_jsx(\"hr\",{className:styles.nftDivider})]});})]});};var WarningType;(function(WarningType){WarningType[\"BELOW_FLOOR\"]=\"LISTING BELOW FLOOR \";WarningType[\"ALREADY_LISTED\"]=\"ALREADY LISTED FOR \";WarningType[\"NONE\"]=\"\";})(WarningType||(WarningType={}));var PriceTextInput=function PriceTextInput(_ref3){var _asset$floorPrice2,_asset$floor_sell_ord;var listPrice=_ref3.listPrice,setListPrice=_ref3.setListPrice,isGlobalPrice=_ref3.isGlobalPrice,setGlobalOverride=_ref3.setGlobalOverride,globalOverride=_ref3.globalOverride,warning=_ref3.warning,asset=_ref3.asset;var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),focused=_useState6[0],setFocused=_useState6[1];var _useState7=useState(WarningType.NONE),_useState8=_slicedToArray(_useState7,2),warningType=_useState8[0],setWarningType=_useState8[1];var removeMarketplaceWarning=useSellAsset(function(state){return state.removeMarketplaceWarning;});var removeSellAsset=useSellAsset(function(state){return state.removeSellAsset;});var inputRef=useRef();useEffect(function(){inputRef.current.value=listPrice!==undefined?\"\".concat(listPrice):'';setWarningType(WarningType.NONE);if(!warning&&listPrice){var _asset$floorPrice;if(listPrice<((_asset$floorPrice=asset===null||asset===void 0?void 0:asset.floorPrice)!==null&&_asset$floorPrice!==void 0?_asset$floorPrice:0))setWarningType(WarningType.BELOW_FLOOR);else if(asset.floor_sell_order_price&&listPrice>=asset.floor_sell_order_price)setWarningType(WarningType.ALREADY_LISTED);}else if(warning&&listPrice&&listPrice>=0)removeMarketplaceWarning(asset,warning);// eslint-disable-next-line react-hooks/exhaustive-deps\n},[listPrice]);return/*#__PURE__*/_jsxs(Column,{gap:\"12\",position:\"relative\",children:[/*#__PURE__*/_jsxs(Row,{color:\"textTertiary\",height:\"44\",width:\"min\",padding:\"4\",borderRadius:\"8\",borderWidth:\"1px\",borderStyle:\"solid\",borderColor:warningType!==WarningType.NONE&&!focused?'orange':isGlobalPrice?'accentAction':listPrice!=null?'textSecondary':'blue400',children:[/*#__PURE__*/_jsx(NumericInput,{as:\"input\",pattern:\"[0-9]\",borderStyle:\"none\",className:body,color:{placeholder:'textSecondary',default:'textPrimary'},placeholder:\"0\",marginRight:\"0\",marginLeft:\"14\",backgroundColor:\"none\",style:{width:'68px'},onFocus:function onFocus(){return setFocused(true);},onBlur:function onBlur(){setFocused(false);},ref:inputRef,onChange:function onChange(v){if(!listPrice&&v.currentTarget.value.includes('.')&&parseFloat(v.currentTarget.value)===0){return;}var val=parseFloat(v.currentTarget.value);setListPrice(isNaN(val)?undefined:val);}}),/*#__PURE__*/_jsx(Box,{color:listPrice&&listPrice>=0?'textPrimary':'textSecondary',marginRight:\"16\",children:\"\\xA0ETH\"}),/*#__PURE__*/_jsx(Box,{cursor:\"pointer\",display:isGlobalPrice||globalOverride?'block':'none',position:\"absolute\",style:{marginTop:'-36px',marginLeft:'124px'},backgroundColor:\"backgroundSurface\",onClick:function onClick(){return setGlobalOverride(!globalOverride);},children:globalOverride?/*#__PURE__*/_jsx(AttachPriceIcon,{}):/*#__PURE__*/_jsx(EditPriceIcon,{})})]}),/*#__PURE__*/_jsx(Row,{top:\"52\",width:\"max\",className:badge,color:warningType===WarningType.BELOW_FLOOR&&!focused?'orange':'textSecondary',position:\"absolute\",children:focused?/*#__PURE__*/_jsxs(_Fragment,{children:[!!asset.lastPrice&&/*#__PURE__*/_jsxs(Row,{display:asset.lastPrice?'flex':'none',marginRight:\"8\",children:[\"LAST: \",formatEth(asset.lastPrice),\" ETH\"]}),!!asset.floorPrice&&/*#__PURE__*/_jsxs(Row,{display:asset.floorPrice?'flex':'none',children:[\"FLOOR: \",formatEth(asset.floorPrice),\" ETH\"]})]}):/*#__PURE__*/_jsx(_Fragment,{children:warning?warning.message:warningType!==WarningType.NONE&&/*#__PURE__*/_jsxs(_Fragment,{children:[warningType,warningType===WarningType.BELOW_FLOOR?formatEth((_asset$floorPrice2=asset===null||asset===void 0?void 0:asset.floorPrice)!==null&&_asset$floorPrice2!==void 0?_asset$floorPrice2:0):formatEth((_asset$floor_sell_ord=asset===null||asset===void 0?void 0:asset.floor_sell_order_price)!==null&&_asset$floor_sell_ord!==void 0?_asset$floor_sell_ord:0),\"ETH\",/*#__PURE__*/_jsx(Box,{color:warningType===WarningType.BELOW_FLOOR?'accentAction':'orange',marginLeft:\"8\",cursor:\"pointer\",onClick:function onClick(){warningType===WarningType.ALREADY_LISTED&&removeSellAsset(asset);setWarningType(WarningType.NONE);},children:warningType===WarningType.BELOW_FLOOR?'DISMISS':'REMOVE ITEM'})]})})})]});};var EthPriceDisplay=function EthPriceDisplay(_ref4){var _ref4$ethPrice=_ref4.ethPrice,ethPrice=_ref4$ethPrice===void 0?0:_ref4$ethPrice;var _useState9=useState(3000),_useState10=_slicedToArray(_useState9,2),ethConversion=_useState10[0],setEthConversion=_useState10[1];useEffect(function(){fetchPrice().then(function(price){setEthConversion(price!==null&&price!==void 0?price:0);});},[]);return/*#__PURE__*/_jsx(Column,{width:\"full\",children:/*#__PURE__*/_jsx(Row,{width:\"full\",justifyContent:\"flex-end\",children:ethPrice!==0?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Column,{children:[/*#__PURE__*/_jsxs(Box,{className:body,color:\"textPrimary\",marginLeft:\"12\",marginRight:\"0\",children:[ethPrice,\" ETH\"]}),/*#__PURE__*/_jsx(Box,{className:body,color:\"textSecondary\",marginLeft:\"12\",marginRight:\"0\",children:formatUsdPrice(ethPrice*ethConversion)})]})}):'- ETH'})});};function maxMarketFee(markets){var max=-1;markets.forEach(function(market){if(market.fee>max){max=market.fee;}});return max;}var MarketplaceRow=function MarketplaceRow(_ref5){var _asset$basisPoints,_asset$listingWarning;var globalPriceMethod=_ref5.globalPriceMethod,globalPrice=_ref5.globalPrice,setGlobalPrice=_ref5.setGlobalPrice,selectedMarkets=_ref5.selectedMarkets,_ref5$removeMarket=_ref5.removeMarket,removeMarket=_ref5$removeMarket===void 0?undefined:_ref5$removeMarket,asset=_ref5.asset,showMarketplaceLogo=_ref5.showMarketplaceLogo;var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),listPrice=_useState12[0],setListPrice=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),globalOverride=_useState14[0],setGlobalOverride=_useState14[1];var showGlobalPrice=globalPriceMethod===SetPriceMethod.SAME_PRICE&&!globalOverride&&globalPrice;var setAssetListPrice=useSellAsset(function(state){return state.setAssetListPrice;});var removeAssetMarketplace=useSellAsset(function(state){return state.removeAssetMarketplace;});var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),hovered=_useState16[0],setHovered=_useState16[1];var handleHover=function handleHover(){return setHovered(!hovered);};var marketplaceFee=selectedMarkets.length>0?maxMarketFee(selectedMarkets):0;var price=showGlobalPrice?globalPrice:listPrice;// LooksRare is a unique case where royalties for creators are a flat 0.5% or 50 basis points\nvar royalties=(selectedMarkets.length===1&&selectedMarkets[0].name==='LooksRare'?LOOKS_RARE_CREATOR_BASIS_POINTS:(_asset$basisPoints=asset===null||asset===void 0?void 0:asset.basisPoints)!==null&&_asset$basisPoints!==void 0?_asset$basisPoints:0)*0.01;var feeInEth=price&&price*(royalties+marketplaceFee)/100;var userReceives=price&&feeInEth&&price-feeInEth;useEffect(function(){if(globalPriceMethod===SetPriceMethod.FLOOR_PRICE){setListPrice(asset.floorPrice);setGlobalPrice(asset.floorPrice);}else if(globalPriceMethod===SetPriceMethod.PREV_LISTING){setListPrice(asset.lastPrice);setGlobalPrice(asset.lastPrice);}else if(globalPriceMethod===SetPriceMethod.SAME_PRICE)listPrice&&!globalPrice?setGlobalPrice(listPrice):setListPrice(globalPrice);setGlobalOverride(false);// eslint-disable-next-line react-hooks/exhaustive-deps\n},[globalPriceMethod]);useEffect(function(){if(selectedMarkets.length){var _iterator=_createForOfIteratorHelper(selectedMarkets),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var marketplace=_step.value;setAssetListPrice(asset,listPrice,marketplace);}}catch(err){_iterator.e(err);}finally{_iterator.f();}}else setAssetListPrice(asset,listPrice);// eslint-disable-next-line react-hooks/exhaustive-deps\n},[listPrice]);useEffect(function(){var price=undefined;if(globalOverride){if(!listPrice)setListPrice(globalPrice);price=listPrice?listPrice:globalPrice;}else{price=globalPrice;}if(selectedMarkets.length){var _iterator2=_createForOfIteratorHelper(selectedMarkets),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var marketplace=_step2.value;setAssetListPrice(asset,price,marketplace);}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}}else setAssetListPrice(asset,price);// eslint-disable-next-line react-hooks/exhaustive-deps\n},[globalOverride]);useEffect(function(){if(globalPriceMethod===SetPriceMethod.SAME_PRICE&&!globalOverride){if(selectedMarkets.length){var _iterator3=_createForOfIteratorHelper(selectedMarkets),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var marketplace=_step3.value;setAssetListPrice(asset,globalPrice,marketplace);}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}}else setAssetListPrice(asset,globalPrice);}// eslint-disable-next-line react-hooks/exhaustive-deps\n},[globalPrice]);var warning=undefined;if(asset.listingWarnings&&((_asset$listingWarning=asset.listingWarnings)===null||_asset$listingWarning===void 0?void 0:_asset$listingWarning.length)>0){if(showMarketplaceLogo){var _iterator4=_createForOfIteratorHelper(asset.listingWarnings),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var listingWarning=_step4.value;if(listingWarning.marketplace.name===selectedMarkets[0].name)warning=listingWarning;}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}}else{warning=asset.listingWarnings[0];}}return/*#__PURE__*/_jsxs(Row,{transition:\"500\",marginLeft:selectedMarkets.length>1?'20':'0',children:[showMarketplaceLogo&&/*#__PURE__*/_jsxs(Column,{position:\"relative\",cursor:\"pointer\",onMouseEnter:handleHover,onMouseLeave:handleHover,style:{marginLeft:'-28px'},onClick:function onClick(e){e.stopPropagation();removeAssetMarketplace(asset,selectedMarkets[0]);removeMarket&&removeMarket();},children:[/*#__PURE__*/_jsx(Box,{className:styles.removeMarketplace,visibility:hovered?'visible':'hidden',position:\"absolute\",children:/*#__PURE__*/_jsx(Box,{as:\"img\",width:\"32\",src:\"/nft/svgs/minusCircle.svg\",alt:\"Remove item\"})}),/*#__PURE__*/_jsx(Box,{as:\"img\",alt:selectedMarkets[0].name,width:\"28\",height:\"28\",borderRadius:\"4\",objectFit:\"cover\",src:selectedMarkets[0].icon,marginRight:\"16\"})]}),/*#__PURE__*/_jsx(Column,{style:{flex:'1.5'},children:globalPriceMethod===SetPriceMethod.SAME_PRICE&&!globalOverride?/*#__PURE__*/_jsx(PriceTextInput,{listPrice:globalPrice,setListPrice:setGlobalPrice,isGlobalPrice:true,setGlobalOverride:setGlobalOverride,globalOverride:globalOverride,warning:warning,asset:asset}):/*#__PURE__*/_jsx(PriceTextInput,{listPrice:listPrice,setListPrice:setListPrice,isGlobalPrice:false,setGlobalOverride:setGlobalOverride,globalOverride:globalOverride,warning:warning,asset:asset})}),/*#__PURE__*/_jsx(Row,{flex:\"1\",display:{sm:'none',md:'flex'},children:/*#__PURE__*/_jsx(Box,{className:body,color:\"textSecondary\",width:\"full\",textAlign:\"right\",children:marketplaceFee>0?marketplaceFee+(selectedMarkets.length>1?'% MAX':'%'):'--%'})}),/*#__PURE__*/_jsx(Row,{flex:\"1\",display:{sm:'none',md:'flex'},children:/*#__PURE__*/_jsxs(Box,{className:body,color:\"textSecondary\",width:\"full\",textAlign:\"right\",children:[royalties.toFixed(1),\"%\"]})}),/*#__PURE__*/_jsx(Row,{style:{flex:'1.5'},display:{sm:'none',md:'flex'},children:/*#__PURE__*/_jsx(Column,{width:\"full\",children:/*#__PURE__*/_jsx(EthPriceDisplay,{ethPrice:userReceives})})})]});};var NFTListRow=function NFTListRow(_ref6){var _asset$collection;var asset=_ref6.asset,globalPriceMethod=_ref6.globalPriceMethod,globalPrice=_ref6.globalPrice,setGlobalPrice=_ref6.setGlobalPrice,selectedMarkets=_ref6.selectedMarkets;var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),expandMarketplaceRows=_useState18[0],setExpandMarketplaceRows=_useState18[1];var removeAsset=useSellAsset(function(state){return state.removeSellAsset;});var _useState19=useState([]),_useState20=_slicedToArray(_useState19,2),localMarkets=_useState20[0],setLocalMarkets=_useState20[1];var _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),hovered=_useState22[0],setHovered=_useState22[1];var handleHover=function handleHover(){return setHovered(!hovered);};useEffect(function(){setLocalMarkets(JSON.parse(JSON.stringify(selectedMarkets)));selectedMarkets.length<2&&setExpandMarketplaceRows(false);},[selectedMarkets]);return/*#__PURE__*/_jsxs(Row,{marginTop:\"24\",marginBottom:\"24\",children:[/*#__PURE__*/_jsxs(Row,{flexWrap:\"nowrap\",flex:\"2\",marginTop:\"0\",marginBottom:\"auto\",minWidth:\"0\",children:[/*#__PURE__*/_jsx(Box,{transition:\"500\",style:{maxWidth:localMarkets.length>1?'28px':'0',opacity:localMarkets.length>1?'1':'0'},cursor:\"pointer\",onClick:function onClick(){return setExpandMarketplaceRows(!expandMarketplaceRows);},children:expandMarketplaceRows?/*#__PURE__*/_jsx(RowsExpandedIcon,{}):/*#__PURE__*/_jsx(RowsCollpsedIcon,{})}),/*#__PURE__*/_jsxs(Box,{position:\"relative\",cursor:\"pointer\",onMouseEnter:handleHover,onMouseLeave:handleHover,onClick:function onClick(){removeAsset(asset);},children:[/*#__PURE__*/_jsx(Box,{className:styles.removeAsset,visibility:hovered?'visible':'hidden',position:\"absolute\",children:/*#__PURE__*/_jsx(Box,{as:\"img\",width:\"32\",src:\"/nft/svgs/minusCircle.svg\",alt:\"Remove item\"})}),/*#__PURE__*/_jsx(Box,{as:\"img\",alt:asset.name,width:\"48\",height:\"48\",borderRadius:\"8\",marginLeft:localMarkets.length>1?'8':'0',marginRight:\"8\",transition:\"500\",src:asset.imageUrl||'/nft/svgs/image-placeholder.svg'})]}),/*#__PURE__*/_jsxs(Column,{gap:\"4\",minWidth:\"0\",children:[/*#__PURE__*/_jsx(Box,{paddingRight:\"8\",overflow:\"hidden\",textOverflow:\"ellipsis\",whiteSpace:\"nowrap\",className:subheadSmall,children:asset.name?asset.name:\"#\".concat(asset.tokenId)}),/*#__PURE__*/_jsxs(Box,{paddingRight:\"8\",overflow:\"hidden\",textOverflow:\"ellipsis\",whiteSpace:\"nowrap\",className:bodySmall,children:[(_asset$collection=asset.collection)===null||_asset$collection===void 0?void 0:_asset$collection.name,asset.collectionIsVerified&&/*#__PURE__*/_jsx(VerifiedIcon,{style:{marginBottom:'-5px'}})]})]})]}),/*#__PURE__*/_jsx(Column,{flex:{sm:'1',md:'3'},gap:\"24\",children:expandMarketplaceRows?localMarkets.map(function(market,index){return/*#__PURE__*/_jsx(MarketplaceRow,{globalPriceMethod:globalPriceMethod,globalPrice:globalPrice,setGlobalPrice:setGlobalPrice,selectedMarkets:[market],removeMarket:function removeMarket(){return localMarkets.splice(index,1);},asset:asset,showMarketplaceLogo:true},index);}):/*#__PURE__*/_jsx(MarketplaceRow,{globalPriceMethod:globalPriceMethod,globalPrice:globalPrice,setGlobalPrice:setGlobalPrice,selectedMarkets:localMarkets,asset:asset,showMarketplaceLogo:false})})]});};","map":{"version":3,"names":["Box","SortDropdown","Column","Row","AttachPriceIcon","EditPriceIcon","RowsCollpsedIcon","RowsExpandedIcon","VerifiedIcon","NumericInput","badge","body","bodySmall","subheadSmall","useSellAsset","LOOKS_RARE_CREATOR_BASIS_POINTS","formatEth","formatUsdPrice","fetchPrice","useEffect","useMemo","useRef","useState","styles","TableHeader","styled","div","theme","backgroundBackdrop","SetPriceMethod","NFTListingsGrid","selectedMarkets","sellAssets","state","globalPriceMethod","setGlobalPriceMethod","globalPrice","setGlobalPrice","priceDropdownOptions","displayText","onClick","SAME_PRICE","FLOOR_PRICE","PREV_LISTING","length","sm","md","flex","map","asset","indexOf","nftDivider","WarningType","PriceTextInput","listPrice","setListPrice","isGlobalPrice","setGlobalOverride","globalOverride","warning","focused","setFocused","NONE","warningType","setWarningType","removeMarketplaceWarning","removeSellAsset","inputRef","current","value","undefined","floorPrice","BELOW_FLOOR","floor_sell_order_price","ALREADY_LISTED","placeholder","default","width","v","currentTarget","includes","parseFloat","val","isNaN","marginTop","marginLeft","lastPrice","message","EthPriceDisplay","ethPrice","ethConversion","setEthConversion","then","price","maxMarketFee","markets","max","forEach","market","fee","MarketplaceRow","removeMarket","showMarketplaceLogo","showGlobalPrice","setAssetListPrice","removeAssetMarketplace","hovered","setHovered","handleHover","marketplaceFee","royalties","name","basisPoints","feeInEth","userReceives","marketplace","listingWarnings","listingWarning","e","stopPropagation","removeMarketplace","icon","toFixed","NFTListRow","expandMarketplaceRows","setExpandMarketplaceRows","removeAsset","localMarkets","setLocalMarkets","JSON","parse","stringify","maxWidth","opacity","imageUrl","tokenId","collection","collectionIsVerified","marginBottom","index","splice"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/nft/components/profile/list/NFTListingsGrid.tsx"],"sourcesContent":["import { Box } from 'nft/components/Box'\nimport { SortDropdown } from 'nft/components/common/SortDropdown'\nimport { Column, Row } from 'nft/components/Flex'\nimport { AttachPriceIcon, EditPriceIcon, RowsCollpsedIcon, RowsExpandedIcon, VerifiedIcon } from 'nft/components/icons'\nimport { NumericInput } from 'nft/components/layout/Input'\nimport { badge, body, bodySmall, subheadSmall } from 'nft/css/common.css'\nimport { useSellAsset } from 'nft/hooks'\nimport { DropDownOption, ListingMarket, ListingWarning, WalletAsset } from 'nft/types'\nimport { LOOKS_RARE_CREATOR_BASIS_POINTS } from 'nft/utils'\nimport { formatEth, formatUsdPrice } from 'nft/utils/currency'\nimport { fetchPrice } from 'nft/utils/fetchPrice'\nimport { Dispatch, FormEvent, useEffect, useMemo, useRef, useState } from 'react'\nimport styled from 'styled-components/macro'\n\nimport * as styles from './ListPage.css'\n\nconst TableHeader = styled.div`\n  display: flex;\n  position: sticky;\n  align-items: center;\n  top: 72px;\n  padding-top: 24px;\n  padding-bottom: 24px;\n  z-index: 1;\n  background-color: ${({ theme }) => theme.backgroundBackdrop};\n`\n\nenum SetPriceMethod {\n  SAME_PRICE,\n  FLOOR_PRICE,\n  PREV_LISTING,\n}\n\nexport const NFTListingsGrid = ({ selectedMarkets }: { selectedMarkets: ListingMarket[] }) => {\n  const sellAssets = useSellAsset((state) => state.sellAssets)\n  const [globalPriceMethod, setGlobalPriceMethod] = useState<SetPriceMethod>()\n  const [globalPrice, setGlobalPrice] = useState<number>()\n\n  const priceDropdownOptions: DropDownOption[] = useMemo(\n    () => [\n      {\n        displayText: 'Same price',\n        onClick: () => setGlobalPriceMethod(SetPriceMethod.SAME_PRICE),\n      },\n      {\n        displayText: 'Floor price',\n        onClick: () => setGlobalPriceMethod(SetPriceMethod.FLOOR_PRICE),\n      },\n      {\n        displayText: 'Prev. listing',\n        onClick: () => setGlobalPriceMethod(SetPriceMethod.PREV_LISTING),\n      },\n    ],\n    []\n  )\n\n  return (\n    <Column>\n      <TableHeader>\n        <Column\n          marginLeft={selectedMarkets.length > 1 ? '36' : '0'}\n          transition=\"500\"\n          className={bodySmall}\n          color=\"textSecondary\"\n          flex=\"2\"\n        >\n          NFT\n        </Column>\n        <Row flex={{ sm: '1.5', md: '3' }}>\n          <Column className={subheadSmall} flex=\"1.5\">\n            <SortDropdown dropDownOptions={priceDropdownOptions} mini miniPrompt=\"Set price by\" />\n          </Column>\n          <Column\n            className={bodySmall}\n            color=\"textSecondary\"\n            flex=\"1\"\n            display={{ sm: 'none', md: 'flex' }}\n            textAlign=\"right\"\n          >\n            Marketplace fee\n          </Column>\n          <Column\n            className={bodySmall}\n            color=\"textSecondary\"\n            flex=\"1\"\n            display={{ sm: 'none', md: 'flex' }}\n            textAlign=\"right\"\n          >\n            Royalties\n          </Column>\n          <Column\n            className={bodySmall}\n            color=\"textSecondary\"\n            style={{ flex: '1.5' }}\n            display={{ sm: 'none', md: 'flex' }}\n            textAlign=\"right\"\n          >\n            You receive\n          </Column>\n        </Row>\n      </TableHeader>\n      {sellAssets.map((asset) => {\n        return (\n          <>\n            <NFTListRow\n              asset={asset}\n              globalPriceMethod={globalPriceMethod}\n              globalPrice={globalPrice}\n              setGlobalPrice={setGlobalPrice}\n              selectedMarkets={selectedMarkets}\n            />\n            {sellAssets.indexOf(asset) < sellAssets.length - 1 && <hr className={styles.nftDivider} />}\n          </>\n        )\n      })}\n    </Column>\n  )\n}\n\nenum WarningType {\n  BELOW_FLOOR = 'LISTING BELOW FLOOR ',\n  ALREADY_LISTED = 'ALREADY LISTED FOR ',\n  NONE = '',\n}\n\ninterface PriceTextInputProps {\n  listPrice?: number\n  setListPrice: Dispatch<number | undefined>\n  isGlobalPrice: boolean\n  setGlobalOverride: Dispatch<boolean>\n  globalOverride: boolean\n  warning?: ListingWarning\n  asset: WalletAsset\n}\n\nconst PriceTextInput = ({\n  listPrice,\n  setListPrice,\n  isGlobalPrice,\n  setGlobalOverride,\n  globalOverride,\n  warning,\n  asset,\n}: PriceTextInputProps) => {\n  const [focused, setFocused] = useState(false)\n  const [warningType, setWarningType] = useState(WarningType.NONE)\n  const removeMarketplaceWarning = useSellAsset((state) => state.removeMarketplaceWarning)\n  const removeSellAsset = useSellAsset((state) => state.removeSellAsset)\n  const inputRef = useRef() as React.MutableRefObject<HTMLInputElement>\n\n  useEffect(() => {\n    inputRef.current.value = listPrice !== undefined ? `${listPrice}` : ''\n    setWarningType(WarningType.NONE)\n    if (!warning && listPrice) {\n      if (listPrice < (asset?.floorPrice ?? 0)) setWarningType(WarningType.BELOW_FLOOR)\n      else if (asset.floor_sell_order_price && listPrice >= asset.floor_sell_order_price)\n        setWarningType(WarningType.ALREADY_LISTED)\n    } else if (warning && listPrice && listPrice >= 0) removeMarketplaceWarning(asset, warning)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [listPrice])\n\n  return (\n    <Column gap=\"12\" position=\"relative\">\n      <Row\n        color=\"textTertiary\"\n        height=\"44\"\n        width=\"min\"\n        padding=\"4\"\n        borderRadius=\"8\"\n        borderWidth=\"1px\"\n        borderStyle=\"solid\"\n        borderColor={\n          warningType !== WarningType.NONE && !focused\n            ? 'orange'\n            : isGlobalPrice\n            ? 'accentAction'\n            : listPrice != null\n            ? 'textSecondary'\n            : 'blue400'\n        }\n      >\n        <NumericInput\n          as=\"input\"\n          pattern=\"[0-9]\"\n          borderStyle=\"none\"\n          className={body}\n          color={{ placeholder: 'textSecondary', default: 'textPrimary' }}\n          placeholder=\"0\"\n          marginRight=\"0\"\n          marginLeft=\"14\"\n          backgroundColor=\"none\"\n          style={{ width: '68px' }}\n          onFocus={() => setFocused(true)}\n          onBlur={() => {\n            setFocused(false)\n          }}\n          ref={inputRef}\n          onChange={(v: FormEvent<HTMLInputElement>) => {\n            if (!listPrice && v.currentTarget.value.includes('.') && parseFloat(v.currentTarget.value) === 0) {\n              return\n            }\n            const val = parseFloat(v.currentTarget.value)\n            setListPrice(isNaN(val) ? undefined : val)\n          }}\n        />\n        <Box color={listPrice && listPrice >= 0 ? 'textPrimary' : 'textSecondary'} marginRight=\"16\">\n          &nbsp;ETH\n        </Box>\n        <Box\n          cursor=\"pointer\"\n          display={isGlobalPrice || globalOverride ? 'block' : 'none'}\n          position=\"absolute\"\n          style={{ marginTop: '-36px', marginLeft: '124px' }}\n          backgroundColor=\"backgroundSurface\"\n          onClick={() => setGlobalOverride(!globalOverride)}\n        >\n          {globalOverride ? <AttachPriceIcon /> : <EditPriceIcon />}\n        </Box>\n      </Row>\n      <Row\n        top=\"52\"\n        width=\"max\"\n        className={badge}\n        color={warningType === WarningType.BELOW_FLOOR && !focused ? 'orange' : 'textSecondary'}\n        position=\"absolute\"\n      >\n        {focused ? (\n          <>\n            {!!asset.lastPrice && (\n              <Row display={asset.lastPrice ? 'flex' : 'none'} marginRight=\"8\">\n                LAST: {formatEth(asset.lastPrice)} ETH\n              </Row>\n            )}\n            {!!asset.floorPrice && (\n              <Row display={asset.floorPrice ? 'flex' : 'none'}>FLOOR: {formatEth(asset.floorPrice)} ETH</Row>\n            )}\n          </>\n        ) : (\n          <>\n            {warning\n              ? warning.message\n              : warningType !== WarningType.NONE && (\n                  <>\n                    {warningType}\n                    {warningType === WarningType.BELOW_FLOOR\n                      ? formatEth(asset?.floorPrice ?? 0)\n                      : formatEth(asset?.floor_sell_order_price ?? 0)}\n                    ETH\n                    <Box\n                      color={warningType === WarningType.BELOW_FLOOR ? 'accentAction' : 'orange'}\n                      marginLeft=\"8\"\n                      cursor=\"pointer\"\n                      onClick={() => {\n                        warningType === WarningType.ALREADY_LISTED && removeSellAsset(asset)\n                        setWarningType(WarningType.NONE)\n                      }}\n                    >\n                      {warningType === WarningType.BELOW_FLOOR ? 'DISMISS' : 'REMOVE ITEM'}\n                    </Box>\n                  </>\n                )}\n          </>\n        )}\n      </Row>\n    </Column>\n  )\n}\n\nconst EthPriceDisplay = ({ ethPrice = 0 }: { ethPrice?: number }) => {\n  const [ethConversion, setEthConversion] = useState(3000)\n  useEffect(() => {\n    fetchPrice().then((price) => {\n      setEthConversion(price ?? 0)\n    })\n  }, [])\n\n  return (\n    <Column width=\"full\">\n      <Row width=\"full\" justifyContent=\"flex-end\">\n        {ethPrice !== 0 ? (\n          <>\n            <Column>\n              <Box className={body} color=\"textPrimary\" marginLeft=\"12\" marginRight=\"0\">\n                {ethPrice} ETH\n              </Box>\n              <Box className={body} color=\"textSecondary\" marginLeft=\"12\" marginRight=\"0\">\n                {formatUsdPrice(ethPrice * ethConversion)}\n              </Box>\n            </Column>\n          </>\n        ) : (\n          '- ETH'\n        )}\n      </Row>\n    </Column>\n  )\n}\n\nfunction maxMarketFee(markets: ListingMarket[]): number {\n  let max = -1\n  markets.forEach((market) => {\n    if (market.fee > max) {\n      max = market.fee\n    }\n  })\n  return max\n}\n\ninterface MarketplaceRowProps {\n  globalPriceMethod?: SetPriceMethod\n  globalPrice?: number\n  setGlobalPrice: Dispatch<number | undefined>\n  selectedMarkets: ListingMarket[]\n  removeMarket?: () => void\n  asset: WalletAsset\n  showMarketplaceLogo: boolean\n}\n\nconst MarketplaceRow = ({\n  globalPriceMethod,\n  globalPrice,\n  setGlobalPrice,\n  selectedMarkets,\n  removeMarket = undefined,\n  asset,\n  showMarketplaceLogo,\n}: MarketplaceRowProps) => {\n  const [listPrice, setListPrice] = useState<number>()\n  const [globalOverride, setGlobalOverride] = useState(false)\n  const showGlobalPrice = globalPriceMethod === SetPriceMethod.SAME_PRICE && !globalOverride && globalPrice\n  const setAssetListPrice = useSellAsset((state) => state.setAssetListPrice)\n  const removeAssetMarketplace = useSellAsset((state) => state.removeAssetMarketplace)\n  const [hovered, setHovered] = useState(false)\n  const handleHover = () => setHovered(!hovered)\n\n  const marketplaceFee = selectedMarkets.length > 0 ? maxMarketFee(selectedMarkets) : 0\n  const price = showGlobalPrice ? globalPrice : listPrice\n  // LooksRare is a unique case where royalties for creators are a flat 0.5% or 50 basis points\n  const royalties =\n    (selectedMarkets.length === 1 && selectedMarkets[0].name === 'LooksRare'\n      ? LOOKS_RARE_CREATOR_BASIS_POINTS\n      : asset?.basisPoints ?? 0) * 0.01\n  const feeInEth = price && (price * (royalties + marketplaceFee)) / 100\n  const userReceives = price && feeInEth && price - feeInEth\n\n  useEffect(() => {\n    if (globalPriceMethod === SetPriceMethod.FLOOR_PRICE) {\n      setListPrice(asset.floorPrice)\n      setGlobalPrice(asset.floorPrice)\n    } else if (globalPriceMethod === SetPriceMethod.PREV_LISTING) {\n      setListPrice(asset.lastPrice)\n      setGlobalPrice(asset.lastPrice)\n    } else if (globalPriceMethod === SetPriceMethod.SAME_PRICE)\n      listPrice && !globalPrice ? setGlobalPrice(listPrice) : setListPrice(globalPrice)\n\n    setGlobalOverride(false)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [globalPriceMethod])\n\n  useEffect(() => {\n    if (selectedMarkets.length)\n      for (const marketplace of selectedMarkets) setAssetListPrice(asset, listPrice, marketplace)\n    else setAssetListPrice(asset, listPrice)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [listPrice])\n\n  useEffect(() => {\n    let price: number | undefined = undefined\n    if (globalOverride) {\n      if (!listPrice) setListPrice(globalPrice)\n      price = listPrice ? listPrice : globalPrice\n    } else {\n      price = globalPrice\n    }\n    if (selectedMarkets.length) for (const marketplace of selectedMarkets) setAssetListPrice(asset, price, marketplace)\n    else setAssetListPrice(asset, price)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [globalOverride])\n\n  useEffect(() => {\n    if (globalPriceMethod === SetPriceMethod.SAME_PRICE && !globalOverride) {\n      if (selectedMarkets.length)\n        for (const marketplace of selectedMarkets) setAssetListPrice(asset, globalPrice, marketplace)\n      else setAssetListPrice(asset, globalPrice)\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [globalPrice])\n\n  let warning: ListingWarning | undefined = undefined\n  if (asset.listingWarnings && asset.listingWarnings?.length > 0) {\n    if (showMarketplaceLogo) {\n      for (const listingWarning of asset.listingWarnings) {\n        if (listingWarning.marketplace.name === selectedMarkets[0].name) warning = listingWarning\n      }\n    } else {\n      warning = asset.listingWarnings[0]\n    }\n  }\n\n  return (\n    <Row transition=\"500\" marginLeft={selectedMarkets.length > 1 ? '20' : '0'}>\n      {showMarketplaceLogo && (\n        <Column\n          position=\"relative\"\n          cursor=\"pointer\"\n          onMouseEnter={handleHover}\n          onMouseLeave={handleHover}\n          style={{ marginLeft: '-28px' }}\n          onClick={(e) => {\n            e.stopPropagation()\n            removeAssetMarketplace(asset, selectedMarkets[0])\n            removeMarket && removeMarket()\n          }}\n        >\n          <Box className={styles.removeMarketplace} visibility={hovered ? 'visible' : 'hidden'} position=\"absolute\">\n            <Box as=\"img\" width=\"32\" src=\"/nft/svgs/minusCircle.svg\" alt=\"Remove item\" />\n          </Box>\n          <Box\n            as=\"img\"\n            alt={selectedMarkets[0].name}\n            width=\"28\"\n            height=\"28\"\n            borderRadius=\"4\"\n            objectFit=\"cover\"\n            src={selectedMarkets[0].icon}\n            marginRight=\"16\"\n          />\n        </Column>\n      )}\n      <Column style={{ flex: '1.5' }}>\n        {globalPriceMethod === SetPriceMethod.SAME_PRICE && !globalOverride ? (\n          <PriceTextInput\n            listPrice={globalPrice}\n            setListPrice={setGlobalPrice}\n            isGlobalPrice={true}\n            setGlobalOverride={setGlobalOverride}\n            globalOverride={globalOverride}\n            warning={warning}\n            asset={asset}\n          />\n        ) : (\n          <PriceTextInput\n            listPrice={listPrice}\n            setListPrice={setListPrice}\n            isGlobalPrice={false}\n            setGlobalOverride={setGlobalOverride}\n            globalOverride={globalOverride}\n            warning={warning}\n            asset={asset}\n          />\n        )}\n      </Column>\n      <Row flex=\"1\" display={{ sm: 'none', md: 'flex' }}>\n        <Box className={body} color=\"textSecondary\" width=\"full\" textAlign=\"right\">\n          {marketplaceFee > 0 ? marketplaceFee + (selectedMarkets.length > 1 ? '% MAX' : '%') : '--%'}\n        </Box>\n      </Row>\n      <Row flex=\"1\" display={{ sm: 'none', md: 'flex' }}>\n        <Box className={body} color=\"textSecondary\" width=\"full\" textAlign=\"right\">\n          {royalties.toFixed(1)}%\n        </Box>\n      </Row>\n      <Row style={{ flex: '1.5' }} display={{ sm: 'none', md: 'flex' }}>\n        <Column width=\"full\">\n          <EthPriceDisplay ethPrice={userReceives} />\n        </Column>\n      </Row>\n    </Row>\n  )\n}\n\ninterface NFTListRowProps {\n  asset: WalletAsset\n  globalPriceMethod?: SetPriceMethod\n  setGlobalPrice: Dispatch<number | undefined>\n  globalPrice?: number\n  selectedMarkets: ListingMarket[]\n}\n\nconst NFTListRow = ({ asset, globalPriceMethod, globalPrice, setGlobalPrice, selectedMarkets }: NFTListRowProps) => {\n  const [expandMarketplaceRows, setExpandMarketplaceRows] = useState(false)\n  const removeAsset = useSellAsset((state) => state.removeSellAsset)\n  const [localMarkets, setLocalMarkets] = useState([])\n  const [hovered, setHovered] = useState(false)\n  const handleHover = () => setHovered(!hovered)\n\n  useEffect(() => {\n    setLocalMarkets(JSON.parse(JSON.stringify(selectedMarkets)))\n    selectedMarkets.length < 2 && setExpandMarketplaceRows(false)\n  }, [selectedMarkets])\n\n  return (\n    <Row marginTop=\"24\" marginBottom=\"24\">\n      <Row flexWrap=\"nowrap\" flex=\"2\" marginTop=\"0\" marginBottom=\"auto\" minWidth=\"0\">\n        <Box\n          transition=\"500\"\n          style={{\n            maxWidth: localMarkets.length > 1 ? '28px' : '0',\n            opacity: localMarkets.length > 1 ? '1' : '0',\n          }}\n          cursor=\"pointer\"\n          onClick={() => setExpandMarketplaceRows(!expandMarketplaceRows)}\n        >\n          {expandMarketplaceRows ? <RowsExpandedIcon /> : <RowsCollpsedIcon />}\n        </Box>\n        <Box\n          position=\"relative\"\n          cursor=\"pointer\"\n          onMouseEnter={handleHover}\n          onMouseLeave={handleHover}\n          onClick={() => {\n            removeAsset(asset)\n          }}\n        >\n          <Box className={styles.removeAsset} visibility={hovered ? 'visible' : 'hidden'} position=\"absolute\">\n            <Box as=\"img\" width=\"32\" src=\"/nft/svgs/minusCircle.svg\" alt=\"Remove item\" />\n          </Box>\n          <Box\n            as=\"img\"\n            alt={asset.name}\n            width=\"48\"\n            height=\"48\"\n            borderRadius=\"8\"\n            marginLeft={localMarkets.length > 1 ? '8' : '0'}\n            marginRight=\"8\"\n            transition=\"500\"\n            src={asset.imageUrl || '/nft/svgs/image-placeholder.svg'}\n          />\n        </Box>\n        <Column gap=\"4\" minWidth=\"0\">\n          <Box paddingRight=\"8\" overflow=\"hidden\" textOverflow=\"ellipsis\" whiteSpace=\"nowrap\" className={subheadSmall}>\n            {asset.name ? asset.name : `#${asset.tokenId}`}\n          </Box>\n          <Box paddingRight=\"8\" overflow=\"hidden\" textOverflow=\"ellipsis\" whiteSpace=\"nowrap\" className={bodySmall}>\n            {asset.collection?.name}\n            {asset.collectionIsVerified && <VerifiedIcon style={{ marginBottom: '-5px' }} />}\n          </Box>\n        </Column>\n      </Row>\n      <Column flex={{ sm: '1', md: '3' }} gap=\"24\">\n        {expandMarketplaceRows ? (\n          localMarkets.map((market, index) => {\n            return (\n              <MarketplaceRow\n                globalPriceMethod={globalPriceMethod}\n                globalPrice={globalPrice}\n                setGlobalPrice={setGlobalPrice}\n                selectedMarkets={[market]}\n                removeMarket={() => localMarkets.splice(index, 1)}\n                asset={asset}\n                showMarketplaceLogo={true}\n                key={index}\n              />\n            )\n          })\n        ) : (\n          <MarketplaceRow\n            globalPriceMethod={globalPriceMethod}\n            globalPrice={globalPrice}\n            setGlobalPrice={setGlobalPrice}\n            selectedMarkets={localMarkets}\n            asset={asset}\n            showMarketplaceLogo={false}\n          />\n        )}\n      </Column>\n    </Row>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}