{"ast":null,"code":"import{BigNumber}from'@ethersproject/bignumber';import{formatEther}from'@ethersproject/units';import{getTotalNftValue}from'nft/utils';export var parseTransactionResponse=function parseTransactionResponse(transactionResponse,ethPrice){var nftsPurchased=[];var nftsNotPurchased=[];var showPurchasedModal=false;var showRefundModal=false;var totalPurchaseValue=BigNumber.from(0);var totalRefundValue=BigNumber.from(0);var totalUSDRefund=0;var txFeeFiat=0;if(transactionResponse!==undefined){var purchasedNfts=transactionResponse.nftsPurchased,notPurchasedNfts=transactionResponse.nftsNotPurchased,txReceipt=transactionResponse.txReceipt;if(nftsPurchased&&nftsNotPurchased&&txReceipt){nftsPurchased=purchasedNfts;nftsNotPurchased=notPurchasedNfts;showPurchasedModal=nftsPurchased.length>=1;showRefundModal=nftsNotPurchased.length>=1;totalPurchaseValue=getTotalNftValue(nftsPurchased);totalRefundValue=getTotalNftValue(nftsNotPurchased);totalUSDRefund=totalRefundValue&&parseFloat(formatEther(totalRefundValue))*ethPrice;var txFee=BigNumber.from(txReceipt?txReceipt.gasUsed:0).mul(BigNumber.from(txReceipt?txReceipt.effectiveGasPrice:0));txFeeFiat=parseFloat(formatEther(txFee))*ethPrice;}}return{nftsPurchased:nftsPurchased,nftsNotPurchased:nftsNotPurchased,showPurchasedModal:showPurchasedModal,showRefundModal:showRefundModal,totalPurchaseValue:totalPurchaseValue,totalRefundValue:totalRefundValue,totalUSDRefund:totalUSDRefund,txFeeFiat:txFeeFiat};};// Given the length of the array of successfully purchased NFTs, returns the maxHeight and maxWidth of each asset preview\nexport var getSuccessfulImageSize=function getSuccessfulImageSize(numSuccessful,isMobile){var sizeModifier=isMobile?2:1;if(numSuccessful===1){return 474/sizeModifier;}else if(numSuccessful===2){return 280/sizeModifier;}else if(numSuccessful===3||numSuccessful>=5&&numSuccessful<7){return 184/sizeModifier;}else if(numSuccessful===4||numSuccessful>=7&&numSuccessful<13){return 136/sizeModifier;}else if(numSuccessful>=13&&numSuccessful<21){return 108/sizeModifier;}else return isMobile?39:64;};","map":{"version":3,"names":["BigNumber","formatEther","getTotalNftValue","parseTransactionResponse","transactionResponse","ethPrice","nftsPurchased","nftsNotPurchased","showPurchasedModal","showRefundModal","totalPurchaseValue","from","totalRefundValue","totalUSDRefund","txFeeFiat","undefined","purchasedNfts","notPurchasedNfts","txReceipt","length","parseFloat","txFee","gasUsed","mul","effectiveGasPrice","getSuccessfulImageSize","numSuccessful","isMobile","sizeModifier"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/nft/utils/transactionResponse.ts"],"sourcesContent":["import { BigNumber } from '@ethersproject/bignumber'\nimport { formatEther } from '@ethersproject/units'\nimport { TxResponse, UpdatedGenieAsset } from 'nft/types'\nimport { getTotalNftValue } from 'nft/utils'\n\nexport const parseTransactionResponse = (transactionResponse: TxResponse | undefined, ethPrice: number) => {\n  let nftsPurchased: UpdatedGenieAsset[] = []\n  let nftsNotPurchased: UpdatedGenieAsset[] = []\n  let showPurchasedModal = false\n  let showRefundModal = false\n  let totalPurchaseValue = BigNumber.from(0)\n  let totalRefundValue = BigNumber.from(0)\n  let totalUSDRefund = 0\n  let txFeeFiat = 0\n\n  if (transactionResponse !== undefined) {\n    const { nftsPurchased: purchasedNfts, nftsNotPurchased: notPurchasedNfts, txReceipt } = transactionResponse\n    if (nftsPurchased && nftsNotPurchased && txReceipt) {\n      nftsPurchased = purchasedNfts\n      nftsNotPurchased = notPurchasedNfts\n      showPurchasedModal = nftsPurchased.length >= 1\n      showRefundModal = nftsNotPurchased.length >= 1\n      totalPurchaseValue = getTotalNftValue(nftsPurchased)\n      totalRefundValue = getTotalNftValue(nftsNotPurchased)\n      totalUSDRefund = totalRefundValue && parseFloat(formatEther(totalRefundValue)) * ethPrice\n      const txFee = BigNumber.from(txReceipt ? txReceipt.gasUsed : 0).mul(\n        BigNumber.from(txReceipt ? txReceipt.effectiveGasPrice : 0)\n      )\n      txFeeFiat = parseFloat(formatEther(txFee)) * ethPrice\n    }\n  }\n\n  return {\n    nftsPurchased,\n    nftsNotPurchased,\n    showPurchasedModal,\n    showRefundModal,\n    totalPurchaseValue,\n    totalRefundValue,\n    totalUSDRefund,\n    txFeeFiat,\n  }\n}\n\n// Given the length of the array of successfully purchased NFTs, returns the maxHeight and maxWidth of each asset preview\nexport const getSuccessfulImageSize = (numSuccessful: number, isMobile: boolean) => {\n  const sizeModifier = isMobile ? 2 : 1\n  if (numSuccessful === 1) {\n    return 474 / sizeModifier\n  } else if (numSuccessful === 2) {\n    return 280 / sizeModifier\n  } else if (numSuccessful === 3 || (numSuccessful >= 5 && numSuccessful < 7)) {\n    return 184 / sizeModifier\n  } else if (numSuccessful === 4 || (numSuccessful >= 7 && numSuccessful < 13)) {\n    return 136 / sizeModifier\n  } else if (numSuccessful >= 13 && numSuccessful < 21) {\n    return 108 / sizeModifier\n  } else return isMobile ? 39 : 64\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}