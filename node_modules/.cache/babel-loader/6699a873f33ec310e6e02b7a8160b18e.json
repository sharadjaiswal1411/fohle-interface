{"ast":null,"code":"import _styled from \"styled-components\";\nvar _jsxFileName = \"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/components/LiquidityChartRangeInput/Brush.tsx\",\n  _s = $RefreshSig$();\nimport { brushHandleAccentPath, brushHandlePath, OffScreenHandle } from 'components/LiquidityChartRangeInput/svg';\nimport { brushX, select } from 'd3';\nimport usePrevious from 'hooks/usePrevious';\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Handle = _styled.path.withConfig({\n  displayName: \"Brush__Handle\",\n  componentId: \"sc-1hckctp-0\"\n})([\"cursor:ew-resize;pointer-events:none;stroke-width:3;stroke:\", \";fill:\", \";\"], _ref => {\n  let {\n    color\n  } = _ref;\n  return color;\n}, _ref2 => {\n  let {\n    color\n  } = _ref2;\n  return color;\n});\nconst HandleAccent = _styled.path.withConfig({\n  displayName: \"Brush__HandleAccent\",\n  componentId: \"sc-1hckctp-1\"\n})([\"cursor:ew-resize;pointer-events:none;stroke-width:1.5;stroke:\", \";opacity:\", \";\"], _ref3 => {\n  let {\n    theme\n  } = _ref3;\n  return theme.white;\n}, _ref4 => {\n  let {\n    theme\n  } = _ref4;\n  return theme.opacity.hover;\n});\nconst LabelGroup = _styled.g.withConfig({\n  displayName: \"Brush__LabelGroup\",\n  componentId: \"sc-1hckctp-2\"\n})([\"opacity:\", \";transition:opacity 300ms;\"], _ref5 => {\n  let {\n    visible\n  } = _ref5;\n  return visible ? '1' : '0';\n});\nconst TooltipBackground = _styled.rect.withConfig({\n  displayName: \"Brush__TooltipBackground\",\n  componentId: \"sc-1hckctp-3\"\n})([\"fill:\", \";\"], _ref6 => {\n  let {\n    theme\n  } = _ref6;\n  return theme.backgroundInteractive;\n});\nconst Tooltip = _styled.text.withConfig({\n  displayName: \"Brush__Tooltip\",\n  componentId: \"sc-1hckctp-4\"\n})([\"text-anchor:middle;font-size:13px;fill:\", \";\"], _ref7 => {\n  let {\n    theme\n  } = _ref7;\n  return theme.textPrimary;\n});\n\n// flips the handles draggers when close to the container edges\nconst FLIP_HANDLE_THRESHOLD_PX = 20;\n\n// margin to prevent tick snapping from putting the brush off screen\nconst BRUSH_EXTENT_MARGIN_PX = 2;\n\n/**\n * Returns true if every element in `a` maps to the\n * same pixel coordinate as elements in `b`\n */\nconst compare = (a, b, xScale) => {\n  // normalize pixels to 1 decimals\n  const aNorm = a.map(x => xScale(x).toFixed(1));\n  const bNorm = b.map(x => xScale(x).toFixed(1));\n  return aNorm.every((v, i) => v === bNorm[i]);\n};\nexport const Brush = _ref8 => {\n  _s();\n  let {\n    id,\n    xScale,\n    interactive,\n    brushLabelValue,\n    brushExtent,\n    setBrushExtent,\n    innerWidth,\n    innerHeight,\n    westHandleColor,\n    eastHandleColor\n  } = _ref8;\n  const brushRef = useRef(null);\n  const brushBehavior = useRef(null);\n\n  // only used to drag the handles on brush for performance\n  const [localBrushExtent, setLocalBrushExtent] = useState(brushExtent);\n  const [showLabels, setShowLabels] = useState(false);\n  const [hovering, setHovering] = useState(false);\n  const previousBrushExtent = usePrevious(brushExtent);\n  const brushed = useCallback(event => {\n    const {\n      type,\n      selection,\n      mode\n    } = event;\n    if (!selection) {\n      setLocalBrushExtent(null);\n      return;\n    }\n    const scaled = selection.map(xScale.invert);\n\n    // avoid infinite render loop by checking for change\n    if (type === 'end' && !compare(brushExtent, scaled, xScale)) {\n      setBrushExtent(scaled, mode);\n    }\n    setLocalBrushExtent(scaled);\n  }, [xScale, brushExtent, setBrushExtent]);\n\n  // keep local and external brush extent in sync\n  // i.e. snap to ticks on bruhs end\n  useEffect(() => {\n    setLocalBrushExtent(brushExtent);\n  }, [brushExtent]);\n\n  // initialize the brush\n  useEffect(() => {\n    if (!brushRef.current) return;\n    brushBehavior.current = brushX().extent([[Math.max(0 + BRUSH_EXTENT_MARGIN_PX, xScale(0)), 0], [innerWidth - BRUSH_EXTENT_MARGIN_PX, innerHeight]]).handleSize(30).filter(() => interactive).on('brush end', brushed);\n    brushBehavior.current(select(brushRef.current));\n    if (previousBrushExtent && compare(brushExtent, previousBrushExtent, xScale)) {\n      select(brushRef.current).transition().call(brushBehavior.current.move, brushExtent.map(xScale));\n    }\n\n    // brush linear gradient\n    select(brushRef.current).selectAll('.selection').attr('stroke', 'none').attr('fill-opacity', '0.1').attr('fill', `url(#${id}-gradient-selection)`);\n  }, [brushExtent, brushed, id, innerHeight, innerWidth, interactive, previousBrushExtent, xScale]);\n\n  // respond to xScale changes only\n  useEffect(() => {\n    if (!brushRef.current || !brushBehavior.current) return;\n    brushBehavior.current.move(select(brushRef.current), brushExtent.map(xScale));\n  }, [brushExtent, xScale]);\n\n  // show labels when local brush changes\n  useEffect(() => {\n    setShowLabels(true);\n    const timeout = setTimeout(() => setShowLabels(false), 1500);\n    return () => clearTimeout(timeout);\n  }, [localBrushExtent]);\n\n  // variables to help render the SVGs\n  const flipWestHandle = localBrushExtent && xScale(localBrushExtent[0]) > FLIP_HANDLE_THRESHOLD_PX;\n  const flipEastHandle = localBrushExtent && xScale(localBrushExtent[1]) > innerWidth - FLIP_HANDLE_THRESHOLD_PX;\n  const showWestArrow = localBrushExtent && (xScale(localBrushExtent[0]) < 0 || xScale(localBrushExtent[1]) < 0);\n  const showEastArrow = localBrushExtent && (xScale(localBrushExtent[0]) > innerWidth || xScale(localBrushExtent[1]) > innerWidth);\n  const westHandleInView = localBrushExtent && xScale(localBrushExtent[0]) >= 0 && xScale(localBrushExtent[0]) <= innerWidth;\n  const eastHandleInView = localBrushExtent && xScale(localBrushExtent[1]) >= 0 && xScale(localBrushExtent[1]) <= innerWidth;\n  return useMemo(() => /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"defs\", {\n      children: [/*#__PURE__*/_jsxDEV(\"linearGradient\", {\n        id: `${id}-gradient-selection`,\n        x1: \"0%\",\n        y1: \"100%\",\n        x2: \"100%\",\n        y2: \"100%\",\n        children: [/*#__PURE__*/_jsxDEV(\"stop\", {\n          stopColor: westHandleColor\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"stop\", {\n          stopColor: eastHandleColor,\n          offset: \"1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"clipPath\", {\n        id: `${id}-brush-clip`,\n        children: /*#__PURE__*/_jsxDEV(\"rect\", {\n          x: \"0\",\n          y: \"0\",\n          width: innerWidth,\n          height: innerHeight\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n      ref: brushRef,\n      clipPath: `url(#${id}-brush-clip)`,\n      onMouseEnter: () => setHovering(true),\n      onMouseLeave: () => setHovering(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 9\n    }, this), localBrushExtent && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [westHandleInView ? /*#__PURE__*/_jsxDEV(\"g\", {\n        transform: `translate(${Math.max(0, xScale(localBrushExtent[0]))}, 0), scale(${flipWestHandle ? '-1' : '1'}, 1)`,\n        children: [/*#__PURE__*/_jsxDEV(\"g\", {\n          children: [/*#__PURE__*/_jsxDEV(Handle, {\n            color: westHandleColor,\n            d: brushHandlePath(innerHeight)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(HandleAccent, {\n            d: brushHandleAccentPath()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(LabelGroup, {\n          transform: `translate(50,0), scale(${flipWestHandle ? '1' : '-1'}, 1)`,\n          visible: showLabels || hovering,\n          children: [/*#__PURE__*/_jsxDEV(TooltipBackground, {\n            y: \"0\",\n            x: \"-30\",\n            height: \"30\",\n            width: \"60\",\n            rx: \"8\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n            transform: \"scale(-1, 1)\",\n            y: \"15\",\n            dominantBaseline: \"middle\",\n            children: brushLabelValue('w', localBrushExtent[0])\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 15\n      }, this) : null, eastHandleInView ? /*#__PURE__*/_jsxDEV(\"g\", {\n        transform: `translate(${xScale(localBrushExtent[1])}, 0), scale(${flipEastHandle ? '-1' : '1'}, 1)`,\n        children: [/*#__PURE__*/_jsxDEV(\"g\", {\n          children: [/*#__PURE__*/_jsxDEV(Handle, {\n            color: eastHandleColor,\n            d: brushHandlePath(innerHeight)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(HandleAccent, {\n            d: brushHandleAccentPath()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(LabelGroup, {\n          transform: `translate(50,0), scale(${flipEastHandle ? '-1' : '1'}, 1)`,\n          visible: showLabels || hovering,\n          children: [/*#__PURE__*/_jsxDEV(TooltipBackground, {\n            y: \"0\",\n            x: \"-30\",\n            height: \"30\",\n            width: \"60\",\n            rx: \"8\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n            y: \"15\",\n            dominantBaseline: \"middle\",\n            children: brushLabelValue('e', localBrushExtent[1])\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 15\n      }, this) : null, showWestArrow && /*#__PURE__*/_jsxDEV(OffScreenHandle, {\n        color: westHandleColor\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 31\n      }, this), showEastArrow && /*#__PURE__*/_jsxDEV(\"g\", {\n        transform: `translate(${innerWidth}, 0) scale(-1, 1)`,\n        children: /*#__PURE__*/_jsxDEV(OffScreenHandle, {\n          color: eastHandleColor\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true), [brushLabelValue, eastHandleColor, eastHandleInView, flipEastHandle, flipWestHandle, hovering, id, innerHeight, innerWidth, localBrushExtent, showEastArrow, showLabels, showWestArrow, westHandleColor, westHandleInView, xScale]);\n};\n_s(Brush, \"oJl743GmG8ZPLA5DPnYJrV/aZTg=\", false, function () {\n  return [usePrevious];\n});\n_c = Brush;\nvar _c;\n$RefreshReg$(_c, \"Brush\");","map":{"version":3,"names":["brushHandleAccentPath","brushHandlePath","OffScreenHandle","brushX","select","usePrevious","React","useCallback","useEffect","useMemo","useRef","useState","Handle","styled","path","color","HandleAccent","theme","white","opacity","hover","LabelGroup","g","visible","TooltipBackground","rect","backgroundInteractive","Tooltip","text","textPrimary","FLIP_HANDLE_THRESHOLD_PX","BRUSH_EXTENT_MARGIN_PX","compare","a","b","xScale","aNorm","map","x","toFixed","bNorm","every","v","i","Brush","id","interactive","brushLabelValue","brushExtent","setBrushExtent","innerWidth","innerHeight","westHandleColor","eastHandleColor","brushRef","brushBehavior","localBrushExtent","setLocalBrushExtent","showLabels","setShowLabels","hovering","setHovering","previousBrushExtent","brushed","event","type","selection","mode","scaled","invert","current","extent","Math","max","handleSize","filter","on","transition","call","move","selectAll","attr","timeout","setTimeout","clearTimeout","flipWestHandle","flipEastHandle","showWestArrow","showEastArrow","westHandleInView","eastHandleInView"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/components/LiquidityChartRangeInput/Brush.tsx"],"sourcesContent":["import { brushHandleAccentPath, brushHandlePath, OffScreenHandle } from 'components/LiquidityChartRangeInput/svg'\nimport { BrushBehavior, brushX, D3BrushEvent, ScaleLinear, select } from 'd3'\nimport usePrevious from 'hooks/usePrevious'\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react'\nimport styled from 'styled-components/macro'\n\nconst Handle = styled.path<{ color: string }>`\n  cursor: ew-resize;\n  pointer-events: none;\n\n  stroke-width: 3;\n  stroke: ${({ color }) => color};\n  fill: ${({ color }) => color};\n`\n\nconst HandleAccent = styled.path`\n  cursor: ew-resize;\n  pointer-events: none;\n\n  stroke-width: 1.5;\n  stroke: ${({ theme }) => theme.white};\n  opacity: ${({ theme }) => theme.opacity.hover};\n`\n\nconst LabelGroup = styled.g<{ visible: boolean }>`\n  opacity: ${({ visible }) => (visible ? '1' : '0')};\n  transition: opacity 300ms;\n`\n\nconst TooltipBackground = styled.rect`\n  fill: ${({ theme }) => theme.backgroundInteractive};\n`\n\nconst Tooltip = styled.text`\n  text-anchor: middle;\n  font-size: 13px;\n  fill: ${({ theme }) => theme.textPrimary};\n`\n\n// flips the handles draggers when close to the container edges\nconst FLIP_HANDLE_THRESHOLD_PX = 20\n\n// margin to prevent tick snapping from putting the brush off screen\nconst BRUSH_EXTENT_MARGIN_PX = 2\n\n/**\n * Returns true if every element in `a` maps to the\n * same pixel coordinate as elements in `b`\n */\nconst compare = (a: [number, number], b: [number, number], xScale: ScaleLinear<number, number>): boolean => {\n  // normalize pixels to 1 decimals\n  const aNorm = a.map((x) => xScale(x).toFixed(1))\n  const bNorm = b.map((x) => xScale(x).toFixed(1))\n  return aNorm.every((v, i) => v === bNorm[i])\n}\n\nexport const Brush = ({\n  id,\n  xScale,\n  interactive,\n  brushLabelValue,\n  brushExtent,\n  setBrushExtent,\n  innerWidth,\n  innerHeight,\n  westHandleColor,\n  eastHandleColor,\n}: {\n  id: string\n  xScale: ScaleLinear<number, number>\n  interactive: boolean\n  brushLabelValue: (d: 'w' | 'e', x: number) => string\n  brushExtent: [number, number]\n  setBrushExtent: (extent: [number, number], mode: string | undefined) => void\n  innerWidth: number\n  innerHeight: number\n  westHandleColor: string\n  eastHandleColor: string\n}) => {\n  const brushRef = useRef<SVGGElement | null>(null)\n  const brushBehavior = useRef<BrushBehavior<SVGGElement> | null>(null)\n\n  // only used to drag the handles on brush for performance\n  const [localBrushExtent, setLocalBrushExtent] = useState<[number, number] | null>(brushExtent)\n  const [showLabels, setShowLabels] = useState(false)\n  const [hovering, setHovering] = useState(false)\n\n  const previousBrushExtent = usePrevious(brushExtent)\n\n  const brushed = useCallback(\n    (event: D3BrushEvent<unknown>) => {\n      const { type, selection, mode } = event\n\n      if (!selection) {\n        setLocalBrushExtent(null)\n        return\n      }\n\n      const scaled = (selection as [number, number]).map(xScale.invert) as [number, number]\n\n      // avoid infinite render loop by checking for change\n      if (type === 'end' && !compare(brushExtent, scaled, xScale)) {\n        setBrushExtent(scaled, mode)\n      }\n\n      setLocalBrushExtent(scaled)\n    },\n    [xScale, brushExtent, setBrushExtent]\n  )\n\n  // keep local and external brush extent in sync\n  // i.e. snap to ticks on bruhs end\n  useEffect(() => {\n    setLocalBrushExtent(brushExtent)\n  }, [brushExtent])\n\n  // initialize the brush\n  useEffect(() => {\n    if (!brushRef.current) return\n\n    brushBehavior.current = brushX<SVGGElement>()\n      .extent([\n        [Math.max(0 + BRUSH_EXTENT_MARGIN_PX, xScale(0)), 0],\n        [innerWidth - BRUSH_EXTENT_MARGIN_PX, innerHeight],\n      ])\n      .handleSize(30)\n      .filter(() => interactive)\n      .on('brush end', brushed)\n\n    brushBehavior.current(select(brushRef.current))\n\n    if (previousBrushExtent && compare(brushExtent, previousBrushExtent, xScale)) {\n      select(brushRef.current)\n        .transition()\n        .call(brushBehavior.current.move as any, brushExtent.map(xScale))\n    }\n\n    // brush linear gradient\n    select(brushRef.current)\n      .selectAll('.selection')\n      .attr('stroke', 'none')\n      .attr('fill-opacity', '0.1')\n      .attr('fill', `url(#${id}-gradient-selection)`)\n  }, [brushExtent, brushed, id, innerHeight, innerWidth, interactive, previousBrushExtent, xScale])\n\n  // respond to xScale changes only\n  useEffect(() => {\n    if (!brushRef.current || !brushBehavior.current) return\n\n    brushBehavior.current.move(select(brushRef.current) as any, brushExtent.map(xScale) as any)\n  }, [brushExtent, xScale])\n\n  // show labels when local brush changes\n  useEffect(() => {\n    setShowLabels(true)\n    const timeout = setTimeout(() => setShowLabels(false), 1500)\n    return () => clearTimeout(timeout)\n  }, [localBrushExtent])\n\n  // variables to help render the SVGs\n  const flipWestHandle = localBrushExtent && xScale(localBrushExtent[0]) > FLIP_HANDLE_THRESHOLD_PX\n  const flipEastHandle = localBrushExtent && xScale(localBrushExtent[1]) > innerWidth - FLIP_HANDLE_THRESHOLD_PX\n\n  const showWestArrow = localBrushExtent && (xScale(localBrushExtent[0]) < 0 || xScale(localBrushExtent[1]) < 0)\n  const showEastArrow =\n    localBrushExtent && (xScale(localBrushExtent[0]) > innerWidth || xScale(localBrushExtent[1]) > innerWidth)\n\n  const westHandleInView =\n    localBrushExtent && xScale(localBrushExtent[0]) >= 0 && xScale(localBrushExtent[0]) <= innerWidth\n  const eastHandleInView =\n    localBrushExtent && xScale(localBrushExtent[1]) >= 0 && xScale(localBrushExtent[1]) <= innerWidth\n\n  return useMemo(\n    () => (\n      <>\n        <defs>\n          <linearGradient id={`${id}-gradient-selection`} x1=\"0%\" y1=\"100%\" x2=\"100%\" y2=\"100%\">\n            <stop stopColor={westHandleColor} />\n            <stop stopColor={eastHandleColor} offset=\"1\" />\n          </linearGradient>\n\n          {/* clips at exactly the svg area */}\n          <clipPath id={`${id}-brush-clip`}>\n            <rect x=\"0\" y=\"0\" width={innerWidth} height={innerHeight} />\n          </clipPath>\n        </defs>\n\n        {/* will host the d3 brush */}\n        <g\n          ref={brushRef}\n          clipPath={`url(#${id}-brush-clip)`}\n          onMouseEnter={() => setHovering(true)}\n          onMouseLeave={() => setHovering(false)}\n        />\n\n        {/* custom brush handles */}\n        {localBrushExtent && (\n          <>\n            {/* west handle */}\n            {westHandleInView ? (\n              <g\n                transform={`translate(${Math.max(0, xScale(localBrushExtent[0]))}, 0), scale(${\n                  flipWestHandle ? '-1' : '1'\n                }, 1)`}\n              >\n                <g>\n                  <Handle color={westHandleColor} d={brushHandlePath(innerHeight)} />\n                  <HandleAccent d={brushHandleAccentPath()} />\n                </g>\n\n                <LabelGroup\n                  transform={`translate(50,0), scale(${flipWestHandle ? '1' : '-1'}, 1)`}\n                  visible={showLabels || hovering}\n                >\n                  <TooltipBackground y=\"0\" x=\"-30\" height=\"30\" width=\"60\" rx=\"8\" />\n                  <Tooltip transform=\"scale(-1, 1)\" y=\"15\" dominantBaseline=\"middle\">\n                    {brushLabelValue('w', localBrushExtent[0])}\n                  </Tooltip>\n                </LabelGroup>\n              </g>\n            ) : null}\n\n            {/* east handle */}\n            {eastHandleInView ? (\n              <g transform={`translate(${xScale(localBrushExtent[1])}, 0), scale(${flipEastHandle ? '-1' : '1'}, 1)`}>\n                <g>\n                  <Handle color={eastHandleColor} d={brushHandlePath(innerHeight)} />\n                  <HandleAccent d={brushHandleAccentPath()} />\n                </g>\n\n                <LabelGroup\n                  transform={`translate(50,0), scale(${flipEastHandle ? '-1' : '1'}, 1)`}\n                  visible={showLabels || hovering}\n                >\n                  <TooltipBackground y=\"0\" x=\"-30\" height=\"30\" width=\"60\" rx=\"8\" />\n                  <Tooltip y=\"15\" dominantBaseline=\"middle\">\n                    {brushLabelValue('e', localBrushExtent[1])}\n                  </Tooltip>\n                </LabelGroup>\n              </g>\n            ) : null}\n\n            {showWestArrow && <OffScreenHandle color={westHandleColor} />}\n\n            {showEastArrow && (\n              <g transform={`translate(${innerWidth}, 0) scale(-1, 1)`}>\n                <OffScreenHandle color={eastHandleColor} />\n              </g>\n            )}\n          </>\n        )}\n      </>\n    ),\n    [\n      brushLabelValue,\n      eastHandleColor,\n      eastHandleInView,\n      flipEastHandle,\n      flipWestHandle,\n      hovering,\n      id,\n      innerHeight,\n      innerWidth,\n      localBrushExtent,\n      showEastArrow,\n      showLabels,\n      showWestArrow,\n      westHandleColor,\n      westHandleInView,\n      xScale,\n    ]\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}