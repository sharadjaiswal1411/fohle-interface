{"ast":null,"code":"import _slicedToArray from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import{keyframes as _keyframes}from\"styled-components\";import _styled from\"styled-components\";var _templateObject,_templateObject2,_templateObject3;import{Trans}from\"@lingui/react\";import{ButtonGray}from'components/Button';import{OutlineCard}from'components/Card';import{AutoColumn}from'components/Column';import{useCallback,useEffect,useState}from'react';import{Minus,Plus}from'react-feather';import{ThemedText}from'theme';import{Input as NumericalInput}from'../NumericalInput';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var pulse=function pulse(color){return _keyframes(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  0% {\\n    box-shadow: 0 0 0 0 \",\";\\n  }\\n\\n  70% {\\n    box-shadow: 0 0 0 2px \",\";\\n  }\\n\\n  100% {\\n    box-shadow: 0 0 0 0 \",\";\\n  }\\n\"])),color,color,color);};var InputRow=_styled.div.withConfig({componentId:\"sc-kflffs-0\"})([\"display:grid;grid-template-columns:30px 1fr 30px;\"]);var SmallButton=_styled(ButtonGray).withConfig({componentId:\"sc-kflffs-1\"})([\"border-radius:8px;padding:4px;\"]);var FocusedOutlineCard=_styled(OutlineCard).withConfig({componentId:\"sc-kflffs-2\"})([\"border-color:\",\";padding:12px;animation:\",\" 0.8s linear;\"],function(_ref){var active=_ref.active,theme=_ref.theme;return active&&theme.accentAction;},function(_ref2){var pulsing=_ref2.pulsing,theme=_ref2.theme;return pulsing&&pulse(theme.accentAction);});var StyledInput=_styled(NumericalInput).withConfig({componentId:\"sc-kflffs-3\"})([\"background-color:transparent;text-align:center;width:100%;font-weight:500;padding:0 10px;\",\";\",\";\"],function(_ref3){var theme=_ref3.theme;return theme.deprecated_mediaWidth.deprecated_upToSmall(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    font-size: 16px;\\n  \"])));},function(_ref4){var theme=_ref4.theme;return theme.deprecated_mediaWidth.deprecated_upToExtraSmall(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n    font-size: 12px;\\n  \"])));});var InputTitle=_styled(ThemedText.DeprecatedSmall).withConfig({componentId:\"sc-kflffs-4\"})([\"color:\",\";font-size:12px;font-weight:500;\"],function(_ref5){var theme=_ref5.theme;return theme.textSecondary;});var ButtonLabel=_styled(ThemedText.DeprecatedWhite).withConfig({componentId:\"sc-kflffs-5\"})([\"color:\",\" !important;\"],function(_ref6){var theme=_ref6.theme,disabled=_ref6.disabled;return disabled?theme.textSecondary:theme.textPrimary;});var StepCounter=function StepCounter(_ref7){var value=_ref7.value,decrement=_ref7.decrement,increment=_ref7.increment,_ref7$decrementDisabl=_ref7.decrementDisabled,decrementDisabled=_ref7$decrementDisabl===void 0?false:_ref7$decrementDisabl,_ref7$incrementDisabl=_ref7.incrementDisabled,incrementDisabled=_ref7$incrementDisabl===void 0?false:_ref7$incrementDisabl,width=_ref7.width,locked=_ref7.locked,onUserInput=_ref7.onUserInput,title=_ref7.title,tokenA=_ref7.tokenA,tokenB=_ref7.tokenB;//  for focus state, styled components doesnt let you select input parent container\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),active=_useState2[0],setActive=_useState2[1];// let user type value and only update parent value on blur\nvar _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),localValue=_useState4[0],setLocalValue=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),useLocalValue=_useState6[0],setUseLocalValue=_useState6[1];// animation if parent value updates local value\nvar _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),pulsing=_useState8[0],setPulsing=_useState8[1];var handleOnFocus=function handleOnFocus(){setUseLocalValue(true);setActive(true);};var handleOnBlur=useCallback(function(){setUseLocalValue(false);setActive(false);onUserInput(localValue);// trigger update on parent value\n},[localValue,onUserInput]);// for button clicks\nvar handleDecrement=useCallback(function(){setUseLocalValue(false);onUserInput(decrement());},[decrement,onUserInput]);var handleIncrement=useCallback(function(){setUseLocalValue(false);onUserInput(increment());},[increment,onUserInput]);useEffect(function(){if(localValue!==value&&!useLocalValue){setTimeout(function(){setLocalValue(value);// reset local value to match parent\nsetPulsing(true);// trigger animation\nsetTimeout(function(){setPulsing(false);},1800);},0);}},[localValue,useLocalValue,value]);return/*#__PURE__*/_jsx(FocusedOutlineCard,{pulsing:pulsing,active:active,onFocus:handleOnFocus,onBlur:handleOnBlur,width:width,children:/*#__PURE__*/_jsxs(AutoColumn,{gap:\"6px\",children:[/*#__PURE__*/_jsx(InputTitle,{fontSize:12,textAlign:\"center\",children:title}),/*#__PURE__*/_jsxs(InputRow,{children:[!locked&&/*#__PURE__*/_jsx(SmallButton,{onClick:handleDecrement,disabled:decrementDisabled,children:/*#__PURE__*/_jsx(ButtonLabel,{disabled:decrementDisabled,fontSize:\"12px\",children:/*#__PURE__*/_jsx(Minus,{size:18})})}),/*#__PURE__*/_jsx(StyledInput,{className:\"rate-input-0\",value:localValue,fontSize:\"20px\",disabled:locked,onUserInput:function onUserInput(val){setLocalValue(val);}}),!locked&&/*#__PURE__*/_jsx(SmallButton,{onClick:handleIncrement,disabled:incrementDisabled,children:/*#__PURE__*/_jsx(ButtonLabel,{disabled:incrementDisabled,fontSize:\"12px\",children:/*#__PURE__*/_jsx(Plus,{size:18})})})]}),/*#__PURE__*/_jsx(InputTitle,{fontSize:12,textAlign:\"center\",children:/*#__PURE__*/_jsx(Trans,{id:\"{tokenB} per {tokenA}\",values:{tokenB:tokenB,tokenA:tokenA}})})]})});};export default StepCounter;","map":{"version":3,"names":["ButtonGray","OutlineCard","AutoColumn","useCallback","useEffect","useState","Minus","Plus","ThemedText","Input","NumericalInput","pulse","color","keyframes","InputRow","styled","div","SmallButton","FocusedOutlineCard","active","theme","accentAction","pulsing","StyledInput","deprecated_mediaWidth","deprecated_upToSmall","deprecated_upToExtraSmall","InputTitle","DeprecatedSmall","textSecondary","ButtonLabel","DeprecatedWhite","disabled","textPrimary","StepCounter","value","decrement","increment","decrementDisabled","incrementDisabled","width","locked","onUserInput","title","tokenA","tokenB","setActive","localValue","setLocalValue","useLocalValue","setUseLocalValue","setPulsing","handleOnFocus","handleOnBlur","handleDecrement","handleIncrement","setTimeout","val"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/components/InputStepCounter/InputStepCounter.tsx"],"sourcesContent":["import { Trans } from '@lingui/macro'\nimport { FeeAmount } from '@uniswap/v3-sdk'\nimport { ButtonGray } from 'components/Button'\nimport { OutlineCard } from 'components/Card'\nimport { AutoColumn } from 'components/Column'\nimport { ReactNode, useCallback, useEffect, useState } from 'react'\nimport { Minus, Plus } from 'react-feather'\nimport styled, { keyframes } from 'styled-components/macro'\nimport { ThemedText } from 'theme'\n\nimport { Input as NumericalInput } from '../NumericalInput'\n\nconst pulse = (color: string) => keyframes`\n  0% {\n    box-shadow: 0 0 0 0 ${color};\n  }\n\n  70% {\n    box-shadow: 0 0 0 2px ${color};\n  }\n\n  100% {\n    box-shadow: 0 0 0 0 ${color};\n  }\n`\n\nconst InputRow = styled.div`\n  display: grid;\n\n  grid-template-columns: 30px 1fr 30px;\n`\n\nconst SmallButton = styled(ButtonGray)`\n  border-radius: 8px;\n  padding: 4px;\n`\n\nconst FocusedOutlineCard = styled(OutlineCard)<{ active?: boolean; pulsing?: boolean }>`\n  border-color: ${({ active, theme }) => active && theme.accentAction};\n  padding: 12px;\n  animation: ${({ pulsing, theme }) => pulsing && pulse(theme.accentAction)} 0.8s linear;\n`\n\nconst StyledInput = styled(NumericalInput)<{ usePercent?: boolean }>`\n  background-color: transparent;\n  text-align: center;\n  width: 100%;\n  font-weight: 500;\n  padding: 0 10px;\n\n  ${({ theme }) => theme.deprecated_mediaWidth.deprecated_upToSmall`\n    font-size: 16px;\n  `};\n\n  ${({ theme }) => theme.deprecated_mediaWidth.deprecated_upToExtraSmall`\n    font-size: 12px;\n  `};\n`\n\nconst InputTitle = styled(ThemedText.DeprecatedSmall)`\n  color: ${({ theme }) => theme.textSecondary};\n  font-size: 12px;\n  font-weight: 500;\n`\n\nconst ButtonLabel = styled(ThemedText.DeprecatedWhite)<{ disabled: boolean }>`\n  color: ${({ theme, disabled }) => (disabled ? theme.textSecondary : theme.textPrimary)} !important;\n`\n\ninterface StepCounterProps {\n  value: string\n  onUserInput: (value: string) => void\n  decrement: () => string\n  increment: () => string\n  decrementDisabled?: boolean\n  incrementDisabled?: boolean\n  feeAmount?: FeeAmount\n  label?: string\n  width?: string\n  locked?: boolean // disable input\n  title: ReactNode\n  tokenA: string | undefined\n  tokenB: string | undefined\n}\n\nconst StepCounter = ({\n  value,\n  decrement,\n  increment,\n  decrementDisabled = false,\n  incrementDisabled = false,\n  width,\n  locked,\n  onUserInput,\n  title,\n  tokenA,\n  tokenB,\n}: StepCounterProps) => {\n  //  for focus state, styled components doesnt let you select input parent container\n  const [active, setActive] = useState(false)\n\n  // let user type value and only update parent value on blur\n  const [localValue, setLocalValue] = useState('')\n  const [useLocalValue, setUseLocalValue] = useState(false)\n\n  // animation if parent value updates local value\n  const [pulsing, setPulsing] = useState<boolean>(false)\n\n  const handleOnFocus = () => {\n    setUseLocalValue(true)\n    setActive(true)\n  }\n\n  const handleOnBlur = useCallback(() => {\n    setUseLocalValue(false)\n    setActive(false)\n    onUserInput(localValue) // trigger update on parent value\n  }, [localValue, onUserInput])\n\n  // for button clicks\n  const handleDecrement = useCallback(() => {\n    setUseLocalValue(false)\n    onUserInput(decrement())\n  }, [decrement, onUserInput])\n\n  const handleIncrement = useCallback(() => {\n    setUseLocalValue(false)\n    onUserInput(increment())\n  }, [increment, onUserInput])\n\n  useEffect(() => {\n    if (localValue !== value && !useLocalValue) {\n      setTimeout(() => {\n        setLocalValue(value) // reset local value to match parent\n        setPulsing(true) // trigger animation\n        setTimeout(function () {\n          setPulsing(false)\n        }, 1800)\n      }, 0)\n    }\n  }, [localValue, useLocalValue, value])\n\n  return (\n    <FocusedOutlineCard pulsing={pulsing} active={active} onFocus={handleOnFocus} onBlur={handleOnBlur} width={width}>\n      <AutoColumn gap=\"6px\">\n        <InputTitle fontSize={12} textAlign=\"center\">\n          {title}\n        </InputTitle>\n\n        <InputRow>\n          {!locked && (\n            <SmallButton onClick={handleDecrement} disabled={decrementDisabled}>\n              <ButtonLabel disabled={decrementDisabled} fontSize=\"12px\">\n                <Minus size={18} />\n              </ButtonLabel>\n            </SmallButton>\n          )}\n\n          <StyledInput\n            className=\"rate-input-0\"\n            value={localValue}\n            fontSize=\"20px\"\n            disabled={locked}\n            onUserInput={(val) => {\n              setLocalValue(val)\n            }}\n          />\n\n          {!locked && (\n            <SmallButton onClick={handleIncrement} disabled={incrementDisabled}>\n              <ButtonLabel disabled={incrementDisabled} fontSize=\"12px\">\n                <Plus size={18} />\n              </ButtonLabel>\n            </SmallButton>\n          )}\n        </InputRow>\n\n        <InputTitle fontSize={12} textAlign=\"center\">\n          <Trans>\n            {tokenB} per {tokenA}\n          </Trans>\n        </InputTitle>\n      </AutoColumn>\n    </FocusedOutlineCard>\n  )\n}\n\nexport default StepCounter\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}