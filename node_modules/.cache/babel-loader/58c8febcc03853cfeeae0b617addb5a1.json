{"ast":null,"code":"import{useEffect}from'react';import{useAppDispatch}from'state/hooks';import{updateMatchesDarkMode}from'./reducer';export default function Updater(){var dispatch=useAppDispatch();// keep dark mode in sync with the system\nuseEffect(function(){var _window;var darkHandler=function darkHandler(match){dispatch(updateMatchesDarkMode({matchesDarkMode:match.matches}));};var match=(_window=window)===null||_window===void 0?void 0:_window.matchMedia('(prefers-color-scheme: dark)');dispatch(updateMatchesDarkMode({matchesDarkMode:match.matches}));if(match===null||match===void 0?void 0:match.addListener){match===null||match===void 0?void 0:match.addListener(darkHandler);}else if(match===null||match===void 0?void 0:match.addEventListener){match===null||match===void 0?void 0:match.addEventListener('change',darkHandler);}return function(){if(match===null||match===void 0?void 0:match.removeListener){match===null||match===void 0?void 0:match.removeListener(darkHandler);}else if(match===null||match===void 0?void 0:match.removeEventListener){match===null||match===void 0?void 0:match.removeEventListener('change',darkHandler);}};},[dispatch]);return null;}","map":{"version":3,"names":["useEffect","useAppDispatch","updateMatchesDarkMode","Updater","dispatch","darkHandler","match","matchesDarkMode","matches","window","matchMedia","addListener","addEventListener","removeListener","removeEventListener"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/fohle-interface/src/state/user/updater.tsx"],"sourcesContent":["import { useEffect } from 'react'\nimport { useAppDispatch } from 'state/hooks'\n\nimport { updateMatchesDarkMode } from './reducer'\n\nexport default function Updater(): null {\n  const dispatch = useAppDispatch()\n\n  // keep dark mode in sync with the system\n  useEffect(() => {\n    const darkHandler = (match: MediaQueryListEvent) => {\n      dispatch(updateMatchesDarkMode({ matchesDarkMode: match.matches }))\n    }\n\n    const match = window?.matchMedia('(prefers-color-scheme: dark)')\n    dispatch(updateMatchesDarkMode({ matchesDarkMode: match.matches }))\n\n    if (match?.addListener) {\n      match?.addListener(darkHandler)\n    } else if (match?.addEventListener) {\n      match?.addEventListener('change', darkHandler)\n    }\n\n    return () => {\n      if (match?.removeListener) {\n        match?.removeListener(darkHandler)\n      } else if (match?.removeEventListener) {\n        match?.removeEventListener('change', darkHandler)\n      }\n    }\n  }, [dispatch])\n\n  return null\n}\n"],"mappings":"AAAA,OAASA,SAAS,KAAQ,OAAO,CACjC,OAASC,cAAc,KAAQ,aAAa,CAE5C,OAASC,qBAAqB,KAAQ,WAAW,CAEjD,cAAe,SAASC,QAAO,EAAS,CACtC,GAAMC,SAAQ,CAAGH,cAAc,EAAE,CAEjC;AACAD,SAAS,CAAC,UAAM,aACd,GAAMK,YAAW,CAAG,QAAdA,YAAW,CAAIC,KAA0B,CAAK,CAClDF,QAAQ,CAACF,qBAAqB,CAAC,CAAEK,eAAe,CAAED,KAAK,CAACE,OAAQ,CAAC,CAAC,CAAC,CACrE,CAAC,CAED,GAAMF,MAAK,UAAGG,MAAM,kCAAN,QAAQC,UAAU,CAAC,8BAA8B,CAAC,CAChEN,QAAQ,CAACF,qBAAqB,CAAC,CAAEK,eAAe,CAAED,KAAK,CAACE,OAAQ,CAAC,CAAC,CAAC,CAEnE,GAAIF,KAAK,SAALA,KAAK,iBAALA,KAAK,CAAEK,WAAW,CAAE,CACtBL,KAAK,SAALA,KAAK,iBAALA,KAAK,CAAEK,WAAW,CAACN,WAAW,CAAC,CACjC,CAAC,IAAM,IAAIC,KAAK,SAALA,KAAK,iBAALA,KAAK,CAAEM,gBAAgB,CAAE,CAClCN,KAAK,SAALA,KAAK,iBAALA,KAAK,CAAEM,gBAAgB,CAAC,QAAQ,CAAEP,WAAW,CAAC,CAChD,CAEA,MAAO,WAAM,CACX,GAAIC,KAAK,SAALA,KAAK,iBAALA,KAAK,CAAEO,cAAc,CAAE,CACzBP,KAAK,SAALA,KAAK,iBAALA,KAAK,CAAEO,cAAc,CAACR,WAAW,CAAC,CACpC,CAAC,IAAM,IAAIC,KAAK,SAALA,KAAK,iBAALA,KAAK,CAAEQ,mBAAmB,CAAE,CACrCR,KAAK,SAALA,KAAK,iBAALA,KAAK,CAAEQ,mBAAmB,CAAC,QAAQ,CAAET,WAAW,CAAC,CACnD,CACF,CAAC,CACH,CAAC,CAAE,CAACD,QAAQ,CAAC,CAAC,CAEd,MAAO,KAAI,CACb"},"metadata":{},"sourceType":"module"}